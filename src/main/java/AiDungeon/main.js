(this.webpackJsonpweb = this.webpackJsonpweb || []).push([
    [0], {
        487: function(e) {
            e.exports = JSON.parse('{"__schema":{"types":[{"kind":"INTERFACE","name":"Votable","possibleTypes":[{"name":"Adventure"},{"name":"Comment"},{"name":"Scenario"}]},{"kind":"INTERFACE","name":"Commentable","possibleTypes":[{"name":"Adventure"},{"name":"Scenario"}]},{"kind":"INTERFACE","name":"Savable","possibleTypes":[{"name":"Adventure"},{"name":"Scenario"}]},{"kind":"INTERFACE","name":"Searchable","possibleTypes":[{"name":"Adventure"},{"name":"Scenario"}]}]}}')
        },
        505: function(e, t, n) {
            e.exports = n.p + "static/media/DownloadAndroidApp.c68e1c2f.svg"
        },
        506: function(e, t, n) {
            e.exports = n.p + "static/media/DownloadIOSApp.b3a8cb2e.svg"
        },
        508: function(e, t, n) {
            e.exports = n.p + "static/media/PoweredByStripe.082ede83.svg"
        },
        516: function(e, t, n) {
            e.exports = n(761)
        },
        521: function(e, t, n) {},
        76: function(e, t, n) {
            e.exports = n.p + "static/media/LatitudeLogoLight.6ecb9386.png"
        },
        760: function(e, t, n) {},
        761: function(e, t, n) {
            "use strict";
            n.r(t);
            var a = n(0),
                r = n.n(a),
                o = n(103),
                i = n.n(o),
                l = (n(521), Boolean("localhost" === window.location.hostname || "[::1]" === window.location.hostname || window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)), n(253)),
                c = n(69),
                u = n(13),
                s = n(342),
                d = n(26),
                m = n(106),
                f = (n(763), n(451)),
                b = n.n(f),
                y = n(452),
                v = n.n(y),
                g = n(1),
                p = n(5),
                h = n(780),
                E = n(449),
                x = n(10),
                w = n(11),
                S = n.n(w),
                O = n(17),
                j = n(495),
                C = n(20),
                T = n(8),
                k = n.n(T),
                A = n(9),
                I = n(6),
                P = n(3),
                L = n(16),
                B = n(2),
                F = n(28),
                z = "https://aidungeon-images.s3.us-east-2.amazonaws.com/portraits/",
                M = ["contrib1.png"],
                R = n(40),
                D = function(e) {
                    var t = N({
                        default: 1,
                        iPhone5: 1,
                        tablet: 1.6,
                        tabletLarge: 1.6
                    });
                    return Math.floor(t * e)
                },
                N = function(e) {
                    var t, n, a, r, o, i, l, c, u, s, d, m, f, b = R.a.get("window"),
                        y = b.width,
                        v = b.height;
                    return "android" === A.a.OS ? null !== (t = e.android) && void 0 !== t ? t : e.default : "ios" !== A.a.OS || 568 !== y && 568 !== v ? "ios" !== A.a.OS || 812 !== y && 812 !== v ? "ios" !== A.a.OS || 896 !== y && 896 !== v ? "web" === A.a.OS && y >= 800 ? null !== (i = null !== (l = null !== (c = e.webWide) && void 0 !== c ? c : e.web) && void 0 !== l ? l : e.tabletLarge) && void 0 !== i ? i : e.default : "web" === A.a.OS && y >= 600 ? null !== (u = null !== (s = e.web) && void 0 !== s ? s : e.tablet) && void 0 !== u ? u : e.default : e.tablet && y >= 1e3 ? null !== (d = null !== (m = e.tabletLarge) && void 0 !== m ? m : e.tablet) && void 0 !== d ? d : e.default : e.tablet && y >= 768 && null !== (f = e.tablet) && void 0 !== f ? f : e.default : null !== (r = null !== (o = e.iPhoneXR) && void 0 !== o ? o : e.iPhoneX) && void 0 !== r ? r : e.default : null !== (a = e.iPhoneX) && void 0 !== a ? a : e.default : null !== (n = e.iPhone5) && void 0 !== n ? n : e.default
                },
                V = {
                    background: "#000000",
                    secondaryBackground: "#3b3b3b",
                    text: "#ffffff",
                    secondaryText: "#999999",
                    border: "#ffffff",
                    secondaryBorder: "#222222",
                    alert: "#c92c20",
                    alertText: "#ffb3ad",
                    card: "#3b3b3b"
                },
                W = {
                    background: "#ffffff",
                    secondaryBackground: "#e3e3e3",
                    text: "#111111",
                    secondaryText: "#999999",
                    border: "#111111",
                    secondaryBorder: "#cccccc",
                    alert: "#ffb3ad",
                    alertText: "#c92c20",
                    card: "#ffffff"
                },
                H = {
                    clear: "rgba(0, 0, 0, 0)",
                    transparent: "rgba(0, 0, 0, 0.7)",
                    background: "#000000"
                },
                U = {
                    primary: "#707070",
                    secondary: "#707070",
                    text: "#ffffff",
                    secondaryText: "#eeeeee",
                    storyText: "#111111"
                },
                q = {
                    primary: "#707070",
                    secondary: "#707070",
                    text: "#ffffff",
                    secondaryText: "#eeeeee",
                    storyText: "#ffffff"
                },
                G = {
                    primary: "#9214ff",
                    secondary: "#9214ff",
                    text: "#ffffff",
                    secondaryText: "#edd9ff",
                    storyText: "#9214ff"
                },
                Y = {
                    primary: "#b259ff",
                    secondary: "#b259ff",
                    text: "#ffffff",
                    secondaryText: "#f4e8ff",
                    storyText: "#b259ff"
                },
                Q = {
                    primary: "#e0a900",
                    secondary: "#e0a900",
                    text: "#ffffff",
                    secondaryText: "#fff8e3",
                    storyText: "#e0a900"
                },
                $ = {
                    primary: "#ffbf00",
                    secondary: "#ffbf00",
                    text: "#000000",
                    secondaryText: "#111111",
                    storyText: "#ffbf00"
                },
                _ = {
                    primary: "#17a41a",
                    secondary: "#17a41a",
                    text: "#ffffff",
                    secondaryText: "#cfffcf",
                    storyText: "#17a41a"
                },
                X = {
                    primary: "#3bfc34",
                    secondary: "#3bfc34",
                    text: "#000000",
                    secondaryText: "#111111",
                    storyText: "#3bfc34"
                },
                J = {
                    primary: "#576dff",
                    secondary: "#e846eb",
                    text: "#ffffff",
                    secondaryText: "#e3e7ff",
                    storyText: "#111111"
                },
                K = {
                    primary: "#576dff",
                    secondary: "#e846eb",
                    text: "#ffffff",
                    secondaryText: "#e3e7ff",
                    storyText: "#ffffff"
                },
                Z = {
                    primary: "#00c1d6",
                    secondary: "#00bd74",
                    text: "#ffffff",
                    secondaryText: "#e8feff",
                    storyText: "#111111"
                },
                ee = {
                    primary: "#00c1d6",
                    secondary: "#00bd74",
                    text: "#ffffff",
                    secondaryText: "#e8feff",
                    storyText: "#3decff"
                },
                te = {
                    primary: "#f2003d",
                    secondary: "#f26900",
                    text: "#ffffff",
                    secondaryText: "#ffd9e2",
                    storyText: "#f2003d"
                },
                ne = {
                    primary: "#f2003d",
                    secondary: "#f26900",
                    text: "#ffffff",
                    secondaryText: "#ffd9e2",
                    storyText: "#ffa857"
                },
                ae = {
                    primary: "#ff30be",
                    secondary: "#7200b0",
                    text: "#ffffff",
                    secondaryText: "#ffdef5",
                    storyText: "#7200b0"
                },
                re = {
                    primary: "#ff30be",
                    secondary: "#7200b0",
                    text: "#ffffff",
                    secondaryText: "#ffdef5",
                    storyText: "#ff30be"
                },
                oe = {
                    text: "#FFFFFF",
                    secondaryText: "#DDDDDD",
                    placeholderText: "#797676",
                    disabledText: "#9c9c9c",
                    tipText: "#999999",
                    messageText: "#999999",
                    errorText: "#FF9494",
                    background: H.background,
                    secondaryBackground: "#3c344a",
                    highlightBackground: "#4e4c52",
                    popupBackground: "#0A060F",
                    helpBackground: "#AAAAAA",
                    errorBackground: "#000000",
                    buttonBackground: "#515255",
                    link: "#adb2ff",
                    icon: "#FFFFFF",
                    loading: "#FFFFFF",
                    divider: "#FFFFFF",
                    alert: "#ffb3ad",
                    nsfw: "#ffb3ad",
                    border: "#FFFFFF",
                    secondaryBorder: "#555555",
                    textInputBorder: "#3c344a",
                    logoutBorder: "#999999",
                    sliderMin: "#FFFFFF",
                    sliderThumb: "#009999",
                    sliderMax: "#666666",
                    subscriptionText: "#5c5c5c",
                    subscriptionBackground: "#FFFFFF",
                    subscriptionOverlayBackground: "#2D2E31",
                    subscriptionCheck: "#1CCB0E",
                    statusActive: "#1CCB0E",
                    statusPastDue: "#E8CF06",
                    statusCancelling: "#E8CF06",
                    statusCancelled: "#D9080D",
                    subscriptionButton: "#9214ff",
                    subscriptionCardBase: "#383e4b",
                    subscriptionCardInvalid: "#fa755a",
                    scenarioLogBackground: "#111111",
                    scenarioLogBorder: "#666666",
                    modelQualityBackground: "#e26a00",
                    modelGradientFrom: "#fb8c00",
                    modelGradientTo: "#ffa726",
                    clear: "rgba(0, 0, 0, 0)",
                    transparent: "rgba(0, 0, 0, 0.7)",
                    shadow: "#FFFFFF",
                    latitudePurple: "#8059f7",
                    latitudeTeal: "#8ce8de",
                    latitudeTealFaded: "#8ce8de66"
                },
                ie = {
                    header: "ios" === A.a.OS ? "HelveticaNeue-Bold" : "HelveticaNeue-Bold, Helvetica, sans-serif",
                    body: "ios" === A.a.OS ? "HelveticaNeue-Light" : "HelveticaNeue-Light, Helvetica, sans-serif"
                },
                le = {
                    xLarge: N({
                        default: 36,
                        iPhone5: 25,
                        tablet: 38,
                        tabletLarge: 38
                    }),
                    large: N({
                        default: 24,
                        iPhone5: 18,
                        tablet: 26,
                        tabletLarge: 28
                    }),
                    medium: N({
                        default: 18,
                        iPhone5: 14,
                        tablet: 20,
                        tabletLarge: 24
                    }),
                    small: N({
                        default: 14,
                        iPhone5: 10,
                        tablet: 18,
                        tabletLarge: 20
                    }),
                    xSmall: N({
                        default: 12,
                        iPhone5: 9,
                        tablet: 16,
                        tabletLarge: 16
                    }),
                    iconButton: 24
                },
                ce = function(e, t) {
                    return {
                        header: {
                            fontSize: le.large,
                            fontFamily: ie.header,
                            color: e.text,
                            backgroundColor: e.secondaryBackground,
                            marginBottom: 20,
                            padding: 15
                        },
                        subHeader: {
                            fontSize: le.medium,
                            fontFamily: ie.header,
                            color: e.text,
                            marginBottom: 20
                        },
                        subHeaderLink: {
                            fontSize: le.medium,
                            fontFamily: ie.header,
                            color: null === t || void 0 === t ? void 0 : t.primary,
                            marginBottom: 20
                        },
                        title: {
                            fontSize: le.xLarge,
                            fontFamily: ie.body,
                            color: e.text
                        },
                        smallTitle: {
                            fontSize: le.large,
                            fontFamily: ie.body,
                            color: e.text
                        },
                        cardTitle: {
                            fontSize: le.medium,
                            fontFamily: ie.header,
                            color: e.text,
                            marginVertical: 10
                        },
                        body: {
                            fontSize: le.small,
                            fontFamily: ie.body,
                            color: e.text
                        },
                        contribBody: {
                            fontSize: le.small,
                            fontFamily: ie.body,
                            color: e.text,
                            marginBottom: 10
                        },
                        smallBody: {
                            fontSize: le.xSmall,
                            fontFamily: ie.body,
                            color: e.text
                        },
                        bodyLink: {
                            fontSize: le.small,
                            fontFamily: ie.body,
                            color: null === t || void 0 === t ? void 0 : t.primary
                        },
                        bulletPoint: {
                            fontSize: le.small,
                            fontFamily: ie.body,
                            color: e.text,
                            marginRight: 15
                        }
                    }
                },
                ue = function(e) {
                    return {
                        overlay: {
                            overlay: {
                                position: "absolute",
                                right: 0,
                                left: 0,
                                top: N({
                                    default: "15%",
                                    web: "15%"
                                }),
                                padding: 0,
                                marginHorizontal: N({
                                    default: "10%",
                                    web: "25%"
                                }),
                                height: "auto",
                                width: "auto",
                                borderWidth: 2,
                                borderRadius: 10,
                                borderColor: e.secondaryBackground,
                                backgroundColor: e.background
                            },
                            container: {
                                width: "100%",
                                height: "100%"
                            },
                            background: {
                                position: "absolute",
                                width: "100%",
                                height: "100%",
                                borderColor: H.transparent
                            }
                        },
                        child: {
                            flexGrow: 1
                        },
                        basic: {
                            flex: 1,
                            display: "flex"
                        },
                        row: {
                            flexGrow: 1,
                            display: "flex",
                            flexDirection: "row",
                            alignItems: "center",
                            marginVertical: 10
                        },
                        column: {
                            display: "flex",
                            flexDirection: "column"
                        },
                        screen: {
                            flexGrow: 1,
                            display: "flex",
                            flexDirection: "column",
                            alignItems: "center",
                            justifyContent: "flex-start",
                            paddingBottom: 40,
                            paddingTop: 64,
                            backgroundColor: e.background
                        },
                        content: {
                            flexGrow: 1,
                            display: "flex",
                            alignItems: "stretch",
                            justifyContent: "flex-start",
                            width: "83.33%",
                            marginVertical: 10,
                            maxWidth: 800
                        },
                        card: {
                            display: "flex",
                            borderRadius: 5,
                            padding: 15,
                            marginVertical: 10,
                            backgroundColor: e.card
                        },
                        horizontalCard: {
                            display: "flex",
                            width: 300,
                            borderRadius: 5,
                            padding: 15,
                            marginVertical: 10,
                            marginHorizontal: 10,
                            backgroundColor: e.card
                        },
                        shadow: {
                            shadowOffset: {
                                width: 0,
                                height: 10
                            },
                            shadowColor: H.transparent,
                            shadowOpacity: .5,
                            shadowRadius: 5,
                            elevation: 1
                        },
                        latitudeLogo: {
                            position: "absolute",
                            bottom: N({
                                default: 10,
                                iPhoneX: 25
                            }),
                            left: "50%",
                            width: 150,
                            height: 22,
                            marginLeft: -75
                        },
                        latitudeLogoHeader: {
                            width: 150,
                            height: 22,
                            margin: 10,
                            marginRight: 20
                        },
                        footer: {
                            paddingHorizontal: "5%",
                            paddingBottom: 32,
                            backgroundColor: e.background
                        },
                        display: {
                            flex: 1,
                            marginTop: N({
                                default: 64,
                                web: 100
                            })
                        }
                    }
                },
                se = function(e) {
                    var t = e.mode,
                        n = e.theme,
                        a = function(e) {
                            return "light" === e ? W : V
                        }(t),
                        r = function(e, t) {
                            return "light" === t ? "terminal" === e ? _ : "bubble" === e ? J : "ocean" === e ? Z : "sunset" === e ? te : "boba" === e ? ae : "amber" === e ? Q : "purple" === e ? G : "gray" === e ? U : J : "terminal" === e ? X : "bubble" === e ? K : "ocean" === e ? ee : "sunset" === e ? ne : "boba" === e ? re : "amber" === e ? $ : "purple" === e ? Y : "gray" === e ? q : K
                        }(n, t),
                        o = ue(a),
                        i = ce(a, r);
                    return {
                        userMode: a,
                        isDarkMode: "dark" === t,
                        userTheme: r,
                        common: H,
                        containerStyles: o,
                        textStyles: i,
                        fontSizes: le,
                        fonts: ie
                    }
                },
                de = Object(g.a)({}, oe),
                me = ue(de),
                fe = ce(de),
                be = r.a.createContext({}),
                ye = function() {
                    return r.a.useContext(be)
                },
                ve = function(e) {
                    var t = e.children;
                    return r.a.createElement(be.Provider, {
                        value: {
                            SAFETY: !1,
                            COMMENT_EDIT: !1,
                            ACHIEVEMENTS: !1,
                            REWARDS: !1,
                            HALLOWEEN: !1,
                            NEW_EXPLORE: !1
                        }
                    }, t)
                },
                ge = n(219),
                pe = n.n(ge),
                he = function(e) {
                    return pe.a.getItem(e).then((function(e) {
                        try {
                            return JSON.parse(e)
                        } catch (t) {
                            return e
                        }
                    }))
                },
                Ee = function(e, t) {
                    var n = "string" !== typeof t ? JSON.stringify(t) : t;
                    return pe.a.setItem(e, n)
                },
                xe = function() {
                    pe.a.clear()
                },
                we = r.a.createContext({
                    mode: "dark",
                    theme: "bubble",
                    setTheme: function() {},
                    setMode: function() {}
                }),
                Se = function() {
                    return r.a.useContext(we)
                },
                Oe = function(e) {
                    var t = e.children,
                        n = Object(a.useState)("dark"),
                        o = Object(p.a)(n, 2),
                        i = o[0],
                        l = o[1],
                        c = Object(a.useState)("bubble"),
                        u = Object(p.a)(c, 2),
                        s = u[0],
                        d = u[1];
                    Object(a.useEffect)((function() {
                        (function() {
                            var e = Object(O.a)(S.a.mark((function e() {
                                var t, n;
                                return S.a.wrap((function(e) {
                                    for (;;) switch (e.prev = e.next) {
                                        case 0:
                                            return e.next = 2, he("STYLE_MODE");
                                        case 2:
                                            return t = e.sent, e.next = 5, he("STYLE_THEME");
                                        case 5:
                                            n = e.sent, t && m(t), n && f(n);
                                        case 8:
                                        case "end":
                                            return e.stop()
                                    }
                                }), e)
                            })));
                            return function() {
                                return e.apply(this, arguments)
                            }
                        })()()
                    }), []);
                    var m = function() {
                            var e = Object(O.a)(S.a.mark((function e(t) {
                                return S.a.wrap((function(e) {
                                    for (;;) switch (e.prev = e.next) {
                                        case 0:
                                            Ee("STYLE_MODE", t), l(t);
                                        case 2:
                                        case "end":
                                            return e.stop()
                                    }
                                }), e)
                            })));
                            return function(t) {
                                return e.apply(this, arguments)
                            }
                        }(),
                        f = function() {
                            var e = Object(O.a)(S.a.mark((function e(t) {
                                return S.a.wrap((function(e) {
                                    for (;;) switch (e.prev = e.next) {
                                        case 0:
                                            Ee("STYLE_THEME", t), d(t);
                                        case 2:
                                        case "end":
                                            return e.stop()
                                    }
                                }), e)
                            })));
                            return function(t) {
                                return e.apply(this, arguments)
                            }
                        }();
                    return r.a.createElement(we.Provider, {
                        value: {
                            mode: i,
                            setMode: m,
                            theme: s,
                            setTheme: f
                        }
                    }, t)
                },
                je = n(293),
                Ce = n(490),
                Te = n(488),
                ke = {
                    setLoggedInUser: function() {
                        var e = Object(O.a)(S.a.mark((function e(t) {
                            var n;
                            return S.a.wrap((function(e) {
                                for (;;) switch (e.prev = e.next) {
                                    case 0:
                                        return e.next = 2, Ee("LOGGED_IN_USER", t);
                                    case 2:
                                        return n = e.sent, ze(), e.abrupt("return", n);
                                    case 5:
                                    case "end":
                                        return e.stop()
                                }
                            }), e)
                        })));
                        return function(t) {
                            return e.apply(this, arguments)
                        }
                    }(),
                    getLoggedInUser: function() {
                        var e = Object(O.a)(S.a.mark((function e() {
                            var t;
                            return S.a.wrap((function(e) {
                                for (;;) switch (e.prev = e.next) {
                                    case 0:
                                        return e.next = 2, he("LOGGED_IN_USER");
                                    case 2:
                                        return t = e.sent, e.abrupt("return", t);
                                    case 4:
                                    case "end":
                                        return e.stop()
                                }
                            }), e)
                        })));
                        return function() {
                            return e.apply(this, arguments)
                        }
                    }(),
                    logout: function() {
                        var e = Object(O.a)(S.a.mark((function e() {
                            return S.a.wrap((function(e) {
                                for (;;) switch (e.prev = e.next) {
                                    case 0:
                                        return e.next = 2, Fe.resetStore().catch((function(e) {
                                            throw Error(e)
                                        }));
                                    case 2:
                                        return e.next = 4, xe();
                                    case 4:
                                        ze();
                                    case 5:
                                    case "end":
                                        return e.stop()
                                }
                            }), e)
                        })));
                        return function() {
                            return e.apply(this, arguments)
                        }
                    }()
                },
                Ae = n(487),
                Ie = new je.b({
                    introspectionQueryResultData: Ae
                }),
                Pe = new Te.a({
                    uri: "wss://api.aidungeon.io/subscriptions",
                    options: {
                        reconnect: !0,
                        timeout: 25e3,
                        inactivityTimeout: 25e3,
                        connectionParams: function() {
                            var e = Object(O.a)(S.a.mark((function e() {
                                var t, n;
                                return S.a.wrap((function(e) {
                                    for (;;) switch (e.prev = e.next) {
                                        case 0:
                                            return e.next = 2, ke.getLoggedInUser();
                                        case 2:
                                            return t = e.sent, n = null === t || void 0 === t ? void 0 : t.accessToken, e.abrupt("return", {
                                                token: n ? "".concat(n) : ""
                                            });
                                        case 5:
                                        case "end":
                                            return e.stop()
                                    }
                                }), e)
                            })));
                            return function() {
                                return e.apply(this, arguments)
                            }
                        }()
                    }
                });
            Pe.subscriptionClient.use([{
                applyMiddleware: function(e, t) {
                    e.auth = {
                        token: "hello"
                    }, t()
                }
            }]);
            var Le = Object(Ce.a)(function() {
                    var e = Object(O.a)(S.a.mark((function e(t, n) {
                        var a, r, o;
                        return S.a.wrap((function(e) {
                            for (;;) switch (e.prev = e.next) {
                                case 0:
                                    return a = n.headers, e.next = 3, ke.getLoggedInUser();
                                case 3:
                                    return r = e.sent, o = null === r || void 0 === r ? void 0 : r.accessToken, e.abrupt("return", {
                                        headers: Object(g.a)(Object(g.a)({}, a), {}, {
                                            "X-Access-Token": o ? "".concat(o) : ""
                                        })
                                    });
                                case 6:
                                case "end":
                                    return e.stop()
                            }
                        }), e)
                    })));
                    return function(t, n) {
                        return e.apply(this, arguments)
                    }
                }()).concat(Pe),
                Be = new je.a({
                    fragmentMatcher: Ie,
                    dataIdFromObject: function(e) {
                        return e.__typename, Object(je.c)(e)
                    },
                    cacheRedirects: {
                        Query: {
                            content: function(e, t, n) {
                                (0, n.getCacheKey)({
                                    __typename: "Content",
                                    id: null === t || void 0 === t ? void 0 : t.id
                                })
                            }
                        },
                        User: {
                            content: function(e, t, n) {
                                (0, n.getCacheKey)({
                                    __typename: "Content",
                                    id: null === t || void 0 === t ? void 0 : t.id
                                })
                            }
                        }
                    }
                });
            Be.writeData({
                data: {
                    activeOverlay: {
                        __typename: "ActiveOverlay",
                        name: "",
                        params: null
                    }
                }
            });
            var Fe = new u.ApolloClient({
                    link: Le,
                    cache: Be,
                    resolvers: {},
                    defaultOptions: {
                        query: {
                            partialRefetch: !0
                        }
                    }
                }),
                ze = function() {
                    Pe.subscriptionClient.close(), Pe.subscriptionClient.connect()
                };

            function Me() {
                var e = Object(x.a)(["\nmutation ($input: EventInput){\n  sendServerEvent(input: $input)\n}\n"]);
                return Me = function() {
                    return e
                }, e
            }

            function Re() {
                var e = Object(x.a)(["\nmutation ($input: EventInput){\n  sendEvent(input: $input)\n}\n"]);
                return Re = function() {
                    return e
                }, e
            }
            var De = k()(Re()),
                Ne = (k()(Me()), function() {
                    var e = Object(O.a)(S.a.mark((function e(t) {
                        var n, a, r;
                        return S.a.wrap((function(e) {
                            for (;;) switch (e.prev = e.next) {
                                case 0:
                                    if (n = t.eventName, a = t.variation, r = t.value, n) {
                                        e.next = 3;
                                        break
                                    }
                                    throw Error("Event name is required.");
                                case 3:
                                    Fe.mutate({
                                        mutation: De,
                                        variables: {
                                            input: {
                                                eventName: n,
                                                variation: a,
                                                value: r,
                                                platform: A.a.OS
                                            }
                                        }
                                    });
                                case 4:
                                case "end":
                                    return e.stop()
                            }
                        }), e)
                    })));
                    return function(t) {
                        return e.apply(this, arguments)
                    }
                }()),
                Ve = function() {
                    return r.a.createElement(r.a.Fragment, null)
                },
                We = n(18),
                He = n(181),
                Ue = n(270),
                qe = function(e) {
                    var t = e.iconName,
                        n = e.type,
                        a = Object(We.a)(e, ["iconName", "type"]),
                        o = null !== n && void 0 !== n ? n : "material",
                        i = se(Se()).userMode;
                    return r.a.createElement(r.a.Fragment, null, "material" === o && r.a.createElement(Ue.a, Object.assign({
                        name: t,
                        color: i.text
                    }, a)), "awesome" === o && r.a.createElement(He.a, Object.assign({
                        name: t,
                        color: i.text
                    }, a)))
                },
                Ge = function() {
                    var e = se(Se()),
                        t = e.userMode,
                        n = e.fontSizes,
                        a = e.fonts;
                    return Object(g.a)(Object(g.a)({}, e), {}, {
                        menuItem: {
                            flexDirection: "row",
                            alignItems: "center",
                            marginVertical: N({
                                default: 10,
                                iPhone5: 8,
                                android: 8
                            })
                        },
                        menuItemText: {
                            color: t.text,
                            fontSize: n.small,
                            fontFamily: a.body
                        },
                        iconStyle: {
                            paddingRight: 10
                        }
                    })
                },
                Ye = function(e) {
                    var t = e.iconType,
                        n = e.onPress,
                        a = e.label,
                        o = e.iconName,
                        i = e.color,
                        l = e.link,
                        c = e.size,
                        u = e.accessibilityLabel,
                        s = null !== c && void 0 !== c ? c : N({
                            default: 25,
                            web: 32
                        }),
                        d = Ge();
                    return r.a.createElement(r.a.Fragment, null, !!l && r.a.createElement(L.a, {
                        onPress: n,
                        style: d.menuItem,
                        accessibilityRole: "link",
                        accessibilityLabel: null !== u && void 0 !== u ? u : a
                    }, !!o && r.a.createElement(qe, {
                        type: t,
                        style: d.iconStyle,
                        name: o,
                        size: s,
                        color: null !== i && void 0 !== i ? i : d.userTheme.primary
                    }), r.a.createElement(P.a, {
                        style: d.menuItemText,
                        href: l,
                        target: "_blank",
                        accessibilityRole: "link"
                    }, a)), !l && r.a.createElement(L.a, {
                        onPress: n,
                        style: d.menuItem,
                        accessibilityRole: "button",
                        accessibilityLabel: null !== u && void 0 !== u ? u : a
                    }, !!o && r.a.createElement(qe, {
                        type: t,
                        style: d.iconStyle,
                        name: o,
                        size: s,
                        color: null !== i && void 0 !== i ? i : d.userTheme.primary
                    }), r.a.createElement(P.a, {
                        style: d.menuItemText
                    }, a)))
                };

            function Qe() {
                var e = Object(x.a)(["\n    fragment SubscriptionStatusFragment on User {\n      id\n      hasPremium\n      subscription {\n        id\n        status\n      }\n    }\n  "]);
                return Qe = function() {
                    return e
                }, e
            }
            var $e = function(e) {
                var t, n = e.user,
                    a = null === n || void 0 === n || null === (t = n.subscription) || void 0 === t ? void 0 : t.status,
                    o = null === n || void 0 === n ? void 0 : n.hasPremium,
                    i = _e(),
                    l = i.textStyles;
                return a ? r.a.createElement(B.a, {
                    style: i.container
                }, r.a.createElement(P.a, {
                    style: l.body
                }, "Subscription: ", a), "active" === a && r.a.createElement(qe, {
                    name: "check-circle",
                    type: "awesome",
                    color: de.statusActive,
                    size: 14,
                    style: {
                        paddingLeft: 10
                    }
                }), "past_due" === a && r.a.createElement(qe, {
                    name: "clock-alert",
                    color: de.statusPastDue,
                    size: 14,
                    style: {
                        paddingLeft: 10
                    }
                }), "cancelling" === a && r.a.createElement(qe, {
                    name: "clock-alert",
                    color: de.statusCancelling,
                    size: 14,
                    style: {
                        paddingLeft: 10
                    }
                }), "canceled" === a && o && r.a.createElement(qe, {
                    name: "clock-alert",
                    color: de.statusCancelling,
                    size: 14,
                    style: {
                        paddingLeft: 10
                    }
                }), "canceled" === a && !o && r.a.createElement(qe, {
                    name: "cancel",
                    color: de.statusCancelled,
                    size: 14,
                    style: {
                        paddingLeft: 10
                    }
                })) : r.a.createElement(r.a.Fragment, null)
            };
            $e.fragments = {
                user: k()(Qe())
            };
            var _e = function() {
                    var e = se(Se());
                    return Object(g.a)(Object(g.a)({}, e), {}, {
                        container: {
                            marginLeft: 20,
                            marginTop: 15,
                            flexDirection: "row",
                            alignItems: "center"
                        }
                    })
                },
                Xe = $e;

            function Je() {
                var e = Object(x.a)(["\n  query {\n    user {\n      id\n      hasPremium\n      isDeveloper\n      username\n      avatar\n      ...SubscriptionStatusFragment\n    }\n  }\n  ", "\n"]);
                return Je = function() {
                    return e
                }, e
            }
            var Ke = k()(Je(), Xe.fragments.user),
                Ze = function() {
                    var e = se(Se()),
                        t = e.userMode,
                        n = e.fontSizes,
                        a = e.fonts;
                    return Object(g.a)(Object(g.a)({}, e), {}, {
                        container: Object(g.a)(Object(g.a)({}, I.a.absoluteFillObject), {}, {
                            backgroundColor: de.transparent,
                            zIndex: 99,
                            elevation: 4,
                            marginRight: 0,
                            marginLeft: "auto"
                        }),
                        menuContainer: {
                            backgroundColor: t.background,
                            shadowRadius: 5,
                            shadowOpacity: .04,
                            shadowColor: de.shadow,
                            elevation: 5
                        },
                        profileContainer: {
                            borderBottomWidth: 1.5,
                            borderBottomColor: t.secondaryBackground
                        },
                        logoContainer: {
                            paddingTop: 18
                        },
                        menuItemsContainer: {
                            paddingHorizontal: 20,
                            paddingTop: 15
                        },
                        menuItem: {
                            flexDirection: "row",
                            alignItems: "center",
                            marginVertical: N({
                                default: 10,
                                iPhone5: 8,
                                android: 8
                            }),
                            color: t.text,
                            fontSize: n.small,
                            fontFamily: a.body
                        },
                        dismissUnderlay: Object(g.a)(Object(g.a)({}, I.a.absoluteFillObject), {}, {
                            zIndex: 100
                        }),
                        userContainer: {
                            paddingHorizontal: 20,
                            flexDirection: "row",
                            alignItems: "center",
                            marginTop: 40,
                            marginLeft: 20,
                            minHeight: 60
                        },
                        headingText: {
                            fontFamily: a.header,
                            fontSize: n.medium,
                            color: t.text,
                            marginLeft: 20
                        },
                        label: {
                            fontFamily: a.body,
                            fontSize: n.medium,
                            color: t.text
                        },
                        item: {
                            marginVertical: 0
                        }
                    })
                },
                et = function(e) {
                    var t, n, a = e.navigation,
                        o = Object(u.useQuery)(Ke),
                        i = o.data,
                        l = o.loading,
                        c = null === i || void 0 === i ? void 0 : i.user,
                        s = !l && (null === c || void 0 === c ? void 0 : c.hasPremium),
                        d = ye().NEW_EXPLORE,
                        m = Ze(),
                        f = m.textStyles,
                        b = m.userTheme,
                        y = c && c.avatar && "none" !== c.avatar,
                        v = y ? null : null === c || void 0 === c || null === (t = c.username) || void 0 === t || null === (n = t.charAt(0)) || void 0 === n ? void 0 : n.toUpperCase(),
                        g = y ? {
                            uri: z + (null === c || void 0 === c ? void 0 : c.avatar)
                        } : null,
                        p = function() {
                            var e = Object(O.a)(S.a.mark((function e() {
                                return S.a.wrap((function(e) {
                                    for (;;) switch (e.prev = e.next) {
                                        case 0:
                                            return e.next = 2, Ne({
                                                eventName: "logged_out"
                                            });
                                        case 2:
                                            return a.dispatch(C.DrawerActions.closeDrawer()), e.next = 5, ke.logout();
                                        case 5:
                                            a.navigate("landing");
                                        case 6:
                                        case "end":
                                            return e.stop()
                                    }
                                }), e)
                            })));
                            return function() {
                                return e.apply(this, arguments)
                            }
                        }(),
                        h = function() {
                            var e = Object(O.a)(S.a.mark((function e() {
                                return S.a.wrap((function(e) {
                                    for (;;) switch (e.prev = e.next) {
                                        case 0:
                                            a.navigate("loginRegister");
                                        case 1:
                                        case "end":
                                            return e.stop()
                                    }
                                }), e)
                            })));
                            return function() {
                                return e.apply(this, arguments)
                            }
                        }();
                    return r.a.createElement(j.a, {
                        style: m.menuContainer
                    }, !!(null === c || void 0 === c ? void 0 : c.username) && r.a.createElement(B.a, {
                        style: m.profileContainer
                    }, r.a.createElement(L.a, {
                        onPress: function() {
                            return function(e) {
                                Ne({
                                    eventName: "profile_opened"
                                }), a.navigate("profile", {
                                    username: null === e || void 0 === e ? void 0 : e.username
                                })
                            }(c)
                        },
                        style: m.userContainer,
                        accessibilityLabel: "Profile",
                        accessibilityRole: "button"
                    }, (!!g || !!v) && r.a.createElement(F.a, {
                        rounded: !0,
                        size: "small",
                        title: v,
                        source: g,
                        containerStyle: {
                            backgroundColor: b.primary
                        },
                        titleStyle: {
                            color: b.text
                        }
                    }), r.a.createElement(P.a, {
                        style: m.headingText
                    }, null === c || void 0 === c ? void 0 : c.username)), r.a.createElement(B.a, {
                        style: {
                            paddingHorizontal: 20,
                            marginBottom: 15
                        }
                    }, r.a.createElement(Xe, {
                        user: c
                    }))), !(null === c || void 0 === c ? void 0 : c.username) && r.a.createElement(B.a, {
                        style: m.logoContainer
                    }, r.a.createElement(P.a, {
                        style: [f.title, {
                            alignSelf: "center"
                        }]
                    }, "AI Dungeon")), r.a.createElement(B.a, {
                        style: m.menuItemsContainer
                    }, r.a.createElement(Ye, {
                        labelStyle: m.label,
                        style: m.item,
                        onPress: function() {
                            Ne({
                                eventName: "home_opened"
                            }), a.navigate("home"), a.dispatch(C.DrawerActions.toggleDrawer())
                        },
                        label: "Home",
                        iconName: "home",
                        iconType: "awesome"
                    }), r.a.createElement(Ye, {
                        labelStyle: m.label,
                        style: m.item,
                        onPress: function() {
                            Ne({
                                eventName: "explore_opened"
                            }), a.navigate(d ? "newExplore" : "explore")
                        },
                        label: "Explore",
                        iconName: "binoculars"
                    }), r.a.createElement(Ye, {
                        labelStyle: m.label,
                        style: m.item,
                        onPress: function() {
                            Ne({
                                eventName: "worlds_opened"
                            }), a.navigate("worlds")
                        },
                        label: "Worlds",
                        iconName: "earth"
                    }), r.a.createElement(Ye, {
                        labelStyle: m.label,
                        style: m.item,
                        onPress: function() {
                            Ne({
                                eventName: "my_stuff_opened"
                            }), a.navigate("myStuff")
                        },
                        label: "My Stuff",
                        iconName: "book",
                        iconType: "awesome"
                    }), !s && r.a.createElement(Ye, {
                        labelStyle: m.label,
                        style: m.item,
                        onPress: function() {
                            Ne({
                                eventName: "subscribe_opened"
                            }), a.navigate("subscribe")
                        },
                        label: "Premium",
                        iconName: "refresh"
                    }), r.a.createElement(Ye, {
                        labelStyle: m.label,
                        style: m.item,
                        onPress: function() {
                            Ne({
                                eventName: "contributor_studio_opened"
                            }), a.navigate("contribute")
                        },
                        label: "Contribute",
                        iconName: "flask",
                        iconType: "awesome"
                    }), r.a.createElement(Ye, {
                        labelStyle: m.label,
                        style: m.item,
                        onPress: function() {
                            Ne({
                                eventName: "settings_opened"
                            }), a.navigate("settings")
                        },
                        label: "Settings",
                        iconName: "cog",
                        iconType: "awesome"
                    }), r.a.createElement(Ye, {
                        labelStyle: m.label,
                        style: m.item,
                        onPress: function() {
                            Ne({
                                eventName: "about_opened"
                            }), a.navigate("about")
                        },
                        label: "About",
                        iconName: "help"
                    }), (null === c || void 0 === c ? void 0 : c.username) && r.a.createElement(Ye, {
                        labelStyle: m.label,
                        style: m.item,
                        onPress: p,
                        label: "Logout",
                        iconName: "logout"
                    }), !(null === c || void 0 === c ? void 0 : c.username) && r.a.createElement(Ye, {
                        labelStyle: m.label,
                        style: m.item,
                        onPress: h,
                        label: "Login/Register",
                        iconName: "login"
                    }), "web" !== A.a.OS && r.a.createElement(Ve, null)))
                },
                tt = function() {
                    return {
                        statusBarBackground: {
                            height: "ios" === A.a.OS ? 18 : 0,
                            backgroundColor: de.background
                        }
                    }
                },
                nt = function() {
                    var e = tt();
                    return r.a.createElement(B.a, {
                        style: e.statusBarBackground
                    })
                },
                at = n(781),
                rt = n(57),
                ot = n(33),
                it = function() {
                    var e = se(Se()),
                        t = e.userMode,
                        n = e.fontSizes,
                        a = e.fonts;
                    return Object(g.a)(Object(g.a)({}, e), {}, {
                        mainContainer: {
                            flexDirection: "column",
                            flex: 1
                        },
                        closeButton: {
                            flexDirection: "row",
                            justifyContent: "flex-end",
                            width: 25,
                            paddingTop: 8
                        },
                        titleText: {
                            fontSize: n.xLarge,
                            fontFamily: a.body,
                            color: t.text,
                            alignSelf: "center",
                            textAlign: "center"
                        },
                        subText: {
                            fontFamily: a.body,
                            fontSize: n.small,
                            color: t.text,
                            marginVertical: "auto",
                            width: "100%",
                            alignSelf: "center",
                            textAlign: "center"
                        },
                        reference: {
                            fontFamily: a.body,
                            fontSize: n.small,
                            color: t.text,
                            marginVertical: "auto",
                            width: "100%",
                            textAlign: "center"
                        },
                        imageContainer: {
                            marginVertical: 20,
                            alignItems: "center"
                        },
                        image: {}
                    })
                },
                lt = function(e) {
                    var t = e.onClose,
                        n = e.imageLink,
                        a = it(),
                        o = a.containerStyles,
                        i = "web" === A.a.OS,
                        l = Math.round(R.a.get("window").width),
                        c = i ? (.8 * l - 76) / 3 : (l - 81) / 3;
                    return r.a.createElement(F.c, {
                        overlayStyle: o.overlay.overlay,
                        containerStyle: o.overlay.container,
                        style: o.overlay.background
                    }, r.a.createElement(B.a, {
                        style: [o.screen, {
                            backgroundColor: "none"
                        }]
                    }, r.a.createElement(B.a, {
                        style: o.content
                    }, r.a.createElement(B.a, {
                        style: {
                            flexDirection: "row",
                            justifyContent: "space-between"
                        }
                    }, r.a.createElement(B.a, {
                        style: {
                            flexDirection: "column",
                            width: "100%"
                        }
                    }, r.a.createElement(P.a, {
                        style: a.titleText
                    }, "You have earned an Avatar")), r.a.createElement(L.a, {
                        onPress: t,
                        style: a.closeButton
                    }, r.a.createElement(qe, {
                        style: a.iconStyle,
                        name: "close",
                        size: 25
                    }))), r.a.createElement(B.a, {
                        style: a.imageContainer
                    }, r.a.createElement(ot.a, {
                        style: {
                            width: c,
                            height: c
                        },
                        source: {
                            uri: n
                        }
                    })), r.a.createElement(P.a, {
                        style: a.subText
                    }, '"Sorry for the times I brought down prod..."'), r.a.createElement(P.a, {
                        style: a.reference
                    }, "-Squibs"))))
                };

            function ct() {
                var e = Object(x.a)(["\n  query ($publicId: String) {\n    user {\n      id\n      isDeveloper\n    }\n    adventure(publicId: $publicId) {\n      id\n      publicId\n      worldId\n      userId\n    }\n  }\n"]);
                return ct = function() {
                    return e
                }, e
            }
            var ut = k()(ct()),
                st = function() {
                    var e = se(Se()),
                        t = e.userMode,
                        n = e.userTheme,
                        a = e.fontSizes,
                        r = e.fonts;
                    return Object(g.a)(Object(g.a)({}, e), {}, {
                        container: Object(g.a)(Object(g.a)({}, I.a.absoluteFillObject), {}, {
                            backgroundColor: de.transparent,
                            zIndex: 99,
                            elevation: 4,
                            marginRight: "auto",
                            marginLeft: 0
                        }),
                        menuContainer: {
                            width: 256,
                            marginRight: "auto",
                            height: "100%",
                            backgroundColor: t.background,
                            shadowRadius: 5,
                            shadowOpacity: .04,
                            paddingHorizontal: 20,
                            shadowColor: de.shadow,
                            shadowOffset: {
                                width: 3,
                                height: 0
                            },
                            elevation: 5,
                            zIndex: 101,
                            paddingVertical: N({
                                default: 0,
                                iPhoneX: 60
                            })
                        },
                        dismissUnderlay: Object(g.a)(Object(g.a)({}, I.a.absoluteFillObject), {}, {
                            zIndex: 100
                        }),
                        userContainer: {
                            flexDirection: "row",
                            alignItems: "center",
                            marginTop: 40
                        },
                        headingText: {
                            fontFamily: r.body,
                            fontSize: a.small,
                            color: t.text,
                            marginLeft: 10
                        },
                        dividerView: {
                            width: "100%",
                            height: 1,
                            backgroundColor: n.primary,
                            marginTop: 30,
                            marginBottom: N({
                                default: 20,
                                iPhone5: 22,
                                android: 22
                            })
                        },
                        label: {
                            fontFamily: r.body,
                            fontSize: a.medium,
                            color: t.text
                        },
                        item: {
                            marginVertical: 0
                        }
                    })
                },
                dt = function(e) {
                    var t, n, o, i = e.onClose,
                        l = e.publicId,
                        c = e.deepLink,
                        s = Object(C.useNavigation)(),
                        m = Ya().openOverlay,
                        f = st(),
                        b = f.containerStyles,
                        y = Object(a.useState)(!1),
                        v = Object(p.a)(y, 2),
                        g = v[0],
                        h = v[1],
                        E = Object(u.useQuery)(ut, {
                            variables: {
                                publicId: l
                            }
                        }).data,
                        x = Object(a.useRef)(new d.a.Value(0)).current,
                        w = R.a.get("window").width,
                        S = Object(a.useRef)(new d.a.Value(w)).current;
                    Object(a.useEffect)((function() {
                        O()
                    }), []);
                    var O = function() {
                        if (!g) {
                            var e = d.a.timing(x, {
                                    toValue: 1,
                                    duration: 150,
                                    useNativeDriver: !0
                                }),
                                t = d.a.timing(S, {
                                    toValue: w - 256,
                                    duration: 300,
                                    useNativeDriver: !0
                                });
                            d.a.parallel([e, t]).start((function() {
                                h(!0)
                            }))
                        }
                    };
                    return r.a.createElement(d.a.View, {
                        pointerEvents: g ? "auto" : "none",
                        style: [f.container, {
                            opacity: x
                        }]
                    }, r.a.createElement(d.a.View, {
                        style: [f.menuContainer, {
                            transform: [{
                                translateX: S
                            }]
                        }]
                    }, r.a.createElement(B.a, {
                        style: [b.column, {
                            marginTop: 40
                        }]
                    }, r.a.createElement(Ye, {
                        labelStyle: f.label,
                        style: f.item,
                        onPress: function() {
                            m("share", {
                                title: "Invite Friends to Join Your Game",
                                message: "Go to this link to join my AI Dungeon game!",
                                url: c
                            })
                        },
                        label: "Invite Friends",
                        iconName: "plus-circle-outline"
                    }), r.a.createElement(Ye, {
                        labelStyle: f.label,
                        style: f.item,
                        onPress: function() {
                            m("feedback", {
                                publicId: l
                            })
                        },
                        label: "Feedback",
                        iconName: "comment-alert-outline"
                    }), r.a.createElement(Ye, {
                        labelStyle: f.label,
                        style: f.item,
                        onPress: function() {
                            m("questLog", {
                                publicId: l
                            })
                        },
                        label: "Quest Log",
                        iconName: "bag-personal-outline"
                    }), (null === E || void 0 === E || null === (t = E.adventure) || void 0 === t ? void 0 : t.worldId) && r.a.createElement(Ye, {
                        labelStyle: f.label,
                        style: f.item,
                        onPress: function() {
                            m("worldEvents", {
                                publicId: l
                            })
                        },
                        label: "World Events",
                        iconName: "earth"
                    }), r.a.createElement(Ye, {
                        labelStyle: f.label,
                        style: f.item,
                        onPress: function() {
                            i && i(), s.navigate("adventureView", {
                                publicId: l,
                                scroll: !0
                            })
                        },
                        label: "View Adventure",
                        iconName: "book",
                        iconType: "awesome"
                    }), (null === E || void 0 === E || null === (n = E.user) || void 0 === n ? void 0 : n.id) === (null === E || void 0 === E || null === (o = E.adventure) || void 0 === o ? void 0 : o.userId) && r.a.createElement(Ye, {
                        labelStyle: f.label,
                        style: f.item,
                        onPress: function() {
                            i && i(), s.navigate("adventureEdit", {
                                publicId: l
                            })
                        },
                        label: "Edit Adventure",
                        iconName: "edit",
                        iconType: "awesome"
                    }), r.a.createElement(Ye, {
                        labelStyle: f.label,
                        style: f.item,
                        onPress: function() {
                            i && i(), s.navigate("settings")
                        },
                        label: "Settings",
                        iconName: "cog",
                        iconType: "awesome"
                    }), r.a.createElement(Ye, {
                        labelStyle: f.label,
                        style: f.item,
                        onPress: function() {
                            i && i(), s.navigate("help")
                        },
                        label: "Help",
                        iconName: "help"
                    }))), r.a.createElement(L.a, {
                        onPress: function() {
                            return function(e) {
                                if (g) {
                                    var t = d.a.timing(x, {
                                            toValue: 0,
                                            duration: 150,
                                            useNativeDriver: !0
                                        }),
                                        n = d.a.timing(S, {
                                            toValue: w,
                                            duration: 150,
                                            useNativeDriver: !0
                                        });
                                    d.a.parallel([t, n]).start((function() {
                                        h(!0), i && i(), e && e()
                                    }))
                                }
                            }((function() {}))
                        },
                        style: f.dismissUnderlay
                    }))
                },
                mt = function() {
                    var e = se(Se()),
                        t = e.userMode;
                    return Object(g.a)(Object(g.a)({}, e), {}, {
                        overlay: {
                            position: "absolute",
                            right: 0,
                            left: 0,
                            top: N({
                                default: "20%",
                                web: "20%"
                            }),
                            padding: 0,
                            marginLeft: "15%",
                            marginRight: "15%",
                            height: "auto",
                            width: "auto",
                            borderWidth: 2,
                            borderRadius: 5,
                            borderColor: t.secondaryBackground,
                            backgroundColor: t.background
                        },
                        container: {
                            width: "100%",
                            height: "100%",
                            backgroundColor: de.clear
                        },
                        background: {
                            position: "absolute",
                            width: "100%",
                            height: "100%",
                            backgroundColor: de.clear
                        },
                        mainContainer: {
                            flexDirection: "column",
                            marginTop: 15,
                            marginHorizontal: 15,
                            paddingBottom: 15
                        },
                        closeButton: {
                            flexDirection: "row",
                            justifyContent: "flex-end",
                            width: 25
                        }
                    })
                },
                ft = function(e) {
                    var t = e.onClose,
                        n = mt(),
                        a = n.containerStyles,
                        o = n.textStyles;
                    return r.a.createElement(F.c, {
                        onBackdropPress: t,
                        overlayStyle: n.overlay,
                        containerStyle: n.container,
                        style: a.overlay.background
                    }, r.a.createElement(B.a, {
                        style: n.mainContainer
                    }, r.a.createElement(B.a, {
                        style: {
                            flexDirection: "column",
                            justifyContent: "space-between"
                        }
                    }, r.a.createElement(B.a, {
                        style: {
                            flexDirection: "row",
                            justifyContent: "space-between"
                        }
                    }, r.a.createElement(P.a, {
                        style: o.subHeader
                    }, "Host Banned Word"), r.a.createElement(L.a, {
                        onPress: t,
                        style: n.closeButton
                    }, r.a.createElement(qe, {
                        style: n.iconStyle,
                        name: "close",
                        size: 25
                    }))), r.a.createElement(P.a, {
                        style: o.body
                    }, "You have entered a word or phrase that is unallowed by the host. Please input something different."))))
                },
                bt = n(46),
                yt = function() {
                    var e = se(Se()),
                        t = e.userMode,
                        n = e.fontSizes,
                        a = e.fonts;
                    return Object(g.a)(Object(g.a)({}, e), {}, {
                        button: {
                            width: "100%",
                            height: N({
                                default: 44,
                                iPhone5: 40,
                                tablet: 48,
                                tabletLarge: 60
                            }),
                            backgroundColor: t.secondaryBackground,
                            alignItems: "center",
                            justifyContent: "center",
                            flexDirection: "row",
                            borderRadius: 5
                        },
                        disabled: {
                            opacity: .15
                        },
                        text: {
                            fontFamily: a.body,
                            fontSize: n.medium,
                            paddingHorizontal: 10,
                            textTransform: "uppercase"
                        }
                    })
                },
                vt = function(e) {
                    var t = e.loading,
                        n = e.disabled,
                        a = (e.borderColor, e.iconColor),
                        o = e.onPress,
                        i = e.iconName,
                        l = e.type,
                        c = e.size,
                        u = e.style,
                        s = e.activeStyle,
                        d = e.textStyle,
                        m = e.children,
                        f = e.grayedOut,
                        b = Object(We.a)(e, ["loading", "disabled", "borderColor", "iconColor", "onPress", "iconName", "type", "size", "style", "activeStyle", "textStyle", "children", "grayedOut"]),
                        y = yt();
                    return r.a.createElement(L.a, Object.assign({
                        disabled: t || n,
                        onPress: o,
                        accessibilityRole: "button",
                        style: [y.button, n ? y.disabled : null, u, f ? null : s]
                    }, b), !!t && r.a.createElement(bt.a, {
                        size: "small",
                        color: y.userMode.text
                    }), !t && !!i && r.a.createElement(qe, {
                        type: l,
                        name: i,
                        size: c,
                        color: a
                    }), !t && !i && r.a.createElement(P.a, {
                        numberOfLines: 1,
                        ellipsizeMode: "tail",
                        style: [y.text, {
                            color: f ? y.userMode.secondaryText : y.userMode.text
                        }, d]
                    }, m))
                },
                gt = n(51),
                pt = function(e) {
                    var t = Se(),
                        n = t.mode,
                        a = t.theme,
                        r = se({
                            mode: e || n,
                            theme: a
                        }),
                        o = r.userMode,
                        i = r.fontSizes,
                        l = r.fonts;
                    return Object(g.a)(Object(g.a)({}, r), {}, {
                        labelText: {
                            fontFamily: l.body,
                            fontSize: i.medium,
                            color: o.text,
                            marginBottom: 10
                        },
                        textInput: {
                            fontFamily: l.body,
                            fontSize: i.small,
                            color: o.text,
                            paddingVertical: N({
                                default: 15,
                                iPhone5: 10,
                                android: 10
                            }),
                            paddingHorizontal: 15,
                            backgroundColor: o.secondaryBackground,
                            borderRadius: 5,
                            width: "100%"
                        },
                        multilineInput: {
                            paddingTop: 16,
                            textAlignVertical: "top"
                        },
                        errorText: {
                            color: o.alertText,
                            fontFamily: l.body,
                            fontSize: i.small,
                            marginTop: 5
                        },
                        textInputLengthText: {
                            color: o.secondaryText,
                            position: "absolute",
                            right: 0,
                            bottom: -25,
                            fontFamily: l.body,
                            fontSize: i.small
                        },
                        disabledText: {
                            color: de.disabledText
                        }
                    })
                },
                ht = function(e) {
                    var t, n, o = e.value,
                        i = e.label,
                        l = e.multiline,
                        c = e.placeholder,
                        u = e.onChangeText,
                        s = void 0 === u ? function() {} : u,
                        d = e.onEnter,
                        m = e.maxLength,
                        f = e.hideMaxLengthIndicator,
                        b = e.textInputStyle,
                        y = e.error,
                        v = e.containerStyle,
                        g = e.textInputLengthTextStyle,
                        h = e.errorTextStyle,
                        E = e.style,
                        x = e.forceMode,
                        w = e.disabled,
                        S = Object(We.a)(e, ["value", "label", "multiline", "placeholder", "onChangeText", "onEnter", "maxLength", "hideMaxLengthIndicator", "textInputStyle", "error", "containerStyle", "textInputLengthTextStyle", "errorTextStyle", "style", "forceMode", "disabled"]),
                        O = pt(x),
                        j = Object(a.useState)(null !== (t = null === o || void 0 === o ? void 0 : o.length) && void 0 !== t ? t : 0),
                        C = Object(p.a)(j, 2),
                        T = C[0],
                        k = C[1];
                    return r.a.createElement(B.a, {
                        style: [v, m && "true" !== f ? {
                            marginBottom: 35
                        } : {
                            marginBottom: 20
                        }]
                    }, !!i && r.a.createElement(P.a, {
                        style: O.labelText
                    }, i), r.a.createElement(gt.a, Object.assign({
                        disableFullscreenUI: !0,
                        multiline: l,
                        accessibilityLabel: "".concat(i, ". ").concat(c),
                        placeholderTextColor: null === (n = O.userMode) || void 0 === n ? void 0 : n.secondaryText,
                        placeholder: c,
                        onChangeText: function(e) {
                            var t, n, a = e;
                            (null === (t = a) || void 0 === t ? void 0 : t.length) >= m && (a = a.slice(0, m)), k(null === (n = a) || void 0 === n ? void 0 : n.length), s(a)
                        },
                        onKeyPress: function(e) {
                            var t = e.key,
                                n = e.nativeEvent;
                            !d || "Enter" !== t && "Enter" !== n.key || d && d()
                        },
                        style: [O.textInput, l ? O.multilineInput : null, b, S.disabled ? O.disabledText : null, E],
                        value: o
                    }, S, {
                        disabled: w
                    })), !!m && !f && r.a.createElement(P.a, {
                        style: [O.textInputLengthText, g]
                    }, T, "/", m), "string" === typeof y && (null === y || void 0 === y ? void 0 : y.length) > 0 && r.a.createElement(P.a, {
                        style: [O.errorText, h]
                    }, y))
                };

            function Et() {
                var e = Object(x.a)(["\nmutation ($input: CharacterInput) {\n  addCharacter(input: $input) {\n    id\n    characters {\n      id\n      userId\n      name\n    }\n  }\n}\n"]);
                return Et = function() {
                    return e
                }, e
            }
            var xt = k()(Et()),
                wt = function() {
                    var e = se(Se());
                    return Object(g.a)(Object(g.a)({}, e), {}, {
                        textField: {
                            marginVertical: 10
                        },
                        button: {
                            marginBottom: 15,
                            marginTop: 25
                        }
                    })
                },
                St = function(e) {
                    var t = e.onClose,
                        n = e.publicId,
                        o = wt(),
                        i = o.containerStyles,
                        l = Object(a.useState)(""),
                        c = Object(p.a)(l, 2),
                        s = c[0],
                        d = c[1],
                        m = Object(u.useMutation)(xt, {
                            onCompleted: function() {
                                t()
                            }
                        }),
                        f = Object(p.a)(m, 2),
                        b = f[0],
                        y = f[1].loading,
                        v = function() {
                            s && "" !== s && b({
                                variables: {
                                    input: {
                                        name: s,
                                        publicId: n
                                    }
                                }
                            })
                        };
                    return r.a.createElement(F.c, {
                        overlayStyle: i.overlay.overlay,
                        containerStyle: i.overlay.container,
                        style: i.overlay.background
                    }, r.a.createElement(B.a, {
                        style: i.screen
                    }, r.a.createElement(B.a, {
                        style: i.content
                    }, r.a.createElement(ht, {
                        autoCapitalize: "none",
                        autoCorrect: !1,
                        accessibilityLabel: "Character Name",
                        returnKeyType: "done",
                        label: "Character Name",
                        placeholder: "Sherlock Holmes",
                        value: s,
                        onChangeText: d,
                        containerStyle: o.textField,
                        onEnter: v,
                        maxLength: 64
                    }), r.a.createElement(vt, {
                        accessibilityLabel: "Choose Character",
                        loading: y,
                        onPress: v,
                        style: o.button
                    }, "join adventure"))))
                };

            function Ot() {}

            function jt() {
                var e = Object(x.a)(["\n  mutation ($id: String) {\n    deleteComment(id: $id)\n  }\n"]);
                return jt = function() {
                    return e
                }, e
            }

            function Ct() {
                var e = Object(x.a)(["\n  mutation ($input: ContentResponseInput) {\n    createContentResponse(input: $input) {\n      id\n    }\n  }\n"]);
                return Ct = function() {
                    return e
                }, e
            }
            var Tt = ["nsfw", "spam", "abuse", "unallowed", "dislike"],
                kt = function(e) {
                    switch (e) {
                        case "nsfw":
                            return "It should be NSFW";
                        case "spam":
                            return "It's spam";
                        case "abuse":
                            return "It's abusive/harmful";
                        case "unallowed":
                            return "It's unallowed (rape, pedophilia, discrimination, etc)";
                        case "dislike":
                            return "I just don't like it"
                    }
                },
                At = k()(Ct()),
                It = k()(jt()),
                Pt = function() {
                    var e = se(Se()),
                        t = e.userMode,
                        n = e.fontSizes,
                        a = e.fonts;
                    return Object(g.a)(Object(g.a)({}, e), {}, {
                        headerContainer: {
                            display: "flex",
                            flexDirection: "row",
                            alignItems: "center",
                            borderColor: t.border,
                            borderBottomWidth: 2,
                            justifyContent: "space-between"
                        },
                        headerText: {
                            fontFamily: a.body,
                            fontSize: n.medium,
                            fontWeight: N({
                                default: "bold",
                                android: "normal"
                            }),
                            color: t.text,
                            padding: 20
                        },
                        optionContainer: {
                            display: "flex",
                            flexDirection: "row",
                            alignItems: "center",
                            borderColor: t.secondaryBorder,
                            borderBottomWidth: N({
                                default: 1,
                                web: .2
                            }),
                            justifyContent: "space-between"
                        },
                        optionText: {
                            fontFamily: a.body,
                            fontSize: n.small,
                            color: t.text,
                            paddingHorizontal: 20,
                            textAlign: "center",
                            paddingVertical: 20
                        },
                        responseOptionText: {
                            flexBasis: "80%",
                            fontFamily: a.body,
                            fontSize: n.small,
                            color: t.text,
                            paddingHorizontal: 20,
                            paddingVertical: N({
                                default: 10,
                                web: 20
                            })
                        },
                        textBorder: {
                            borderColor: t.secondaryBorder,
                            borderBottomWidth: N({
                                default: 1,
                                web: .2
                            })
                        },
                        red: {
                            color: t.alertText,
                            fontWeight: N({
                                default: "bold",
                                android: "normal"
                            })
                        },
                        icon: {
                            padding: 15
                        },
                        textField: {
                            paddingVertical: N({
                                default: 20,
                                web: 30
                            }),
                            paddingHorizontal: 30
                        },
                        buttonContainer: {
                            display: "flex",
                            flexDirection: "row",
                            justifyContent: "center",
                            padding: 30
                        }
                    })
                },
                Lt = function(e) {
                    var t = e.id,
                        n = e.onClose,
                        o = e.refetch,
                        i = e.isCommentOwner,
                        l = e.isContentOwner,
                        c = t,
                        s = Object(a.useState)(!1),
                        d = Object(p.a)(s, 2),
                        m = d[0],
                        f = d[1],
                        b = Object(a.useState)(!1),
                        y = Object(p.a)(b, 2),
                        v = y[0],
                        g = y[1],
                        h = Object(a.useState)(null),
                        E = Object(p.a)(h, 2),
                        x = E[0],
                        w = E[1],
                        S = Object(a.useState)(null),
                        O = Object(p.a)(S, 2),
                        j = O[0],
                        C = O[1],
                        T = Object(u.useMutation)(At),
                        k = Object(p.a)(T, 1)[0],
                        A = Pt(),
                        I = A.containerStyles,
                        z = Object(u.useMutation)(It, {
                            variables: {
                                id: t
                            },
                            onCompleted: o
                        }),
                        M = Object(p.a)(z, 1)[0],
                        R = ye().COMMENT_EDIT;
                    return r.a.createElement(F.c, {
                        onBackdropPress: n,
                        overlayStyle: I.overlay.overlay,
                        containerStyle: I.overlay.container,
                        style: I.overlay.background
                    }, r.a.createElement(B.a, null, !m && r.a.createElement(B.a, null, !!R && r.a.createElement(r.a.Fragment, null, r.a.createElement(L.a, {
                        style: A.textBorder,
                        onPressIn: function() {
                            n()
                        },
                        onPress: n,
                        accessibilityLabel: "Delete"
                    }, r.a.createElement(P.a, {
                        style: A.optionText
                    }, "Edit"))), (i || l) && r.a.createElement(L.a, {
                        style: A.textBorder,
                        onPressIn: M,
                        onPress: n,
                        accessibilityLabel: "Delete"
                    }, r.a.createElement(P.a, {
                        style: [A.optionText, A.textBorder, A.red]
                    }, "Delete")), !i && r.a.createElement(L.a, {
                        style: A.textBorder,
                        onPress: function() {
                            return f(!0)
                        }
                    }, r.a.createElement(P.a, {
                        style: [A.optionText, A.textBorder, A.red]
                    }, "Report")), r.a.createElement(L.a, {
                        onPress: n
                    }, r.a.createElement(P.a, {
                        style: A.optionText
                    }, "Cancel"))), !!m && (v ? r.a.createElement(B.a, null, r.a.createElement(B.a, {
                        style: A.headerContainer
                    }, r.a.createElement(qe, {
                        name: "chevron-left",
                        size: 25,
                        style: A.icon,
                        onPress: function() {
                            return g(!1)
                        }
                    }), r.a.createElement(P.a, {
                        style: [A.headerText, A.red]
                    }, "Report"), r.a.createElement(qe, {
                        name: "close",
                        size: 25,
                        style: A.icon,
                        onPress: n
                    })), r.a.createElement(B.a, {
                        style: A.textBorder
                    }, r.a.createElement(P.a, {
                        style: [A.optionText, A.headerText, A.textBorder]
                    }, kt(x))), r.a.createElement(B.a, {
                        style: A.textField
                    }, r.a.createElement(ht, {
                        multiline: !0,
                        placeholder: "Additional comments (optional)",
                        autoCapitalize: "sentences",
                        returnKeyType: "done",
                        onChangeText: function(e) {
                            return C(e)
                        },
                        maxLength: 60
                    })), r.a.createElement(B.a, {
                        style: A.buttonContainer
                    }, r.a.createElement(vt, {
                        accessibilityLabel: "Submit Report",
                        onPress: function() {
                            k({
                                variables: {
                                    input: {
                                        contentType: "comment",
                                        contentId: c,
                                        responseType: x,
                                        responseValue: j
                                    }
                                }
                            }), f(!1), g(!1), n && n()
                        }
                    }, "Submit"))) : r.a.createElement(B.a, null, r.a.createElement(B.a, {
                        style: A.headerContainer
                    }, r.a.createElement(qe, {
                        name: "close",
                        size: 25,
                        color: "rgba(0, 0, 0, 0)",
                        style: [A.icon, {
                            cursor: "default"
                        }]
                    }), r.a.createElement(P.a, {
                        style: [A.headerText, A.red]
                    }, "Report"), r.a.createElement(qe, {
                        name: "close",
                        size: 25,
                        style: A.icon,
                        onPress: n
                    })), r.a.createElement(B.a, {
                        style: [A.textBorder, {
                            borderBottomWidth: 3
                        }]
                    }, r.a.createElement(P.a, {
                        style: [A.responseOptionText, A.headerText, A.textBorder]
                    }, "Why are you reporting this?")), Tt.map((function(e, t) {
                        return r.a.createElement(L.a, {
                            key: t,
                            style: t === (null === Tt || void 0 === Tt ? void 0 : Tt.length) - 1 ? [A.optionContainer, {
                                borderBottomWidth: 0
                            }] : A.optionContainer,
                            onPress: function() {
                                return w(e), void g(!0)
                            }
                        }, r.a.createElement(P.a, {
                            style: A.responseOptionText
                        }, kt(e)), r.a.createElement(qe, {
                            type: "awesome",
                            name: "chevron-right",
                            size: 15,
                            color: A.userMode.secondaryBorder,
                            style: A.icon
                        }))
                    }))))))
                },
                Bt = function() {
                    var e = se(Se()),
                        t = e.userMode,
                        n = e.fontSizes,
                        a = e.fonts,
                        r = e.userTheme;
                    return Object(g.a)(Object(g.a)({}, e), {}, {
                        mainContainer: {
                            flexDirection: "column",
                            flex: 1,
                            marginVertical: 15,
                            marginHorizontal: 15
                        },
                        closeButton: {
                            flexDirection: "row",
                            justifyContent: "flex-end",
                            width: 25
                        },
                        button: {
                            marginBottom: 15,
                            marginTop: 20,
                            backgroundColor: r.primary
                        },
                        titleText: {
                            fontSize: n.xLarge,
                            fontFamily: a.body,
                            color: t.text,
                            alignSelf: "center",
                            textAlign: "center"
                        },
                        body: {
                            fontFamily: a.body,
                            fontSize: n.small,
                            color: t.text,
                            marginBottom: 15,
                            marginVertical: "auto",
                            width: "100%",
                            alignSelf: "center",
                            textAlign: "center"
                        }
                    })
                },
                Ft = function(e) {
                    var t = e.onClose,
                        n = e.title,
                        a = void 0 === n ? "You Must Be 18 or Older to Turn Off Safe Mode" : n,
                        o = e.clickableClose,
                        i = void 0 === o || o,
                        l = e.isAge,
                        c = Bt(),
                        u = c.containerStyles;
                    return r.a.createElement(F.c, {
                        onBackdropPress: t,
                        overlayStyle: u.overlay.overlay,
                        containerStyle: u.overlay.container,
                        style: u.overlay.background
                    }, r.a.createElement(B.a, {
                        style: u.screen
                    }, r.a.createElement(B.a, {
                        style: u.content
                    }, r.a.createElement(B.a, {
                        style: {
                            flexDirection: "row",
                            justifyContent: "space-between"
                        }
                    }, r.a.createElement(B.a, {
                        style: {
                            flexDirection: "column",
                            width: "100%"
                        }
                    }, r.a.createElement(P.a, {
                        style: c.titleText
                    }, a)), i && r.a.createElement(L.a, {
                        onPress: t,
                        style: c.closeButton
                    }, r.a.createElement(qe, {
                        style: c.iconStyle,
                        name: "close",
                        size: 25
                    }))), r.a.createElement(B.a, {
                        style: {
                            marginVertical: 20
                        }
                    }, r.a.createElement(vt, {
                        accessibilityLabel: "I am over 18 ",
                        onPress: function() {
                            l && l(), t && t()
                        },
                        style: c.button,
                        textStyle: {
                            color: c.userTheme.text
                        }
                    }, "I am over 18"), r.a.createElement(vt, {
                        accessibilityLabel: "I am under 18 ",
                        onPress: t,
                        style: c.button,
                        textStyle: {
                            color: c.userTheme.text
                        }
                    }, "I am under 18")))))
                };

            function zt() {
                var e = Object(x.a)(["\n  mutation ($input: ContentResponseInput) {\n    createContentResponse(input: $input) {\n      id\n    }\n  }\n"]);
                return zt = function() {
                    return e
                }, e
            }
            var Mt = ["nsfw", "spam", "abuse", "unallowed", "dislike"],
                Rt = function(e) {
                    switch (e) {
                        case "nsfw":
                            return "It should be NSFW";
                        case "spam":
                            return "It's spam";
                        case "abuse":
                            return "It's abusive/harmful";
                        case "unallowed":
                            return "It's unallowed (rape, pedophilia, discrimination, etc)";
                        case "dislike":
                            return "I just don't like it"
                    }
                },
                Dt = k()(zt()),
                Nt = function() {
                    var e = se(Se()),
                        t = e.userMode,
                        n = e.fontSizes,
                        a = e.fonts;
                    return Object(g.a)(Object(g.a)({}, e), {}, {
                        headerContainer: {
                            display: "flex",
                            flexDirection: "row",
                            alignItems: "center",
                            borderColor: t.border,
                            borderBottomWidth: 2,
                            justifyContent: "space-between"
                        },
                        headerText: {
                            fontFamily: a.body,
                            fontSize: n.medium,
                            fontWeight: N({
                                default: "bold",
                                android: "normal"
                            }),
                            color: t.text,
                            padding: 20
                        },
                        optionContainer: {
                            display: "flex",
                            flexDirection: "row",
                            alignItems: "center",
                            borderColor: t.secondaryBorder,
                            borderBottomWidth: N({
                                default: 1,
                                web: .2
                            }),
                            justifyContent: "space-between"
                        },
                        optionText: {
                            fontFamily: a.body,
                            fontSize: n.small,
                            color: t.text,
                            paddingHorizontal: 20,
                            textAlign: "center",
                            paddingVertical: 20
                        },
                        responseOptionText: {
                            flexBasis: "80%",
                            fontFamily: a.body,
                            fontSize: n.small,
                            color: t.text,
                            paddingHorizontal: 20,
                            paddingVertical: N({
                                default: 10,
                                web: 20
                            })
                        },
                        textBorder: {
                            borderColor: t.secondaryBorder,
                            borderBottomWidth: N({
                                default: 1,
                                web: .2
                            })
                        },
                        red: {
                            color: t.alertText,
                            fontWeight: N({
                                default: "bold",
                                android: "normal"
                            })
                        },
                        icon: {
                            padding: 15
                        },
                        textField: {
                            paddingVertical: N({
                                default: 20,
                                web: 30
                            }),
                            paddingHorizontal: 30
                        },
                        buttonContainer: {
                            display: "flex",
                            flexDirection: "row",
                            justifyContent: "center",
                            padding: 30
                        }
                    })
                },
                Vt = function(e) {
                    var t, n = e.content,
                        o = e.onClose,
                        i = null === n || void 0 === n || null === (t = n.__typename) || void 0 === t ? void 0 : t.toLowerCase(),
                        l = null === n || void 0 === n ? void 0 : n.id,
                        c = Object(a.useState)(!1),
                        s = Object(p.a)(c, 2),
                        d = s[0],
                        m = s[1],
                        f = Object(a.useState)(!1),
                        b = Object(p.a)(f, 2),
                        y = b[0],
                        v = b[1],
                        g = Object(a.useState)(null),
                        h = Object(p.a)(g, 2),
                        E = h[0],
                        x = h[1],
                        w = Object(a.useState)(null),
                        S = Object(p.a)(w, 2),
                        O = S[0],
                        j = S[1],
                        C = Object(u.useMutation)(Dt),
                        T = Object(p.a)(C, 1)[0],
                        k = Nt(),
                        A = k.containerStyles;
                    return r.a.createElement(F.c, {
                        onBackdropPress: o,
                        overlayStyle: A.overlay.overlay,
                        containerStyle: A.overlay.container,
                        style: A.overlay.background
                    }, r.a.createElement(B.a, null, !d && r.a.createElement(B.a, null, r.a.createElement(L.a, {
                        style: k.textBorder,
                        onPress: function() {
                            return m(!0)
                        }
                    }, r.a.createElement(P.a, {
                        style: [k.optionText, k.textBorder, k.red]
                    }, "Report")), r.a.createElement(L.a, {
                        onPress: o
                    }, r.a.createElement(P.a, {
                        style: k.optionText
                    }, "Cancel"))), !!d && (y ? r.a.createElement(B.a, null, r.a.createElement(B.a, {
                        style: k.headerContainer
                    }, r.a.createElement(qe, {
                        name: "chevron-left",
                        size: 25,
                        style: k.icon,
                        onPress: function() {
                            return v(!1)
                        }
                    }), r.a.createElement(P.a, {
                        style: [k.headerText, k.red]
                    }, "Report"), r.a.createElement(qe, {
                        name: "close",
                        size: 25,
                        style: k.icon,
                        onPress: o
                    })), r.a.createElement(B.a, {
                        style: k.textBorder
                    }, r.a.createElement(P.a, {
                        style: [k.optionText, k.headerText, k.textBorder]
                    }, Rt(E))), r.a.createElement(B.a, {
                        style: k.textField
                    }, r.a.createElement(ht, {
                        multiline: !0,
                        placeholder: "Additional comments (optional)",
                        autoCapitalize: "sentences",
                        returnKeyType: "done",
                        onChangeText: function(e) {
                            return j(e)
                        },
                        maxLength: 60
                    })), r.a.createElement(B.a, {
                        style: k.buttonContainer
                    }, r.a.createElement(vt, {
                        accessibilityLabel: "Submit Report",
                        onPress: function() {
                            T({
                                variables: {
                                    input: {
                                        contentType: i,
                                        contentId: l,
                                        responseType: E,
                                        responseValue: O
                                    }
                                }
                            }), m(!1), v(!1), o && o()
                        }
                    }, "Submit"))) : r.a.createElement(B.a, null, r.a.createElement(B.a, {
                        style: k.headerContainer
                    }, r.a.createElement(qe, {
                        name: "close",
                        size: 25,
                        color: "rgba(0, 0, 0, 0)",
                        style: [k.icon, {
                            cursor: "default"
                        }]
                    }), r.a.createElement(P.a, {
                        style: [k.headerText, k.red]
                    }, "Report"), r.a.createElement(qe, {
                        name: "close",
                        size: 25,
                        style: k.icon,
                        onPress: o
                    })), r.a.createElement(B.a, {
                        style: [k.textBorder, {
                            borderBottomWidth: 3
                        }]
                    }, r.a.createElement(P.a, {
                        style: [k.responseOptionText, k.headerText, k.textBorder]
                    }, "Why are you reporting this?")), Mt.map((function(e, t) {
                        return r.a.createElement(L.a, {
                            key: t,
                            style: t === (null === Mt || void 0 === Mt ? void 0 : Mt.length) - 1 ? [k.optionContainer, {
                                borderBottomWidth: 0
                            }] : k.optionContainer,
                            onPress: function() {
                                return x(e), void v(!0)
                            }
                        }, r.a.createElement(P.a, {
                            style: k.responseOptionText
                        }, Rt(e)), r.a.createElement(qe, {
                            type: "awesome",
                            name: "chevron-right",
                            size: 15,
                            color: k.userMode.secondaryBorder,
                            style: k.icon
                        }))
                    }))))))
                },
                Wt = n(136);

            function Ht() {
                var e = Object(x.a)(["\nquery ($publicId: String) {\n  adventure(publicId: $publicId) {\n    id\n    lastAction {\n      id\n      text\n    }\n    secondLastAction {\n      id\n      text\n    }\n  }\n}\n"]);
                return Ht = function() {
                    return e
                }, e
            }
            var Ut = k()(Ht()),
                qt = function() {
                    var e = se(Se()),
                        t = e.userMode,
                        n = e.fontSizes,
                        a = e.fonts;
                    return Object(g.a)(Object(g.a)({}, e), {}, {
                        image: {
                            alignSelf: "center",
                            width: "100%",
                            height: "100%"
                        },
                        title: {
                            fontSize: n.xLarge,
                            fontFamily: a.body,
                            color: t.text
                        },
                        overlay: {
                            position: "absolute",
                            right: 0,
                            left: 0,
                            top: 0,
                            bottom: 0,
                            padding: 0,
                            marginLeft: 0,
                            marginRight: 0,
                            height: "auto",
                            width: "auto",
                            borderWidth: 1,
                            borderBottomLeftRadius: 10,
                            backgroundColor: t.background
                        },
                        container: {
                            width: "100%",
                            height: "100%",
                            backgroundColor: de.clear
                        },
                        background: {
                            position: "absolute",
                            width: "100%",
                            height: "100%",
                            backgroundColor: de.clear
                        },
                        mainContainer: {
                            flexDirection: "column",
                            width: "100%",
                            height: "100%"
                        },
                        closeButton: {
                            flexDirection: "row",
                            alignSelf: "flex-end",
                            alignItems: "flex-end",
                            justifyContent: "flex-end",
                            width: 25
                        }
                    })
                },
                Gt = function(e) {
                    var t = e.onClose,
                        n = e.publicId,
                        a = Object(u.useQuery)(Ut, {
                            variables: {
                                publicId: n
                            }
                        }).data,
                        o = null === a || void 0 === a ? void 0 : a.adventure,
                        i = null === o || void 0 === o ? void 0 : o.lastAction,
                        l = null === o || void 0 === o ? void 0 : o.secondLastAction,
                        c = (null === l || void 0 === l ? void 0 : l.text) + (null === i || void 0 === i ? void 0 : i.text),
                        s = qt(),
                        d = s.containerStyles,
                        m = s.textStyles;
                    return a ? r.a.createElement(F.c, {
                        onBackdropPress: t,
                        overlayStyle: s.overlay,
                        containerStyle: s.container,
                        style: d.overlay.background
                    }, r.a.createElement(L.a, {
                        onPress: t,
                        style: s.mainContainer
                    }, r.a.createElement(Wt.a, {
                        style: s.image,
                        source: {
                            uri: "https://aidungeon-images.s3.us-east-2.amazonaws.com/other/darkForest.jpg"
                        }
                    }, r.a.createElement(B.a, {
                        style: {
                            flexDirection: "column",
                            marginTop: "30%",
                            marginHorizontal: "10%",
                            justifyContent: "center",
                            alignItems: "center"
                        }
                    }, r.a.createElement(P.a, {
                        style: m.title
                    }, "You Died!"), r.a.createElement(P.a, {
                        style: [m.body, {
                            marginTop: 30
                        }]
                    }, c))))) : null
                },
                Yt = function() {
                    var e = se(Se()),
                        t = e.userMode,
                        n = e.fonts,
                        a = e.fontSizes;
                    return Object(g.a)(Object(g.a)({}, e), {}, {
                        mainContainer: {
                            flexDirection: "column",
                            marginVertical: 15,
                            marginHorizontal: 15
                        },
                        closeButton: {
                            flexDirection: "row",
                            justifyContent: "flex-end",
                            width: 25
                        },
                        titleText: {
                            fontFamily: n.body,
                            fontSize: a.medium,
                            color: t.text,
                            paddingBottom: 10,
                            marginVertical: "auto",
                            fontWeight: "bold"
                        },
                        text: {
                            fontFamily: n.body,
                            fontSize: a.medium,
                            color: t.text,
                            marginVertical: "auto"
                        }
                    })
                },
                Qt = function(e) {
                    var t = e.message,
                        n = e.onClose,
                        a = Yt(),
                        o = a.containerStyles;
                    return r.a.createElement(F.c, {
                        onBackdropPress: n,
                        overlayStyle: o.overlay.overlay,
                        containerStyle: o.overlay.container,
                        style: o.overlay.background
                    }, r.a.createElement(B.a, {
                        style: a.mainContainer
                    }, r.a.createElement(B.a, {
                        style: {
                            flexDirection: "row",
                            justifyContent: "space-between"
                        }
                    }, r.a.createElement(P.a, {
                        style: a.titleText
                    }, "Hmm..."), r.a.createElement(L.a, {
                        onPress: n,
                        style: a.closeButton
                    }, r.a.createElement(qe, {
                        style: a.iconStyle,
                        name: "close",
                        size: 25
                    }))), r.a.createElement(P.a, {
                        style: a.text
                    }, t)))
                },
                $t = n(25);

            function _t() {
                var e = Object(x.a)(["\nmutation ($input: ContentResponseInput) {\n  createContentResponse(input: $input) {\n    id\n  }\n}\n"]);
                return _t = function() {
                    return e
                }, e
            }

            function Xt() {
                var e = Object(x.a)(["\nmutation ($input: UserInput) {\n  updateUser(input: $input) {\n    id\n    modelTestOptedOut\n    lastModelUsed\n  }\n}\n"]);
                return Xt = function() {
                    return e
                }, e
            }

            function Jt() {
                var e = Object(x.a)(["\nquery ($publicId: String) {\n  user {\n    id\n    modelTestOptedOut\n    isDeveloper\n    lastModelUsed\n    gameSettings {\n      id\n      modelType\n    }\n  }\n  adventure(publicId: $publicId) {\n    id\n  }\n}\n"]);
                return Jt = function() {
                    return e
                }, e
            }
            var Kt = k()(Jt()),
                Zt = k()(Xt()),
                en = k()(_t()),
                tn = function() {
                    var e = se(Se()),
                        t = e.userMode,
                        n = e.fonts,
                        a = e.fontSizes;
                    return Object(g.a)(Object(g.a)({}, e), {}, {
                        mainContainer: {
                            flexDirection: "column",
                            flex: 1,
                            marginTop: 15,
                            marginHorizontal: 15
                        },
                        buttonStyle: {
                            flexDirection: "row",
                            alignSelf: "flex-start",
                            flex: 1,
                            justifyContent: "center",
                            alignItems: "center"
                        },
                        closeButton: {
                            flexDirection: "row",
                            justifyContent: "flex-end",
                            width: 25
                        },
                        optOutContainer: {
                            flexGrow: 1,
                            display: "flex",
                            flexDirection: "column",
                            marginBottom: 10,
                            padding: 5,
                            borderWidth: 1,
                            borderRadius: 5,
                            borderColor: t.secondaryBorder
                        },
                        optOutButton: {
                            marginBottom: 10
                        },
                        optOutButtonText: {
                            fontSize: a.small
                        },
                        text: {
                            fontFamily: n.body,
                            fontSize: a.small,
                            color: t.text,
                            marginVertical: 10
                        },
                        emoji: {
                            fontSize: a.large
                        },
                        textInput: {
                            flex: 1,
                            fontFamily: n.body,
                            fontSize: a.small,
                            lineHeight: N({
                                default: 24,
                                iPhone5: 17
                            }),
                            color: t.text,
                            paddingHorizontal: N({
                                default: 7,
                                web: 12
                            }),
                            paddingTop: N({
                                default: 9,
                                iPhone5: 10,
                                android: 11,
                                tablet: 12
                            }),
                            paddingBottom: N({
                                default: 12,
                                iPhone5: 12,
                                android: 11
                            }),
                            borderRadius: 5,
                            marginVertical: 5
                        }
                    })
                },
                nn = function(e) {
                    var t, n, o, i = e.publicId,
                        l = e.onClose;
                    console.log("feedback overlay");
                    var c = Object(a.useState)(""),
                        s = Object(p.a)(c, 2),
                        d = s[0],
                        m = s[1],
                        f = Object(a.useState)(""),
                        b = Object(p.a)(f, 2),
                        y = b[0],
                        v = b[1],
                        g = Object(u.useQuery)(Kt, {
                            variables: {
                                publicId: i
                            }
                        }).data,
                        h = null === g || void 0 === g ? void 0 : g.user,
                        E = null === g || void 0 === g || null === (t = g.adventure) || void 0 === t ? void 0 : t.id,
                        x = tn(),
                        w = x.containerStyles,
                        S = null === h || void 0 === h || null === (n = h.gameSettings) || void 0 === n ? void 0 : n.modelType,
                        O = Object(u.useMutation)(en),
                        j = Object(p.a)(O, 2),
                        C = j[0],
                        T = (j[1].loading, Object(u.useMutation)(Zt)),
                        k = Object(p.a)(T, 1)[0],
                        A = null === g || void 0 === g || null === (o = g.user) || void 0 === o ? void 0 : o.isDeveloper,
                        I = function() {
                            A && k({
                                variables: {
                                    input: {
                                        lastModelUsed: y
                                    }
                                }
                            }), l()
                        };
                    Object(a.useEffect)((function() {
                        var e;
                        v(null === g || void 0 === g || null === (e = g.user) || void 0 === e ? void 0 : e.lastModelUsed)
                    }), [g]);
                    var z = function(e) {
                        var t = e.feedbackType,
                            n = e.comment;
                        Ne({
                            eventName: "".concat("adventure", "_feedback_").concat(t)
                        });
                        var a = "feedback_".concat(t);
                        C({
                            variables: {
                                input: {
                                    contentType: "adventure",
                                    contentId: E,
                                    responseType: a,
                                    responseValue: n,
                                    data: {
                                        modelType: S
                                    }
                                }
                            }
                        }), I()
                    };
                    return g ? r.a.createElement(F.c, {
                        onBackdropPress: I,
                        overlayStyle: w.overlay.overlay,
                        containerStyle: w.overlay.container,
                        style: w.overlay.background
                    }, r.a.createElement($t.a, {
                        style: x.mainContainer,
                        contentContainerStyle: {
                            flexGrow: 1
                        }
                    }, r.a.createElement(B.a, {
                        style: {
                            flexDirection: "row",
                            justifyContent: "space-between"
                        }
                    }, r.a.createElement(P.a, {
                        style: fe.smallTitle
                    }, "How's the AI Doing?"), r.a.createElement(L.a, {
                        onPress: I,
                        style: x.closeButton
                    }, r.a.createElement(qe, {
                        style: x.iconStyle,
                        name: "close",
                        size: 25
                    }))), r.a.createElement(L.a, {
                        style: x.buttonStyle,
                        onPress: function() {
                            return z({
                                feedbackType: "mindblowing",
                                comment: d
                            })
                        }
                    }, r.a.createElement(P.a, {
                        style: x.emoji
                    }, "\ud83e\udd2f"), r.a.createElement(P.a, {
                        style: x.text
                    }, "  Mindblowingly good!")), r.a.createElement(L.a, {
                        style: x.buttonStyle,
                        onPress: function() {
                            return z({
                                feedbackType: "great",
                                comment: d
                            })
                        }
                    }, r.a.createElement(P.a, {
                        style: x.emoji
                    }, "\ud83d\ude01"), r.a.createElement(P.a, {
                        style: x.text
                    }, "  Great")), r.a.createElement(L.a, {
                        style: x.buttonStyle,
                        onPress: function() {
                            return z({
                                feedbackType: "good",
                                comment: d
                            })
                        }
                    }, r.a.createElement(P.a, {
                        style: x.emoji
                    }, "\ud83d\ude42"), r.a.createElement(P.a, {
                        style: x.text
                    }, "  Pretty good")), r.a.createElement(L.a, {
                        style: x.buttonStyle,
                        onPress: function() {
                            return z({
                                feedbackType: "poor",
                                comment: d
                            })
                        }
                    }, r.a.createElement(P.a, {
                        style: x.emoji
                    }, "\ud83d\ude15"), r.a.createElement(P.a, {
                        style: x.text
                    }, "  Not so great...")), r.a.createElement(L.a, {
                        style: x.buttonStyle,
                        onPress: function() {
                            return z({
                                feedbackType: "repetitive",
                                comment: d
                            })
                        }
                    }, r.a.createElement(P.a, {
                        style: x.emoji
                    }, "\ud83d\udd01"), r.a.createElement(P.a, {
                        style: x.text
                    }, "  Repetitive")), r.a.createElement(ht, {
                        value: d,
                        onChangeText: m,
                        textInputStyle: x.textInput,
                        placeholder: "Anything you'd like to add?"
                    }))) : null
                },
                an = function() {
                    var e = se(Se());
                    return Object(g.a)(Object(g.a)({}, e), {}, {
                        mainContainer: {
                            flexDirection: "column",
                            marginTop: 15,
                            marginHorizontal: 15,
                            paddingBottom: 15
                        },
                        closeButton: {
                            flexDirection: "row",
                            justifyContent: "flex-end",
                            width: 25
                        },
                        textField: {
                            marginVertical: 10
                        },
                        button: {
                            marginBottom: 15,
                            marginTop: 25
                        }
                    })
                },
                rn = function(e) {
                    var t = e.onClose,
                        n = (e.id, Object(C.useNavigation)()),
                        o = an(),
                        i = o.containerStyles,
                        l = Object(a.useState)(""),
                        c = Object(p.a)(l, 2),
                        u = c[0],
                        s = c[1],
                        d = Object(a.useState)(""),
                        m = Object(p.a)(d, 2),
                        f = m[0],
                        b = m[1],
                        y = function(e) {
                            for (var t, n = /[?&]([^=#]+)=([^&#]*)/g, a = {}; t = n.exec(e);) a[t[1]] = t[2];
                            return a
                        },
                        v = function() {
                            b("");
                            var e = y(u).link,
                                a = y(e).playPublicId;
                            (null === a || void 0 === a ? void 0 : a.length) < 1 && b("Bad Link, Make sure to paste the full link"), n.navigate("adventurePlay", {
                                playPublicId: a
                            }), t && t()
                        };
                    return r.a.createElement(F.c, {
                        onBackdropPress: t,
                        overlayStyle: i.overlay.overlay,
                        containerStyle: i.overlay.container,
                        style: i.overlay.background
                    }, r.a.createElement(B.a, {
                        style: i.screen
                    }, r.a.createElement(B.a, {
                        style: i.content
                    }, r.a.createElement(ht, {
                        error: f,
                        autoCapitalize: "none",
                        autoCorrect: !1,
                        accessibilityLabel: "input box for multiplayer game code",
                        returnKeyType: "done",
                        label: "Input multiplayer link",
                        placeholder: "That long link your friend sent you",
                        value: u,
                        onChangeText: s,
                        containerStyle: o.textField,
                        onEnter: v,
                        maxLength: 512
                    }), r.a.createElement(vt, {
                        accessibilityLabel: "Choose Character",
                        onPress: v,
                        style: o.button
                    }, "join adventure"))))
                },
                on = n(70),
                ln = function() {
                    var e = se(Se()),
                        t = e.userMode,
                        n = e.fontSizes,
                        a = e.fonts;
                    return Object(g.a)(Object(g.a)({}, e), {}, {
                        container: {
                            flexDirection: "row",
                            width: "100%"
                        },
                        menuOption: {
                            backgroundColor: t.secondaryBackground,
                            paddingVertical: N({
                                default: 5,
                                iPhone5: 3,
                                web: 8
                            })
                        },
                        selectedMenuOption: {
                            backgroundColor: t.secondaryBackground,
                            paddingVertical: N({
                                default: 4,
                                iPhone5: 2,
                                web: 7
                            }),
                            borderBottomWidth: 1,
                            borderColor: t.text
                        },
                        menuText: {
                            fontFamily: a.header,
                            fontSize: n.small,
                            color: t.secondaryText,
                            textAlign: "center",
                            padding: 5
                        },
                        selectedMenuText: {
                            fontFamily: a.header,
                            fontSize: n.small,
                            color: t.text,
                            textAlign: "center",
                            padding: 5
                        }
                    })
                },
                cn = function(e) {
                    var t, n = e.startIndex,
                        o = e.labels,
                        i = e.onPressActions,
                        l = e.propStyle,
                        c = ln(),
                        u = [],
                        s = Object(on.a)(o.entries());
                    try {
                        for (s.s(); !(t = s.n()).done;) {
                            var d = Object(p.a)(t.value, 2),
                                m = d[0],
                                f = d[1];
                            u.push({
                                label: f,
                                onPress: i[m]
                            })
                        }
                    } catch (E) {
                        s.e(E)
                    } finally {
                        s.f()
                    }
                    var b = Object(a.useState)(o[n]),
                        y = Object(p.a)(b, 2),
                        v = y[0],
                        g = y[1],
                        h = (100 / (null === o || void 0 === o ? void 0 : o.length)).toString() + "%";
                    return r.a.createElement(B.a, {
                        style: [c.container, l]
                    }, null === u || void 0 === u ? void 0 : u.map((function(e, t) {
                        return r.a.createElement(L.a, {
                            key: t,
                            accessibilityLabel: "".concat(e.label, " ").concat(v === e.label ? "(selected)" : "(not selected)"),
                            accessibilityRole: "button",
                            onPress: function() {
                                e.onPress(), g(e.label)
                            },
                            style: {
                                flexBasis: h
                            }
                        }, r.a.createElement(B.a, {
                            style: v === e.label ? c.selectedMenuOption : c.menuOption
                        }, r.a.createElement(P.a, {
                            style: v === e.label ? c.selectedMenuText : c.menuText
                        }, e.label)))
                    })))
                };

            function un() {
                var e = Object(x.a)(["\n  query ($publicId: String) {\n    scenario(publicId: $publicId) {\n      id\n      lastModelInput\n      recentScriptLogs\n    }\n  }\n"]);
                return un = function() {
                    return e
                }, e
            }
            var sn = k()(un()),
                dn = function() {
                    var e = se(Se()),
                        t = e.userMode;
                    return Object(g.a)(Object(g.a)({}, e), {}, {
                        overlay: {
                            position: "absolute",
                            right: 0,
                            left: 0,
                            top: N({
                                default: "20%",
                                web: "20%"
                            }),
                            padding: 0,
                            marginLeft: "15%",
                            marginRight: "15%",
                            height: "auto",
                            width: "auto",
                            borderWidth: 2,
                            borderRadius: 5,
                            borderColor: t.secondaryBackground,
                            backgroundColor: t.background
                        },
                        container: {
                            width: "100%",
                            height: "100%",
                            backgroundColor: de.clear
                        },
                        background: {
                            position: "absolute",
                            width: "100%",
                            height: "100%",
                            backgroundColor: de.clear
                        },
                        mainContainer: {
                            flexDirection: "column",
                            marginTop: 15,
                            marginHorizontal: 15,
                            paddingBottom: 15
                        },
                        buttonBox: {
                            flexDirection: "row",
                            justifyContent: "flex-end"
                        },
                        button: {
                            width: 25
                        },
                        pre: {
                            marginTop: 10,
                            color: t.secondaryText,
                            overflowY: "scroll",
                            height: 300
                        }
                    })
                },
                mn = function(e) {
                    var t, n, o = e.onClose,
                        i = e.publicId,
                        l = dn(),
                        c = l.containerStyles,
                        s = l.textStyles,
                        d = Object(a.useState)("Last Model Input"),
                        m = Object(p.a)(d, 2),
                        f = m[0],
                        b = m[1],
                        y = Object(u.useQuery)(sn, {
                            variables: {
                                publicId: i
                            },
                            fetchPolicy: "no-cache",
                            returnPartialData: !1
                        }),
                        v = y.data,
                        g = y.loading,
                        h = y.refetch,
                        E = null === v || void 0 === v || null === (t = v.scenario) || void 0 === t ? void 0 : t.lastModelInput,
                        x = (null === v || void 0 === v || null === (n = v.scenario) || void 0 === n ? void 0 : n.recentScriptLogs) || [];
                    return r.a.createElement(F.c, {
                        onBackdropPress: o,
                        overlayStyle: l.overlay,
                        containerStyle: l.container,
                        style: c.overlay.background
                    }, r.a.createElement(B.a, {
                        style: l.mainContainer
                    }, r.a.createElement(B.a, {
                        style: {
                            flexDirection: "column",
                            justifyContent: "space-between"
                        }
                    }, r.a.createElement(B.a, {
                        style: {
                            flexDirection: "row",
                            justifyContent: "space-between"
                        }
                    }, r.a.createElement(P.a, {
                        style: s.subHeader
                    }, "Script Diagnostics"), r.a.createElement(B.a, {
                        style: l.buttonBox
                    }, r.a.createElement(L.a, {
                        onPress: function() {
                            return h()
                        },
                        style: l.button
                    }, r.a.createElement(qe, {
                        style: l.iconStyle,
                        name: "reload",
                        size: 25
                    })), r.a.createElement(L.a, {
                        onPress: o,
                        style: l.button
                    }, r.a.createElement(qe, {
                        style: l.iconStyle,
                        name: "close",
                        size: 25
                    })))), r.a.createElement(cn, {
                        startIndex: 0,
                        labels: ["Last Model Input", "Script Logs & Errors"],
                        onPressActions: [function() {
                            return b("Last Model Input")
                        }, function() {
                            return b("Script Logs & Errors")
                        }]
                    }), "Last Model Input" === f && r.a.createElement(B.a, null, r.a.createElement(P.a, {
                        style: s.body
                    }, "This view shows the last input sent to the AI from one of your adventures based off of this Scenario. We recommend developing using our web UI and opening two windows, one here to edit your scripts, and one as an adventure based off this Scenario. The last text sent to the model, shown here, will expire after a few minutes."), r.a.createElement(gt.a, {
                        style: [s.body, l.pre],
                        disableFullscreenUI: !0,
                        multiline: !0,
                        editable: !1,
                        value: g ? "Just a moment..." : E || "No recent model input found"
                    })), "Script Logs & Errors" === f && r.a.createElement(B.a, null, r.a.createElement(P.a, {
                        style: s.body
                    }, "This view shows console logs and errors from your scripts in the last few minutes."), r.a.createElement(gt.a, {
                        style: [s.body, l.pre],
                        disableFullscreenUI: !0,
                        multiline: !0,
                        editable: !1,
                        value: g ? "Just a moment..." : x.length ? x.join("\n\n") : "No recent logs found"
                    })))))
                },
                fn = function() {
                    var e = se(Se()),
                        t = e.userMode;
                    return Object(g.a)(Object(g.a)({}, e), {}, {
                        overlay: {
                            position: "absolute",
                            right: 0,
                            left: 0,
                            top: N({
                                default: "40%",
                                web: "40%"
                            }),
                            padding: 0,
                            marginLeft: "15%",
                            marginRight: "15%",
                            height: "auto",
                            width: "auto",
                            borderWidth: 2,
                            borderRadius: 5,
                            borderColor: t.secondaryBackground,
                            backgroundColor: t.background
                        },
                        container: {
                            width: "100%",
                            height: "100%",
                            backgroundColor: de.clear
                        },
                        background: {
                            position: "absolute",
                            width: "100%",
                            height: "100%",
                            backgroundColor: de.clear
                        },
                        mainContainer: {
                            flexDirection: "column",
                            marginTop: 15,
                            marginHorizontal: 15,
                            paddingBottom: 15
                        },
                        closeButton: {
                            flexDirection: "row",
                            justifyContent: "flex-end",
                            width: 25
                        }
                    })
                },
                bn = function(e) {
                    var t = e.onClose,
                        n = e.quest,
                        a = (e.adventureId, fn()),
                        o = a.containerStyles,
                        i = a.textStyles;
                    return r.a.createElement(F.c, {
                        onBackdropPress: t,
                        overlayStyle: a.overlay,
                        containerStyle: a.container,
                        style: o.overlay.background
                    }, r.a.createElement(B.a, {
                        style: a.mainContainer
                    }, r.a.createElement(B.a, {
                        style: {
                            flexDirection: "column",
                            justifyContent: "space-between"
                        }
                    }, r.a.createElement(B.a, {
                        style: {
                            flexDirection: "row",
                            justifyContent: "space-between"
                        }
                    }, r.a.createElement(P.a, {
                        style: i.subHeader
                    }, "Next Quest:"), r.a.createElement(L.a, {
                        onPress: t,
                        style: a.closeButton
                    }, r.a.createElement(qe, {
                        style: a.iconStyle,
                        name: "close",
                        size: 25
                    }))), r.a.createElement(P.a, {
                        style: i.body
                    }, "".concat(n)))))
                },
                yn = n(48);

            function vn() {
                var e = Object(x.a)(["\nquery {\n  user {\n    id\n  }\n}\n"]);
                return vn = function() {
                    return e
                }, e
            }
            var gn = function() {
                    var e = Object(O.a)(S.a.mark((function e(t) {
                        var n, a, r, o, i, l, c;
                        return S.a.wrap((function(e) {
                            for (;;) switch (e.prev = e.next) {
                                case 0:
                                    if (a = t.eventName, r = t.variations, a) {
                                        e.next = 3;
                                        break
                                    }
                                    throw Error("Event name is required.");
                                case 3:
                                    return e.next = 5, Fe.query({
                                        query: hn
                                    });
                                case 5:
                                    if (o = e.sent, i = o.data, l = null === i || void 0 === i || null === (n = i.user) || void 0 === n ? void 0 : n.id) {
                                        e.next = 10;
                                        break
                                    }
                                    return e.abrupt("return", null);
                                case 10:
                                    if (c = pn(a, r, l)) {
                                        e.next = 13;
                                        break
                                    }
                                    return e.abrupt("return", null);
                                case 13:
                                    return Ne({
                                        platform: A.a.OS,
                                        eventName: a,
                                        variation: c
                                    }), e.abrupt("return", c);
                                case 15:
                                case "end":
                                    return e.stop()
                            }
                        }), e)
                    })));
                    return function(t) {
                        return e.apply(this, arguments)
                    }
                }(),
                pn = function(e, t, n) {
                    var a = Object.values(t).reduce((function(e, t) {
                            return e + t
                        }), 0),
                        r = function e(t, n) {
                            var a, r, o = null !== n && void 0 !== n ? n : 0;
                            for (Number.isInteger(o) || (o = e("".concat(n))), a = 0, r = null === t || void 0 === t ? void 0 : t.length; a < r; a++) o ^= t.charCodeAt(a), o += (o << 1) + (o << 4) + (o << 7) + (o << 8) + (o << 24);
                            return o >>> 0
                        }(e, n) * a / 4294967296;
                    return Object.entries(t).reduce((function(e, t) {
                        var n = Object(p.a)(e, 2),
                            a = n[0],
                            o = n[1],
                            i = Object(p.a)(t, 2),
                            l = i[0],
                            c = i[1];
                        return o < r && r <= o + c ? [l, o + c] : [a, o + c]
                    }), ["", 0])[0]
                },
                hn = k()(vn()),
                En = function(e) {
                    var t = e.eventName,
                        n = e.variations,
                        r = e.truthyVariation,
                        o = Object(a.useState)(),
                        i = Object(p.a)(o, 2),
                        l = i[0],
                        c = i[1];
                    return Object(a.useEffect)((function() {
                        gn({
                            eventName: t,
                            variations: n
                        }).then((function(e) {
                            c(r && r in n ? e === r : e)
                        }))
                    }), []), l
                },
                xn = n(496),
                wn = function() {
                    var e = se(Se()),
                        t = e.userMode,
                        n = e.fontSizes,
                        a = e.fonts;
                    return Object(g.a)(Object(g.a)({}, e), {}, {
                        container: {
                            width: "100%"
                        },
                        labelText: {
                            fontFamily: a.body,
                            fontSize: n.medium,
                            color: t.text,
                            marginBottom: 5
                        },
                        infoText: {
                            color: t.secondaryText,
                            fontFamily: a.body,
                            fontSize: n.small,
                            marginBottom: 10
                        },
                        sliderContainer: {
                            marginVertical: 5
                        },
                        sliderDisplay: {
                            width: "97%",
                            alignSelf: "center"
                        },
                        sliderValues: {
                            flexDirection: "row",
                            justifyContent: "space-between"
                        }
                    })
                },
                Sn = function(e) {
                    var t = e.label,
                        n = e.info,
                        a = e.min,
                        o = e.max,
                        i = e.style,
                        l = e.value,
                        c = e.leftValue,
                        u = e.rightValue,
                        s = e.onChange,
                        d = e.step,
                        m = void 0 === d ? 1 : d,
                        f = wn(),
                        b = null;
                    return r.a.createElement(B.a, {
                        style: [f.container, i]
                    }, r.a.createElement(P.a, {
                        accessible: !!t,
                        style: f.labelText
                    }, t), r.a.createElement(P.a, {
                        accessible: !!n,
                        style: f.infoText
                    }, n), r.a.createElement(B.a, {
                        style: f.sliderDisplay
                    }, c && u && r.a.createElement(B.a, {
                        style: f.sliderValues
                    }, r.a.createElement(P.a, {
                        style: f.infoText
                    }, c), r.a.createElement(P.a, {
                        style: f.infoText
                    }, u)), r.a.createElement(B.a, {
                        style: f.sliderContainer
                    }, r.a.createElement(xn.Range, {
                        values: [null !== l && void 0 !== l ? l : a],
                        min: a,
                        max: o,
                        step: m,
                        onChange: function(e) {
                            var t;
                            s && (t = function() {
                                return s(e[0])
                            }, clearTimeout(b), b = setTimeout((function() {
                                t()
                            }), 100))
                        },
                        renderTrack: function(e) {
                            var t = e.props,
                                n = e.children;
                            return r.a.createElement("div", Object.assign({}, t, {
                                style: Object(g.a)(Object(g.a)({}, t.style), {}, {
                                    height: "6px",
                                    width: "100%",
                                    backgroundColor: f.userMode.text
                                })
                            }), n)
                        },
                        renderThumb: function(e) {
                            var t = e.props;
                            return r.a.createElement("div", Object.assign({}, t, {
                                style: Object(g.a)(Object(g.a)({}, t.style), {}, {
                                    height: "16px",
                                    width: "16px",
                                    borderRadius: 8,
                                    backgroundColor: f.userTheme.primary
                                })
                            }))
                        }
                    }))))
                };

            function On() {
                var e = Object(x.a)(["\nmutation ($input: CancelInput) {\n  cancel(input: $input) {\n      id\n      start\n      end\n      status\n      price\n      frequency\n  }\n}\n"]);
                return On = function() {
                    return e
                }, e
            }

            function jn() {
                var e = Object(x.a)(["\nmutation ($input: FeedbackInput) {\n  createFeedback(input: $input) {\n    id\n  }\n}\n"]);
                return jn = function() {
                    return e
                }, e
            }

            function Cn() {
                var e = Object(x.a)(["\nquery ($id: String) {\n  user {\n    id\n    subscription {\n      id\n      start\n      end\n      status\n      price\n      frequency\n      source\n    }\n  }\n}\n"]);
                return Cn = function() {
                    return e
                }, e
            }
            var Tn = k()(Cn()),
                kn = k()(jn()),
                An = k()(On()),
                In = {
                    NoLongerInterested: "No longer interested in AI Dungeon",
                    NotPlayingEnough: "I don\u2019t play enough to make it worth it",
                    LackingFeatures: "Was lacking features I was hoping for",
                    TooExpensive: "It is too expensive for me",
                    Other: "Other (please specify below)"
                },
                Pn = function() {
                    var e = se(Se()),
                        t = e.userMode,
                        n = e.fonts,
                        a = e.fontSizes;
                    return Object(g.a)(Object(g.a)({}, e), {}, {
                        mainContainer: {
                            flexDirection: "column",
                            flex: 1,
                            marginVertical: 15,
                            marginHorizontal: 15
                        },
                        buttonStyle: {
                            flexDirection: "row",
                            alignSelf: "flex-start",
                            flex: 1,
                            justifyContent: "center",
                            alignItems: "center"
                        },
                        closeButton: {
                            flexDirection: "row",
                            justifyContent: "flex-end",
                            width: 25
                        },
                        text: {
                            fontFamily: n.body,
                            fontSize: a.small,
                            color: t.text,
                            marginVertical: 10
                        },
                        titleText: {
                            fontFamily: n.body,
                            fontSize: a.medium,
                            color: t.text,
                            paddingBottom: 10,
                            marginVertical: "auto",
                            fontWeight: "bold"
                        },
                        iconStyle: {
                            paddingRight: 10
                        },
                        textInput: {
                            flex: 1,
                            fontFamily: n.body,
                            fontSize: a.small,
                            lineHeight: N({
                                default: 24,
                                iPhone5: 17
                            }),
                            color: t.text,
                            paddingHorizontal: N({
                                default: 7,
                                web: 12
                            }),
                            paddingTop: N({
                                default: 9,
                                iPhone5: 10,
                                android: 11,
                                tablet: 12
                            }),
                            paddingBottom: N({
                                default: 64,
                                iPhone5: 64,
                                android: 60
                            }),
                            borderRadius: 5,
                            marginBottom: 20,
                            height: 80,
                            backgroundColor: "rgb(59, 59, 59)"
                        },
                        noTextSliderField: {
                            marginTop: N({
                                default: 40,
                                iPhone5: 10
                            }),
                            marginBottom: N({
                                default: 40,
                                iPhone5: 10
                            })
                        }
                    })
                },
                Ln = function(e) {
                    var t, n = e.onClose,
                        o = e.platform,
                        i = Object(a.useState)(""),
                        l = Object(p.a)(i, 2),
                        c = l[0],
                        s = l[1],
                        d = Object(a.useState)(""),
                        m = Object(p.a)(d, 2),
                        f = m[0],
                        b = m[1],
                        y = Object(a.useState)(42),
                        v = Object(p.a)(y, 2),
                        h = v[0],
                        E = v[1],
                        x = Object(u.useQuery)(Tn).data,
                        w = null === x || void 0 === x || null === (t = x.user) || void 0 === t ? void 0 : t.subscription,
                        j = Pn(),
                        C = j.containerStyles,
                        T = Object(u.useMutation)(kn),
                        k = Object(p.a)(T, 2),
                        A = k[0],
                        I = k[1].loading,
                        z = Object(u.useMutation)(An),
                        M = Object(p.a)(z, 1)[0],
                        R = function() {
                            n()
                        },
                        D = function() {
                            var e = Object.entries(In).map((function(e, t) {
                                var n = e[0],
                                    a = e[1];
                                return r.a.createElement(L.a, {
                                    key: t,
                                    style: j.buttonStyle,
                                    onPress: function() {
                                        return b(n)
                                    }
                                }, r.a.createElement(qe, {
                                    name: f === n ? "radiobox-marked" : "radiobox-blank",
                                    size: 30,
                                    color: de.latitudeTeal,
                                    style: j.iconStyle
                                }), r.a.createElement(P.a, {
                                    style: j.text
                                }, a))
                            }));
                            return r.a.createElement(r.a.Fragment, null, e)
                        },
                        N = function() {
                            var e = Object(O.a)(S.a.mark((function e() {
                                return S.a.wrap((function(e) {
                                    for (;;) switch (e.prev = e.next) {
                                        case 0:
                                            return e.next = 2, M({
                                                optimisticResponse: {
                                                    __typename: "Mutation",
                                                    cancel: Object(g.a)(Object(g.a)({
                                                        __typename: "PremiumSubscription"
                                                    }, w), {}, {
                                                        status: "cancelling"
                                                    })
                                                },
                                                variables: {
                                                    input: {
                                                        sub: null === w || void 0 === w ? void 0 : w.id
                                                    }
                                                }
                                            });
                                        case 2:
                                        case "end":
                                            return e.stop()
                                    }
                                }), e)
                            })));
                            return function() {
                                return e.apply(this, arguments)
                            }
                        }(),
                        V = function() {
                            var e = Object(O.a)(S.a.mark((function e(t) {
                                var n, a, r;
                                return S.a.wrap((function(e) {
                                    for (;;) switch (e.prev = e.next) {
                                        case 0:
                                            if (n = t.cancelReason, a = t.satisfaction, r = t.feedbackComment, !I) {
                                                e.next = 3;
                                                break
                                            }
                                            return e.abrupt("return");
                                        case 3:
                                            if ((n || a || r) && Ne({
                                                    eventName: "cancellation_feedback"
                                                }), "" !== n && A({
                                                    variables: {
                                                        input: {
                                                            feedbackType: "cancel_reason",
                                                            feedbackValue: n,
                                                            platform: o
                                                        }
                                                    }
                                                }), 42 !== a && A({
                                                    variables: {
                                                        input: {
                                                            feedbackType: "cancel_satisfaction",
                                                            feedbackValue: a.toString(),
                                                            platform: o
                                                        }
                                                    }
                                                }), "" !== r && A({
                                                    variables: {
                                                        input: {
                                                            feedbackType: "cancel_comment",
                                                            feedbackValue: r,
                                                            platform: o
                                                        }
                                                    }
                                                }), "paypal" !== (null === w || void 0 === w ? void 0 : w.source) && "stripe" !== (null === w || void 0 === w ? void 0 : w.source)) {
                                                e.next = 10;
                                                break
                                            }
                                            return e.next = 10, N();
                                        case 10:
                                            "ios" === (null === w || void 0 === w ? void 0 : w.source) && yn.a.openURL("https://apps.apple.com/account/subscriptions"), "android" === (null === w || void 0 === w ? void 0 : w.source) && yn.a.openURL("https://play.google.com/store/account/subscriptions?package=com.aidungeon&sku=sub_5"), R();
                                        case 13:
                                        case "end":
                                            return e.stop()
                                    }
                                }), e)
                            })));
                            return function(t) {
                                return e.apply(this, arguments)
                            }
                        }(),
                        W = En({
                            eventName: "cancel_wording_v1",
                            variations: {
                                show: 50,
                                dont: 50
                            }
                        });
                    return x ? r.a.createElement(F.c, {
                        onBackdropPress: R,
                        overlayStyle: C.overlay.overlay,
                        containerStyle: C.overlay.container,
                        style: C.overlay.background
                    }, r.a.createElement($t.a, {
                        style: j.mainContainer,
                        contentContainerStyle: {
                            flexGrow: 1
                        }
                    }, r.a.createElement(vt, {
                        accessibilityLabel: "Submit Feedback and Cancel",
                        onPress: function() {
                            return V({
                                cancelReason: f,
                                satisfaction: h,
                                feedbackComment: c
                            })
                        }
                    }, "Cancel Subscription"), r.a.createElement(B.a, {
                        style: {
                            flexDirection: "row",
                            justifyContent: "space-between",
                            marginVertical: 10
                        }
                    }, "show" === W && r.a.createElement(P.a, {
                        style: j.titleText
                    }, "What's making you cancel?"), "show" !== W && r.a.createElement(P.a, {
                        style: j.titleText
                    }, "What\u2019s the single biggest reason for you cancelling?"), r.a.createElement(L.a, {
                        onPress: R,
                        style: j.closeButton
                    }, r.a.createElement(qe, {
                        style: j.iconStyle,
                        name: "close",
                        size: 25
                    }))), r.a.createElement(D, null), r.a.createElement(Sn, {
                        label: "Overall, how satisfied are you with AI Dungeon?",
                        style: j.noTextSliderField,
                        min: 0,
                        max: 100,
                        value: h,
                        onChange: function(e) {
                            return E(e)
                        },
                        leftValue: "Not Satisfied",
                        rightValue: "Completely Satisfied"
                    }), r.a.createElement(gt.a, {
                        multiline: !0,
                        autoCorrect: !0,
                        disableFullscreenUI: !0,
                        placeholderTextColor: de.placeholderText,
                        accessibilityLabel: "Please provide your feedback",
                        style: j.textInput,
                        maxheight: 256,
                        value: c,
                        onChangeText: s,
                        placeholder: "Your feedback is important to us. Anything you can share about why you are cancelling?"
                    }))) : null
                },
                Bn = function() {
                    var e = se(Se()),
                        t = e.userMode,
                        n = e.fontSizes,
                        a = e.fonts;
                    return {
                        container: {
                            flexDirection: "column",
                            marginBottom: 20
                        },
                        buttonRow: {
                            justifyContent: "space-between",
                            flexDirection: "row",
                            width: "100%",
                            marginVertical: 16,
                            flexWrap: "wrap"
                        },
                        infoText: {
                            color: t.secondaryText,
                            fontFamily: a.body,
                            fontSize: n.small,
                            marginBottom: 10
                        },
                        selectionButton: {
                            height: 40,
                            marginBottom: 5
                        }
                    }
                },
                Fn = function(e) {
                    var t, n = e.labels,
                        a = e.onPressActions,
                        o = e.active,
                        i = e.style,
                        l = e.buttonStyle,
                        c = e.textStyle,
                        u = e.info,
                        s = e.activeButtonStyle,
                        d = e.buttonRowStyle,
                        m = Bn(),
                        f = [],
                        b = Object(on.a)(n.entries());
                    try {
                        for (b.s(); !(t = b.n()).done;) {
                            var y = Object(p.a)(t.value, 2),
                                v = y[0],
                                g = y[1];
                            f.push({
                                label: g,
                                onPress: a[v]
                            })
                        }
                    } catch (E) {
                        b.e(E)
                    } finally {
                        b.f()
                    }
                    var h = (100 / (null === n || void 0 === n ? void 0 : n.length) - 2).toString() + "%";
                    return r.a.createElement(B.a, {
                        style: [m.container, i]
                    }, !!u && r.a.createElement(P.a, {
                        accessible: !0,
                        style: m.infoText
                    }, u), r.a.createElement(B.a, {
                        style: [m.buttonRow, d]
                    }, null === f || void 0 === f ? void 0 : f.map((function(e, t) {
                        return r.a.createElement(vt, {
                            key: t,
                            accessibilityLabel: "".concat(e.label, " ").concat(o === e.label ? "(selected)" : "(not selected)"),
                            grayedOut: o !== e.label,
                            textStyle: c,
                            onPress: function() {
                                e.onPress()
                            },
                            style: [m.selectionButton, {
                                width: h
                            }, l],
                            activeStyle: s
                        }, e.label)
                    }))))
                },
                zn = n(137),
                Mn = function(e) {
                    var t = e.title,
                        n = e.desc,
                        a = e.acceptText,
                        r = e.onAccept,
                        o = e.cancelText,
                        i = void 0 === o ? "Cancel" : o,
                        l = e.onCancel,
                        c = void 0 === l ? function() {} : l;
                    "web" !== A.a.OS ? zn.a.alert(t, n, [{
                        text: i,
                        style: "cancel",
                        onPress: function() {
                            c()
                        }
                    }, {
                        text: a,
                        onPress: function() {
                            var e = Object(O.a)(S.a.mark((function e() {
                                return S.a.wrap((function(e) {
                                    for (;;) switch (e.prev = e.next) {
                                        case 0:
                                            r();
                                        case 1:
                                        case "end":
                                            return e.stop()
                                    }
                                }), e)
                            })));
                            return function() {
                                return e.apply(this, arguments)
                            }
                        }()
                    }]) : window.confirm("".concat(t, "\n").concat(n)) ? r() : c()
                };

            function Rn() {
                var e = Object(x.a)(["\nmutation ($email: String, $username: String, $password: String, $id: String) {\n  createAccount(email: $email, username: $username, password: $password, id: $id) {\n    id\n    username\n    email\n    accessToken\n  }\n}\n"]);
                return Rn = function() {
                    return e
                }, e
            }

            function Dn() {
                var e = Object(x.a)(["\nmutation ($email: String, $password: String, $anonymousId: String) {\n  login(email: $email, password: $password, anonymousId: $anonymousId) {\n    id\n    accessToken\n  }\n}\n"]);
                return Dn = function() {
                    return e
                }, e
            }

            function Nn() {
                var e = Object(x.a)(["\nquery {\n  user {\n    id,\n    username,\n    continueAdventure {\n      id\n    }\n  }\n}\n"]);
                return Nn = function() {
                    return e
                }, e
            }
            var Vn = function() {
                    Ne({
                        eventName: "privacy_policy_opened"
                    }), "web" !== A.a.OS && yn.a.openURL("https://aidungeon.io/privacy.html")
                },
                Wn = function() {
                    Ne({
                        eventName: "terms_of_service_opened"
                    }), "web" !== A.a.OS && yn.a.openURL("https://aidungeon.io/terms-of-service/")
                },
                Hn = k()(Nn()),
                Un = k()(Dn()),
                qn = k()(Rn()),
                Gn = function() {
                    var e = se(Se()),
                        t = e.userTheme,
                        n = e.userMode,
                        a = e.fontSizes,
                        r = e.fonts;
                    return Object(g.a)(Object(g.a)({}, e), {}, {
                        textField: {
                            marginBottom: 10,
                            marginTop: 15
                        },
                        button: {
                            marginBottom: 15,
                            marginTop: 20,
                            backgroundColor: t.primary
                        },
                        buttonText: {
                            fontSize: a.small
                        },
                        messageText: {
                            color: n.secondaryText,
                            fontSize: a.small
                        },
                        legalText: {
                            color: n.secondaryText,
                            fontFamily: r.body,
                            fontSize: a.xSmall,
                            lineHeight: 16,
                            textAlign: "center",
                            paddingHorizontal: 10,
                            textTransform: "uppercase",
                            marginBottom: 25
                        },
                        legalTextLink: {
                            color: n.secondaryText,
                            fontFamily: r.body,
                            fontSize: a.xSmall,
                            textDecorationLine: "underline",
                            lineHeight: 16,
                            textAlign: "center",
                            paddingHorizontal: 10,
                            textTransform: "uppercase",
                            marginBottom: 25
                        },
                        forgotPasswordText: {
                            fontFamily: r.body,
                            fontSize: a.xSmall,
                            textAlign: "center",
                            color: t.primary,
                            paddingHorizontal: 10
                        }
                    })
                },
                Yn = function(e) {
                    var t = e.onLogin,
                        n = e.resetNav,
                        o = void 0 === n || n,
                        i = Object(C.useNavigation)(),
                        l = Object(a.useState)(!1),
                        c = Object(p.a)(l, 2),
                        s = c[0],
                        d = c[1],
                        m = Object(a.useState)(""),
                        f = Object(p.a)(m, 2),
                        b = f[0],
                        y = f[1],
                        v = Object(a.useState)(""),
                        g = Object(p.a)(v, 2),
                        h = g[0],
                        E = g[1],
                        x = Object(a.useState)(""),
                        w = Object(p.a)(x, 2),
                        j = w[0],
                        T = w[1],
                        k = Object(a.useState)(""),
                        I = Object(p.a)(k, 2),
                        B = I[0],
                        F = I[1],
                        z = Object(a.useState)(""),
                        M = Object(p.a)(z, 2),
                        R = M[0],
                        D = M[1],
                        N = Object(a.useState)(""),
                        V = Object(p.a)(N, 2),
                        W = V[0],
                        H = V[1],
                        U = Object(u.useQuery)(Hn).data,
                        q = Gn(),
                        G = Object(u.useMutation)(Un, {
                            onError: function(e) {
                                var t;
                                H(null === (t = e.message) || void 0 === t ? void 0 : t.replace("GraphQL error: ", ""))
                            },
                            onCompleted: function() {
                                var e = Object(O.a)(S.a.mark((function e(n) {
                                    return S.a.wrap((function(e) {
                                        for (;;) switch (e.prev = e.next) {
                                            case 0:
                                                return e.next = 2, ke.setLoggedInUser(n.login);
                                            case 2:
                                                o && fy("home"), t && t();
                                            case 4:
                                            case "end":
                                                return e.stop()
                                        }
                                    }), e)
                                })));
                                return function(t) {
                                    return e.apply(this, arguments)
                                }
                            }()
                        }),
                        Y = Object(p.a)(G, 2),
                        Q = Y[0],
                        $ = Y[1].loading,
                        _ = Object(u.useMutation)(qn, {
                            onError: function(e) {
                                var t;
                                H(null === (t = e.message) || void 0 === t ? void 0 : t.replace("GraphQL error: ", ""))
                            },
                            onCompleted: function() {
                                var e = Object(O.a)(S.a.mark((function e(n) {
                                    return S.a.wrap((function(e) {
                                        for (;;) switch (e.prev = e.next) {
                                            case 0:
                                                return e.next = 2, Ne({
                                                    eventName: "funnel_register_anonymous_user"
                                                });
                                            case 2:
                                                return e.next = 4, ke.setLoggedInUser(n.createAccount);
                                            case 4:
                                                Ne({
                                                    eventName: "funnel_created_registered_user"
                                                }), o && fy("home"), t && t();
                                            case 7:
                                            case "end":
                                                return e.stop()
                                        }
                                    }), e)
                                })));
                                return function(t) {
                                    return e.apply(this, arguments)
                                }
                            }()
                        }),
                        X = Object(p.a)(_, 2),
                        J = X[0],
                        K = X[1].loading;
                    Object(a.useEffect)((function() {
                        Ne({
                            eventName: "app_session_started"
                        })
                    }), []);
                    var Z = function() {
                            var e = Object(O.a)(S.a.mark((function e() {
                                var t;
                                return S.a.wrap((function(e) {
                                    for (;;) switch (e.prev = e.next) {
                                        case 0:
                                            if (b || E("Please enter your email"), j || F("Please enter a username"), R || H("Please enter a password"), b && j && R) {
                                                e.next = 5;
                                                break
                                            }
                                            return e.abrupt("return");
                                        case 5:
                                            return e.next = 7, J({
                                                variables: {
                                                    email: b,
                                                    username: j,
                                                    password: R,
                                                    id: null === U || void 0 === U || null === (t = U.user) || void 0 === t ? void 0 : t.id
                                                }
                                            });
                                        case 7:
                                            return e.next = 9, Fe.resetStore().catch((function(e) {
                                                throw Error(e)
                                            }));
                                        case 9:
                                        case "end":
                                            return e.stop()
                                    }
                                }), e)
                            })));
                            return function() {
                                return e.apply(this, arguments)
                            }
                        }(),
                        ee = function() {
                            var e = Object(O.a)(S.a.mark((function e(t) {
                                return S.a.wrap((function(e) {
                                    for (;;) switch (e.prev = e.next) {
                                        case 0:
                                            return e.next = 2, Q({
                                                variables: {
                                                    email: b,
                                                    password: R,
                                                    anonymousId: t
                                                }
                                            });
                                        case 2:
                                            return e.next = 4, Fe.resetStore().catch((function(e) {
                                                throw Error(e)
                                            }));
                                        case 4:
                                        case "end":
                                            return e.stop()
                                    }
                                }), e)
                            })));
                            return function(t) {
                                return e.apply(this, arguments)
                            }
                        }(),
                        te = function(e) {
                            d(e)
                        },
                        ne = $ || K;
                    return r.a.createElement(r.a.Fragment, null, r.a.createElement(Fn, {
                        active: s ? "Register" : "Login",
                        textStyle: q.buttonText,
                        labels: ["Login", "Register"],
                        onPressActions: [function() {
                            return te(!1)
                        }, function() {
                            return te(!0)
                        }]
                    }), r.a.createElement(ht, {
                        autoCapitalize: "none",
                        autoCorrect: !1,
                        keyboardType: "email-address",
                        accessibilityLabel: "Email Address",
                        returnKeyType: "done",
                        placeholder: "Email",
                        onChangeText: function(e) {
                            y(null === e || void 0 === e ? void 0 : e.trim().toLowerCase()), E("")
                        },
                        containerStyle: q.textField,
                        error: h
                    }), !!s && r.a.createElement(ht, {
                        autoCapitalize: "none",
                        autoCorrect: !1,
                        accessibilityLabel: "Create a username",
                        placeholder: "Create a username",
                        returnKeyType: "done",
                        maxLength: 30,
                        onChangeText: function(e) {
                            T(e), F("")
                        },
                        containerStyle: q.textField,
                        error: B
                    }), r.a.createElement(ht, {
                        returnKeyType: "done",
                        secureTextEntry: !0,
                        accessibilityLabel: s ? "Create a password" : "Password",
                        placeholder: s ? "Create a password" : "Password",
                        autoCapitalize: "none",
                        onChangeText: function(e) {
                            D(e), H("")
                        },
                        containerStyle: q.textField,
                        error: W
                    }), !!s && r.a.createElement(r.a.Fragment, null, r.a.createElement(vt, {
                        accessibilityLabel: "Create Account",
                        loading: ne,
                        onPress: Z,
                        style: q.button
                    }, "Submit"), r.a.createElement(P.a, {
                        style: q.legalText
                    }, "By creating an account, you agree to the", r.a.createElement(P.a, {
                        accessibilityRole: "link",
                        target: "_blank",
                        onPress: Vn,
                        href: "https://aidungeon.io/privacy.html",
                        style: q.legalTextLink
                    }, "web" === A.a.OS ? "Privacy Policy" : " Privacy Policy "), "web" === A.a.OS ? "and" : " and ", r.a.createElement(P.a, {
                        accessibilityRole: "link",
                        target: "_blank",
                        onPress: Wn,
                        href: "https://aidungeon.io/terms-of-service/",
                        style: q.legalTextLink
                    }, "Terms of Service."))), !s && r.a.createElement(r.a.Fragment, null, r.a.createElement(vt, {
                        accessibilityLabel: "Login",
                        loading: ne,
                        onPress: function() {
                            var e, t, n;
                            if (b || E("Please enter an email"), R || H("Please enter a password"), b && R)
                                if ((null === U || void 0 === U || null === (e = U.user) || void 0 === e || null === (t = e.continueAdventure) || void 0 === t ? void 0 : t.id) && !(null === U || void 0 === U || null === (n = U.user) || void 0 === n ? void 0 : n.username)) {
                                    Mn({
                                        title: "Merge anonymous stories?",
                                        desc: "Do you want to merge all stories played on this anonymous account to your logged in account?",
                                        acceptText: "Merge Stories",
                                        cancelText: "Delete Stories",
                                        onAccept: function() {
                                            var e;
                                            ee(null === U || void 0 === U || null === (e = U.user) || void 0 === e ? void 0 : e.id)
                                        },
                                        onCancel: function() {
                                            ee()
                                        }
                                    })
                                } else ee()
                        },
                        style: q.button,
                        textStyle: {
                            color: q.userTheme.text
                        }
                    }, "Login"), r.a.createElement(L.a, {
                        accessibilityLabel: "Reset Password",
                        onPress: function() {
                            return i.navigate("forgotPassword")
                        }
                    }, r.a.createElement(P.a, {
                        style: q.forgotPasswordText
                    }, "I forgot my password"))))
                },
                Qn = function() {
                    var e = se(Se()),
                        t = e.userMode,
                        n = e.fontSizes,
                        a = e.fonts;
                    return Object(g.a)(Object(g.a)({}, e), {}, {
                        overlay: {
                            position: "absolute",
                            right: 0,
                            left: 0,
                            top: N({
                                default: "8%",
                                web: "8%"
                            }),
                            padding: 24,
                            marginHorizontal: N({
                                default: "7%",
                                web: "auto"
                            }),
                            maxWidth: 600,
                            height: "auto",
                            width: "auto",
                            borderRadius: 10,
                            borderWidth: 1,
                            borderColor: "white",
                            backgroundColor: t.background
                        },
                        mainContainer: {
                            flexDirection: "column",
                            marginHorizontal: 15
                        },
                        closeButton: {
                            flexDirection: "row",
                            justifyContent: "flex-end",
                            width: 25
                        },
                        titleText: {
                            fontFamily: a.body,
                            fontSize: n.medium,
                            color: t.text,
                            marginBottom: 15,
                            marginVertical: "auto",
                            fontWeight: "bold",
                            width: "100%",
                            alignSelf: "center",
                            textAlign: "center"
                        },
                        body: {
                            fontFamily: a.body,
                            fontSize: n.small,
                            color: t.text,
                            marginBottom: 15,
                            marginVertical: "auto",
                            width: "100%",
                            alignSelf: "center",
                            textAlign: "center"
                        }
                    })
                },
                $n = function(e) {
                    var t = e.onClose,
                        n = e.title,
                        a = void 0 === n ? "You must be logged in or registered to access this feature." : n,
                        o = e.clickableClose,
                        i = void 0 === o || o,
                        l = Qn(),
                        c = l.containerStyles;
                    return r.a.createElement(F.c, {
                        onBackdropPress: t,
                        overlayStyle: l.overlay,
                        containerStyle: c.overlay.container,
                        style: c.overlay.background
                    }, r.a.createElement(Yn, {
                        onLogin: t,
                        resetNav: !1
                    }), r.a.createElement(B.a, {
                        style: {
                            flexDirection: "row",
                            justifyContent: "space-between",
                            marginVertical: 16
                        }
                    }, r.a.createElement(B.a, {
                        style: {
                            flexDirection: "column",
                            width: "100%"
                        }
                    }, r.a.createElement(P.a, {
                        style: l.titleText
                    }, a)), i && r.a.createElement(L.a, {
                        onPress: t,
                        style: l.closeButton
                    }, r.a.createElement(qe, {
                        style: l.iconStyle,
                        name: "close",
                        size: 25
                    }))))
                },
                _n = n(497),
                Xn = n.n(_n),
                Jn = function(e) {
                    var t = e.paused,
                        n = e.url,
                        a = e.onEnded,
                        o = e.volume;
                    return r.a.createElement(Xn.a, {
                        width: 0,
                        height: 0,
                        volume: o ? o / 100 : 0,
                        playing: !t,
                        url: n,
                        onEnded: a
                    })
                };

            function Kn() {
                var e = Object(x.a)(["\nquery {\n  user {\n    id\n    gameSettings {\n      id\n      playMusic\n      musicVolume\n    }\n  }\n}\n"]);
                return Kn = function() {
                    return e
                }, e
            }

            function Zn() {
                var e = Object(x.a)(["\nquery ($publicId: String) {\n  adventure(publicId: $publicId) {\n    id\n    quests {\n      id\n      text\n      completed\n      active\n    }\n    lastAction {\n      id\n      text\n      questData\n    }\n    secondLastAction {\n      id\n      text\n    }\n  }\n}\n"]);
                return Zn = function() {
                    return e
                }, e
            }
            var ea = k()(Zn()),
                ta = k()(Kn()),
                na = function() {
                    var e = se(Se());
                    return Object(g.a)(Object(g.a)({}, e), {}, {
                        mainContainer: {
                            flexDirection: "column",
                            marginVertical: 15,
                            marginHorizontal: 15
                        },
                        closeButton: {
                            flexDirection: "row",
                            justifyContent: "flex-end",
                            width: 25
                        }
                    })
                },
                aa = function(e) {
                    var t, n, a = e.onClose,
                        o = e.publicId,
                        i = Object(u.useQuery)(ea, {
                            variables: {
                                publicId: o
                            }
                        }).data,
                        l = Object(u.useQuery)(ta).data,
                        c = null === l || void 0 === l || null === (t = l.user) || void 0 === t ? void 0 : t.gameSettings,
                        s = null === i || void 0 === i ? void 0 : i.adventure,
                        d = null === s || void 0 === s ? void 0 : s.lastAction,
                        m = null === s || void 0 === s ? void 0 : s.secondLastAction,
                        f = (null === m || void 0 === m ? void 0 : m.text) + (null === d || void 0 === d ? void 0 : d.text),
                        b = null === d || void 0 === d || null === (n = d.questData) || void 0 === n ? void 0 : n.quest,
                        y = na(),
                        v = y.containerStyles,
                        g = y.textStyles,
                        p = Ya(),
                        h = p.openOverlay,
                        E = p.closeOverlay;
                    return i ? r.a.createElement(F.c, {
                        onBackdropPress: a,
                        overlayStyle: v.overlay.overlay,
                        containerStyle: v.overlay.container,
                        style: v.overlay.background
                    }, r.a.createElement(B.a, {
                        style: y.mainContainer
                    }, r.a.createElement(B.a, {
                        style: {
                            flexDirection: "row",
                            justifyContent: "space-between"
                        }
                    }, r.a.createElement(P.a, {
                        style: [g.title, {
                            maxWidth: "80%"
                        }]
                    }, "Quest Completed!"), r.a.createElement(L.a, {
                        onPress: function() {
                            E(), a()
                        },
                        style: y.closeButton
                    }, r.a.createElement(qe, {
                        style: y.iconStyle,
                        name: "close",
                        size: 25
                    }))), r.a.createElement(B.a, {
                        style: {
                            flexDirection: "column",
                            marginVertical: 10
                        }
                    }, r.a.createElement(P.a, {
                        style: g.subHeader
                    }, b), r.a.createElement(P.a, {
                        style: g.body
                    }, f), r.a.createElement(L.a, {
                        onPress: function() {
                            return h("questLog", {
                                publicId: o
                            })
                        },
                        style: v.row
                    }, r.a.createElement(P.a, {
                        style: g.bodyLink
                    }, "Open quest log"))), !!(null === c || void 0 === c ? void 0 : c.playMusic) && r.a.createElement(Jn, {
                        volume: null === c || void 0 === c ? void 0 : c.musicVolume,
                        url: "https://aidungeon-sounds.s3.us-east-2.amazonaws.com/music/AIDungeonSuccess.mp3"
                    }))) : null
                };

            function ra() {
                var e = Object(x.a)(["\n  mutation ($id: String!, $quest: String!) {\n    addNewQuest(id: $id, quest: $quest){\n      id\n      text\n      active\n      completed\n    }\n  }\n"]);
                return ra = function() {
                    return e
                }, e
            }

            function oa() {
                var e = Object(x.a)(["\n  mutation ($id: String!) {\n    deleteQuest(id: $id)\n  }\n"]);
                return oa = function() {
                    return e
                }, e
            }

            function ia() {
                var e = Object(x.a)(["\n  mutation ($id: String!) {\n    updateCurrentQuest(id: $id){\n        id\n        active\n    }\n  }\n"]);
                return ia = function() {
                    return e
                }, e
            }

            function la() {
                var e = Object(x.a)(["\nquery ($publicId: String) {\n  user {\n    id\n  }\n  adventure(publicId: $publicId) {\n    id\n    quests {\n      id\n      text\n      completed\n      active\n    }\n  }\n}\n"]);
                return la = function() {
                    return e
                }, e
            }
            var ca = function(e) {
                    var t;
                    return (null === (t = e[0]) || void 0 === t ? void 0 : t.toUpperCase()) + e.slice(1)
                },
                ua = k()(la()),
                sa = k()(ia()),
                da = k()(oa()),
                ma = k()(ra()),
                fa = function() {
                    var e = se(Se());
                    return Object(g.a)(Object(g.a)({}, e), {}, {
                        mainContainer: {
                            flexDirection: "column",
                            marginTop: 15,
                            marginHorizontal: 15,
                            paddingBottom: 15
                        },
                        closeButton: {
                            flexDirection: "row",
                            justifyContent: "flex-end",
                            width: 25
                        }
                    })
                },
                ba = function(e) {
                    var t, n = e.onClose,
                        o = e.publicId,
                        i = ua,
                        l = Object(u.useQuery)(i, {
                            variables: {
                                publicId: o
                            }
                        }),
                        c = l.data,
                        s = l.refetch,
                        d = null === c || void 0 === c || null === (t = c.adventure) || void 0 === t ? void 0 : t.quests,
                        m = null === d || void 0 === d ? void 0 : d.filter((function(e) {
                            return !e.completed
                        })),
                        f = null === d || void 0 === d ? void 0 : d.filter((function(e) {
                            return e.completed
                        })),
                        b = Object(a.useState)(null),
                        y = Object(p.a)(b, 2),
                        v = y[0],
                        g = y[1],
                        h = Object(a.useState)(""),
                        E = Object(p.a)(h, 2),
                        x = E[0],
                        w = E[1];
                    Object(a.useEffect)((function() {
                        var e = null === m || void 0 === m ? void 0 : m.filter((function(e) {
                            return e.active
                        }));
                        (null === e || void 0 === e ? void 0 : e.length) > 0 && e[0] !== v && g(e[0])
                    }), [d]);
                    var j = Object(u.useMutation)(sa),
                        C = Object(p.a)(j, 1)[0],
                        T = Object(u.useMutation)(ma),
                        k = Object(p.a)(T, 1)[0],
                        A = Object(u.useMutation)(da),
                        I = Object(p.a)(A, 1)[0],
                        z = function() {
                            var e = Object(O.a)(S.a.mark((function e(t) {
                                return S.a.wrap((function(e) {
                                    for (;;) switch (e.prev = e.next) {
                                        case 0:
                                            return e.next = 2, I({
                                                variables: {
                                                    id: t
                                                }
                                            });
                                        case 2:
                                            s();
                                        case 3:
                                        case "end":
                                            return e.stop()
                                    }
                                }), e)
                            })));
                            return function(t) {
                                return e.apply(this, arguments)
                            }
                        }(),
                        M = function() {
                            var e = Object(O.a)(S.a.mark((function e() {
                                var t;
                                return S.a.wrap((function(e) {
                                    for (;;) switch (e.prev = e.next) {
                                        case 0:
                                            if (w(""), "" === x) {
                                                e.next = 4;
                                                break
                                            }
                                            return e.next = 4, k({
                                                variables: {
                                                    id: null === c || void 0 === c || null === (t = c.adventure) || void 0 === t ? void 0 : t.id,
                                                    quest: x
                                                }
                                            });
                                        case 4:
                                            s();
                                        case 5:
                                        case "end":
                                            return e.stop()
                                    }
                                }), e)
                            })));
                            return function() {
                                return e.apply(this, arguments)
                            }
                        }(),
                        R = fa(),
                        D = R.containerStyles,
                        N = R.textStyles;
                    return r.a.createElement(F.c, {
                        onBackdropPress: n,
                        overlayStyle: D.overlay.overlay,
                        containerStyle: D.overlay.container,
                        style: D.overlay.background
                    }, r.a.createElement($t.a, {
                        style: R.mainContainer,
                        contentContainerStyle: {
                            flexGrow: 1
                        }
                    }, r.a.createElement(B.a, {
                        style: [D.column, {
                            marginTop: 10,
                            marginBottom: 15
                        }]
                    }, r.a.createElement(B.a, {
                        style: {
                            marginBottom: 25,
                            flexDirection: "row",
                            justifyContent: "space-between"
                        }
                    }, r.a.createElement(P.a, {
                        style: N.title
                    }, "Quest Log"), r.a.createElement(L.a, {
                        onPress: n,
                        style: R.closeButton
                    }, r.a.createElement(qe, {
                        style: R.iconStyle,
                        name: "close",
                        size: 25
                    }))), (null === m || void 0 === m ? void 0 : m.length) > 0 && r.a.createElement(r.a.Fragment, null, r.a.createElement(B.a, {
                        style: {
                            flexDirection: "column"
                        }
                    }, m.map((function(e, t) {
                        return r.a.createElement(B.a, {
                            key: t,
                            style: {
                                flexDirection: "row"
                            }
                        }, r.a.createElement(B.a, {
                            style: {
                                flex: 1
                            }
                        }, r.a.createElement(L.a, {
                            style: {
                                flexDirection: "row"
                            },
                            onPress: function() {
                                ! function(e) {
                                    C({
                                        variables: {
                                            id: null === e || void 0 === e ? void 0 : e.id
                                        }
                                    }), g(e)
                                }(e)
                            }
                        }, (null === e || void 0 === e ? void 0 : e.id) === (null === v || void 0 === v ? void 0 : v.id) && r.a.createElement(qe, {
                            style: R.iconStyle,
                            name: "menu-right-outline",
                            size: 25
                        }), r.a.createElement(P.a, {
                            style: [N.body, {
                                marginVertical: 4,
                                marginLeft: (null === e || void 0 === e ? void 0 : e.id) === (null === v || void 0 === v ? void 0 : v.id) ? 0 : 25
                            }]
                        }, ca(e.text)))), r.a.createElement(L.a, {
                            onPress: function() {
                                return z(null === e || void 0 === e ? void 0 : e.id)
                            },
                            style: [R.closeButton, {
                                marginLeft: 10
                            }]
                        }, r.a.createElement(qe, {
                            style: [R.iconStyle, {
                                marginTop: 5
                            }],
                            name: "close",
                            size: 20
                        })))
                    })))), (null === f || void 0 === f ? void 0 : f.length) > 0 && r.a.createElement(r.a.Fragment, null, r.a.createElement(B.a, {
                        style: {
                            flexDirection: "column",
                            marginTop: 20,
                            opacity: .5,
                            justifyContent: "space-between"
                        }
                    }, f.map((function(e, t) {
                        return r.a.createElement(P.a, {
                            key: t,
                            style: [N.body, e.completed ? {
                                textDecorationLine: "line-through"
                            } : {}, {
                                marginVertical: 4,
                                marginLeft: 25
                            }]
                        }, ca(e.text))
                    }))))), r.a.createElement(ht, {
                        label: "Add Quest",
                        placeholder: "Add a new quest then press enter.",
                        returnKeyType: "done",
                        value: x,
                        onChangeText: function(e) {
                            return w(null === e || void 0 === e ? void 0 : e.replace("\n", ""))
                        },
                        onEnter: M,
                        textInputStyle: R.textInput,
                        multiline: !0,
                        maxLength: 100,
                        hideMaxLengthIndicator: !0
                    })))
                },
                ya = function() {
                    var e = se(Se()),
                        t = e.userMode;
                    return Object(g.a)(Object(g.a)({}, e), {}, {
                        overlay: {
                            position: "absolute",
                            right: 0,
                            left: 0,
                            top: N({
                                default: "20%",
                                web: "20%"
                            }),
                            padding: 0,
                            marginLeft: "15%",
                            marginRight: "15%",
                            height: "auto",
                            width: "auto",
                            borderWidth: 2,
                            borderRadius: 5,
                            borderColor: t.secondaryBackground,
                            backgroundColor: t.background
                        },
                        container: {
                            width: "100%",
                            height: "100%",
                            backgroundColor: de.clear
                        },
                        background: {
                            position: "absolute",
                            width: "100%",
                            height: "100%",
                            backgroundColor: de.clear
                        },
                        mainContainer: {
                            flexDirection: "column",
                            marginTop: 15,
                            marginHorizontal: 15,
                            paddingBottom: 15
                        },
                        closeButton: {
                            flexDirection: "row",
                            justifyContent: "flex-end",
                            width: 25
                        }
                    })
                },
                va = function(e) {
                    var t = e.onClose,
                        n = ya(),
                        a = n.containerStyles,
                        o = n.textStyles;
                    return r.a.createElement(F.c, {
                        onBackdropPress: t,
                        overlayStyle: n.overlay,
                        containerStyle: n.container,
                        style: a.overlay.background
                    }, r.a.createElement(B.a, {
                        style: n.mainContainer
                    }, r.a.createElement(B.a, {
                        style: {
                            flexDirection: "column",
                            justifyContent: "space-between"
                        }
                    }, r.a.createElement(B.a, {
                        style: {
                            flexDirection: "row",
                            justifyContent: "space-between"
                        }
                    }, r.a.createElement(P.a, {
                        style: o.subHeader
                    }, "SAFETY"), r.a.createElement(L.a, {
                        onPress: t,
                        style: n.closeButton
                    }, r.a.createElement(qe, {
                        style: n.iconStyle,
                        name: "close",
                        size: 25
                    }))), r.a.createElement(P.a, {
                        style: o.body
                    }, "You have entered a word or phrase that is unallowed. Please input something different.\n\n"), r.a.createElement(P.a, {
                        style: o.body
                    }, "To learn more about why we don't allow this content, check out our ", r.a.createElement(P.a, {
                        onPress: function() {
                            "web" !== A.a.OS && yn.a.openURL("https://aidungeon.io/safety/")
                        },
                        href: "https://aidungeon.io/safety/",
                        target: "_blank",
                        accessibilityRole: "link",
                        style: [o.bodyLink, {}]
                    }, "Safety Policy"), "."))))
                },
                ga = n(773),
                pa = n(774),
                ha = n(775),
                Ea = n(776),
                xa = n(777),
                wa = n(778),
                Sa = function() {
                    var e = se(Se()),
                        t = e.userMode,
                        n = e.fonts,
                        a = e.fontSizes;
                    return Object(g.a)(Object(g.a)({}, e), {}, {
                        mainContainer: {
                            flexDirection: "column",
                            marginVertical: 15,
                            marginHorizontal: 15
                        },
                        closeButton: {
                            flexDirection: "row",
                            justifyContent: "flex-end",
                            width: 25
                        },
                        text: {
                            fontFamily: n.body,
                            fontSize: a.small,
                            color: t.text,
                            marginVertical: 5
                        },
                        titleText: {
                            fontFamily: n.body,
                            fontSize: a.medium,
                            color: t.text,
                            marginBottom: 15,
                            marginVertical: "auto",
                            fontWeight: "bold"
                        },
                        shareButton: {
                            marginLeft: 5
                        },
                        shareView: {
                            flexDirection: "row",
                            paddingHorizontal: 10,
                            marginBottom: 20
                        },
                        shareBlobText: {
                            fontFamily: n.body,
                            fontSize: a.small,
                            color: t.text,
                            marginVertical: 5,
                            backgroundColor: "#242424",
                            padding: 20,
                            borderRadius: 8
                        }
                    })
                },
                Oa = function(e) {
                    var t = e.title,
                        n = e.message,
                        a = e.onClose,
                        o = e.url;
                    if (!o) return null;
                    var i = o.link,
                        l = "Open in the AI Dungeon app: \n" + i + "\n\nOpen at the AI Dungeon website: \n" + o.webUrl,
                        c = Sa(),
                        u = c.containerStyles;
                    return r.a.createElement(F.c, {
                        onBackdropPress: a,
                        overlayStyle: u.overlay.overlay,
                        containerStyle: u.overlay.container,
                        style: u.overlay.background
                    }, r.a.createElement(B.a, {
                        style: c.mainContainer
                    }, r.a.createElement(B.a, {
                        style: {
                            flexDirection: "row",
                            justifyContent: "space-between"
                        }
                    }, r.a.createElement(P.a, {
                        style: c.titleText
                    }, null !== t && void 0 !== t ? t : "Share"), r.a.createElement(L.a, {
                        onPress: a,
                        style: c.closeButton
                    }, r.a.createElement(qe, {
                        style: c.iconStyle,
                        name: "close",
                        size: 25
                    }))), r.a.createElement(P.a, {
                        style: c.text
                    }, n), r.a.createElement(P.a, {
                        style: c.shareBlobText
                    }, l)), r.a.createElement(B.a, {
                        style: c.shareView
                    }, r.a.createElement(L.a, {
                        style: c.shareButton
                    }, r.a.createElement(ga.a, {
                        url: i,
                        quote: n,
                        className: "Demo__some-network__share-button"
                    }, r.a.createElement(pa.a, {
                        size: 32,
                        round: !0
                    }))), r.a.createElement(L.a, {
                        style: c.shareButton
                    }, r.a.createElement(ha.a, {
                        url: i,
                        message: n,
                        className: "Demo__some-network__share-button"
                    }, r.a.createElement(Ea.a, {
                        size: 32,
                        round: !0
                    }))), r.a.createElement(L.a, {
                        style: c.shareButton
                    }, r.a.createElement(xa.a, {
                        url: i,
                        message: n,
                        className: "Demo__some-network__share-button"
                    }, r.a.createElement(wa.a, {
                        size: 32,
                        round: !0
                    })))))
                },
                ja = function() {
                    var e = se(Se()),
                        t = e.userMode,
                        n = e.fontSizes;
                    return Object(g.a)(Object(g.a)({}, e), {}, {
                        subscribeContainer: {
                            flex: 1,
                            alignItems: "center",
                            justifyContent: "center"
                        },
                        buttonContainer: {
                            flexDirection: N({
                                default: "column",
                                web: "row"
                            }),
                            justifyContent: "space-around",
                            marginTop: 20,
                            marginBottom: 20,
                            marginHorizontal: "5%"
                        },
                        overlay: {
                            position: "absolute",
                            right: 0,
                            left: 0,
                            top: N({
                                default: "15%",
                                web: "15%"
                            }),
                            padding: 0,
                            marginHorizontal: N({
                                default: "5%",
                                web: "20%"
                            }),
                            height: "auto",
                            width: "auto",
                            borderWidth: 1,
                            borderRadius: 10,
                            backgroundColor: t.background
                        },
                        button: {
                            width: N({
                                default: "auto",
                                web: "40%"
                            }),
                            backgroundColor: t.subscriptionOverlayBackground,
                            borderWidth: 1.5,
                            borderColor: t.border,
                            margin: 10
                        },
                        buttonText: {
                            fontSize: n.small
                        },
                        detailBox: {
                            padding: 20,
                            maxWidth: "80%",
                            borderRadius: 5,
                            width: "100%",
                            backgroundColor: t.subscriptionOverlayBackground
                        },
                        hr: {
                            borderBottomColor: t.border,
                            borderBottomWidth: 1,
                            marginTop: N({
                                default: 10,
                                web: 20
                            }),
                            marginBottom: N({
                                default: 15,
                                web: 30
                            })
                        },
                        title: {
                            fontSize: n.large,
                            color: t.text,
                            textAlign: "center",
                            fontFamily: t.body
                        },
                        cost: {
                            fontSize: n.medium,
                            padding: 10,
                            color: t.text,
                            textAlign: "center",
                            fontFamily: t.body
                        },
                        feature: {
                            color: t.text,
                            marginBottom: 5,
                            fontFamily: t.body,
                            fontSize: n.small
                        }
                    })
                },
                Ca = function(e) {
                    var t = e.onClose,
                        n = e.msg,
                        a = Object(C.useNavigation)(),
                        o = ja(),
                        i = o.containerStyles;
                    return r.a.createElement(F.c, {
                        onBackdropPress: t,
                        overlayStyle: o.overlay,
                        containerStyle: i.overlay.container,
                        style: i.overlay.background
                    }, r.a.createElement(B.a, {
                        style: o.subscribeContainer
                    }, r.a.createElement(B.a, {
                        style: o.detailBox
                    }, r.a.createElement(P.a, {
                        style: o.title
                    }, "You've discovered a premium feature!"), !!n && r.a.createElement(P.a, {
                        style: o.cost
                    }, "Get premium to ".concat(n)), r.a.createElement(B.a, {
                        style: o.buttonContainer
                    }, r.a.createElement(vt, {
                        onPress: function() {
                            a.navigate("subscribe"), t && t()
                        },
                        textStyle: o.buttonText,
                        style: o.button
                    }, "Learn More"), r.a.createElement(vt, {
                        onPress: t,
                        textStyle: o.buttonText,
                        style: o.button
                    }, "Cancel")), r.a.createElement(B.a, {
                        style: o.hr
                    }), ["Experience AI Dungeon on the Dragon model. One of the most powerful AI models in the world.", "First access to new developments as they come out", "Audio narration of your adventure", "Change advanced settings like randomness and length", "Help to advance AI powered games", "Cancel anytime"].map((function(e, t) {
                        return r.a.createElement(P.a, {
                            key: t,
                            style: o.feature
                        }, r.a.createElement(qe, {
                            name: "check",
                            color: de.subscriptionCheck,
                            size: 18,
                            style: {
                                paddingRight: 10
                            }
                        }), " ", e)
                    })))))
                },
                Ta = function() {
                    var e = se(Se()),
                        t = e.userMode,
                        n = e.fontSizes,
                        a = e.fonts;
                    return Object(g.a)(Object(g.a)({}, e), {}, {
                        overlay: {
                            position: "absolute",
                            right: 0,
                            left: 0,
                            top: "ios" === A.a.OS ? "5%" : "2%",
                            padding: 0,
                            marginLeft: N({
                                default: "20%",
                                web: "40%"
                            }),
                            marginRight: N({
                                default: "2%",
                                web: "2%"
                            }),
                            height: "auto",
                            width: "auto",
                            borderWidth: 2,
                            borderRadius: 5,
                            borderColor: t.secondaryBackground,
                            backgroundColor: t.background
                        },
                        body: {
                            marginBottom: 10,
                            fontSize: n.small,
                            fontFamily: a.body,
                            color: t.text
                        },
                        buttonStyle: {
                            fontFamily: a.body,
                            alignSelf: "center",
                            fontSize: n.xSmall,
                            textTransform: "uppercase"
                        },
                        bodyLink: {
                            fontSize: n.small,
                            fontFamily: a.body,
                            color: t.link
                        },
                        container: {
                            width: "100%",
                            height: "100%",
                            backgroundColor: de.clear
                        },
                        background: {
                            position: "absolute",
                            width: "100%",
                            height: "100%",
                            backgroundColor: de.clear
                        },
                        mainContainer: {
                            flexDirection: "column",
                            marginTop: 15,
                            marginHorizontal: 15,
                            paddingBottom: 15
                        },
                        closeButton: {
                            flexDirection: "row",
                            justifyContent: "flex-end",
                            width: 25
                        }
                    })
                },
                ka = function(e) {
                    e.navigation;
                    var t = e.onClose,
                        n = e.tutorialStep,
                        a = e.endTutorial,
                        o = Ta(),
                        i = o.containerStyles,
                        l = o.textStyles;
                    return n > 8 ? (a(), null) : r.a.createElement(F.c, {
                        onBackdropPress: t,
                        overlayStyle: o.overlay,
                        containerStyle: o.container,
                        style: i.overlay.background
                    }, r.a.createElement(B.a, {
                        style: o.mainContainer
                    }, r.a.createElement(B.a, {
                        style: {
                            flexDirection: "column",
                            justifyContent: "space-between"
                        }
                    }, r.a.createElement(B.a, {
                        style: {
                            flexDirection: "row",
                            justifyContent: "space-between"
                        }
                    }, r.a.createElement(P.a, {
                        style: l.subHeader
                    }, "Tutorial"), r.a.createElement(B.a, {
                        style: {
                            flexDirection: "row"
                        }
                    }, r.a.createElement(vt, {
                        style: {
                            width: "web" === A.a.OS ? 160 : 120,
                            height: 30,
                            marginRight: 20
                        },
                        textStyle: o.buttonStyle,
                        onPress: a
                    }, 8 === n ? "Finish Tutorial" : "Skip Tutorial"), r.a.createElement(L.a, {
                        onPress: 8 === n ? a : t,
                        style: o.closeButton
                    }, r.a.createElement(qe, {
                        style: o.iconStyle,
                        name: "close",
                        size: 25
                    })))), 0 === n && r.a.createElement(r.a.Fragment, null, r.a.createElement(P.a, {
                        style: o.body
                    }, "Welcome to AI Dungeon! "), r.a.createElement(P.a, {
                        style: o.body
                    }, "AI Dungeon is a first of its kind game where you can do ANYTHING and the result will be generated by a powerful AI. This is like no experience you've ever had before, so it takes a bit of explaining."), r.a.createElement(P.a, {
                        style: o.body
                    }, "Let's get you started!"), r.a.createElement(P.a, {
                        style: o.body
                    }, 'First select a genre! For now just enter "1" for fantasy.')), 1 === n && r.a.createElement(r.a.Fragment, null, r.a.createElement(P.a, {
                        style: o.body
                    }, "Great! Now let's pick a character to start as. For the tutorial pick wizard (you can go back and choose any other later).")), 2 === n && r.a.createElement(r.a.Fragment, null, r.a.createElement(P.a, {
                        style: o.body
                    }, 'Now pick a name for your wizard. For example you could choose "Zoltan" or "Joan".')), 3 === n && r.a.createElement(r.a.Fragment, null, r.a.createElement(P.a, {
                        style: o.body
                    }, 'Great! You\'ve started an adventure! The first few sentences of the adventure (called the prompt) are written by a human, but everything after (in this case everything after "You look around and see") is AI generated!'), r.a.createElement(P.a, {
                        style: o.body
                    }, "Now let's do our first action! You can type literally anything as an action. But for your first, let's try doing \"look around the ruins\". "), r.a.createElement(P.a, {
                        style: o.body
                    }, "Go ahead and type that now.")), 4 === n && r.a.createElement(r.a.Fragment, null, r.a.createElement(P.a, {
                        style: o.body
                    }, "Congrats! You took your first action in a completely AI generated world!"), r.a.createElement(P.a, {
                        style: o.body
                    }, "AI Dungeon isn't like one of those old text adventures with very limited actions. You can type longer actions and the AI will understand."), r.a.createElement(P.a, {
                        style: o.body
                    }, 'Let\'s try casting a spell. Try typing something like "cast a spell that summons your friendly spirit animal"')), 5 === n && r.a.createElement(r.a.Fragment, null, r.a.createElement(P.a, {
                        style: o.body
                    }, "Wizardry!"), r.a.createElement(P.a, {
                        style: o.body
                    }, "Sometimes you may want more story before you do another action. If you want the AI to generate more you can just enter nothing for your action."), r.a.createElement(P.a, {
                        style: o.body
                    }, "Try entering nothing for your action now.")), 6 === n && r.a.createElement(r.a.Fragment, null, r.a.createElement(P.a, {
                        style: o.body
                    }, "And voila! More story!"), r.a.createElement(P.a, {
                        style: o.body
                    }, 'You can also change your action type. Click the button that says "Do" to rotate what kind of action you\'re doing.'), r.a.createElement(P.a, {
                        style: o.body
                    }, "\"Say\" puts what you say in quotes and has you say it, though you can also just type 'say \"stuff you want to say\" ' in 'Do' mode and that will do the same thing"), r.a.createElement(P.a, {
                        style: o.body
                    }, '"Story" let\'s you dictate what happens next. For example you could type "A wild ogre appears and says" and the AI will continue generating right where you left off.'), r.a.createElement(P.a, {
                        style: o.body
                    }, 'Try switching the action mode to "Say" and saying something.')), 7 === n && r.a.createElement(r.a.Fragment, null, r.a.createElement(P.a, {
                        style: o.body
                    }, "If you don't like what the AI generated or just want to try again you can use the undo, redo and retry buttons on the bottom left."), r.a.createElement(P.a, {
                        style: o.body
                    }, "Give one of them a try now.")), 8 === n && r.a.createElement(r.a.Fragment, null, r.a.createElement(P.a, {
                        style: o.body
                    }, "You've completed the tutorial!"), r.a.createElement(P.a, {
                        style: o.body
                    }, 'For more how about other AI Dungeon features and how to play checkout the "About" page from the side menu.'), r.a.createElement(P.a, {
                        style: o.body
                    }, "Enjoy!")))))
                };

            function Aa() {
                var e = Object(x.a)(["\nmutation {\n  sendVerifyEmail\n}\n"]);
                return Aa = function() {
                    return e
                }, e
            }

            function Ia() {
                var e = Object(x.a)(["\nquery {\n  user {\n    id\n    verifiedAt\n  }\n}\n"]);
                return Ia = function() {
                    return e
                }, e
            }
            var Pa = k()(Ia()),
                La = k()(Aa()),
                Ba = function() {
                    var e = se(Se()),
                        t = e.userMode,
                        n = e.fontSizes,
                        a = e.fonts;
                    return Object(g.a)(Object(g.a)({}, e), {}, {
                        button: {
                            marginBottom: 25
                        },
                        infoMessageText: {
                            color: t.secondaryText,
                            fontFamily: a.body,
                            fontSize: n.small,
                            lineHeight: 25,
                            textAlign: "center",
                            paddingHorizontal: 10,
                            paddingBottom: 20
                        }
                    })
                },
                Fa = function(e) {
                    var t, n = e.onClose,
                        o = Object(u.useQuery)(Pa),
                        i = o.data,
                        l = o.refetch,
                        c = !!(null === i || void 0 === i || null === (t = i.user) || void 0 === t ? void 0 : t.verifiedAt),
                        s = Ba(),
                        d = s.containerStyles,
                        m = Object(u.useMutation)(La, {
                            onError: function() {}
                        }),
                        f = Object(p.a)(m, 2),
                        b = f[0],
                        y = f[1],
                        v = y.called,
                        g = y.loading,
                        h = y.error,
                        E = Object(a.useState)("To protect against DDOS attacks we are currently requiring verification to play the game."),
                        x = Object(p.a)(E, 2),
                        w = x[0],
                        S = x[1],
                        O = v && !g && !h;
                    return Object(a.useEffect)((function() {
                        var e;
                        c ? S("You've successfully verified!") : O ? S("Verification email sent. Please check your inbox to verify your email and continue playing the game.") : (null === h || void 0 === h || null === (e = h.graphQLErrors) || void 0 === e ? void 0 : e.length) > 0 && S(h.graphQLErrors[0].message)
                    }), [O, c, h]), r.a.createElement(F.c, {
                        onBackdropPress: n,
                        overlayStyle: d.overlay.overlay,
                        containerStyle: d.overlay.container,
                        style: d.overlay.background
                    }, r.a.createElement($t.a, {
                        contentContainerStyle: d.screen
                    }, r.a.createElement(B.a, {
                        style: d.content
                    }, !c && !O && r.a.createElement(vt, {
                        onPress: b,
                        style: s.button,
                        loading: g
                    }, "Verify Email"), !c && O && r.a.createElement(vt, {
                        onPress: function() {
                            S("Your email has not been verified."), l()
                        },
                        style: s.button,
                        loading: g
                    }, "Check Verified"), r.a.createElement(P.a, {
                        style: s.infoMessageText
                    }, w))))
                },
                za = function() {
                    var e = se(Se()),
                        t = e.userMode,
                        n = e.fontSizes,
                        a = e.fonts;
                    return Object(g.a)(Object(g.a)({}, e), {}, {
                        subscribeContainer: {
                            flex: 1,
                            alignItems: "center",
                            justifyContent: "center"
                        },
                        buttonContainer: {
                            flexDirection: N({
                                default: "column",
                                web: "row"
                            }),
                            justifyContent: "space-around",
                            marginTop: 20
                        },
                        button: {
                            width: N({
                                default: "auto",
                                web: "40%"
                            }),
                            margin: 10
                        },
                        buttonText: {
                            fontSize: n.xSmall
                        },
                        okButtonText: {
                            fontSize: n.small
                        },
                        detailBox: {
                            padding: 20,
                            maxWidth: 600,
                            borderRadius: 5,
                            width: "100%",
                            backgroundColor: t.background
                        },
                        header: {
                            fontSize: n.medium,
                            paddingHorizontal: 10,
                            marginTop: 10,
                            color: t.text,
                            fontFamily: a.body
                        }
                    })
                },
                Ma = function(e) {
                    var t = e.onClose,
                        n = e.settings,
                        o = e.setSettings,
                        i = Object(a.useState)(null),
                        l = Object(p.a)(i, 2),
                        c = l[0],
                        u = l[1],
                        s = Object(a.useState)(null),
                        d = Object(p.a)(s, 2),
                        m = d[0],
                        f = d[1],
                        b = za(),
                        y = b.containerStyles;
                    return Object(a.useEffect)((function() {
                        u(null === n || void 0 === n ? void 0 : n.voiceAccent), f(null === n || void 0 === n ? void 0 : n.voiceGender)
                    }), [n]), r.a.createElement(F.c, {
                        onBackdropPress: t,
                        overlayStyle: y.overlay.overlay,
                        containerStyle: y.overlay.container,
                        style: y.overlay.background
                    }, r.a.createElement(B.a, {
                        style: b.subscribeContainer
                    }, r.a.createElement(B.a, {
                        style: b.detailBox
                    }, r.a.createElement(B.a, {
                        style: b.buttonContainer
                    }, r.a.createElement(vt, {
                        onPress: function() {
                            o && o({
                                voiceGender: m,
                                voiceAccent: c
                            }), t && t()
                        },
                        textStyle: b.okButtonText,
                        style: b.button
                    }, "Save")), r.a.createElement(P.a, {
                        style: b.header
                    }, "Gender:"), r.a.createElement(Fn, {
                        active: m,
                        textStyle: b.buttonText,
                        labels: ["Male", "Female"],
                        onPressActions: [function() {
                            f("Male")
                        }, function() {
                            f("Female")
                        }]
                    }), r.a.createElement(P.a, {
                        style: b.header
                    }, "Accent:"), r.a.createElement(Fn, {
                        active: c,
                        textStyle: b.buttonText,
                        labels: ["British", "US"],
                        onPressActions: [function() {
                            u("British")
                        }, function() {
                            u("US")
                        }]
                    }), r.a.createElement(Fn, {
                        active: c,
                        textStyle: b.buttonText,
                        labels: ["Australian", "German"],
                        onPressActions: [function() {
                            u("Australian")
                        }, function() {
                            u("German")
                        }]
                    }), r.a.createElement(Fn, {
                        active: c,
                        textStyle: b.buttonText,
                        labels: ["French", "Italian"],
                        onPressActions: [function() {
                            u("French")
                        }, function() {
                            u("Italian")
                        }]
                    }), r.a.createElement(Fn, {
                        active: c,
                        style: {
                            alignSelf: "center",
                            alignItems: "center",
                            width: "48%"
                        },
                        textStyle: b.buttonText,
                        labels: ["Japanese"],
                        onPressActions: [function() {
                            u("Japanese")
                        }]
                    }))))
                };

            function Ra() {
                var e = Object(x.a)(["\n  mutation ($input: AdventureInput) {\n    updateAdventure(input: $input) {\n      id\n      generateEvents\n    }\n  }\n"]);
                return Ra = function() {
                    return e
                }, e
            }

            function Da() {
                var e = Object(x.a)(["\nquery ($publicId: String) {\n  user {\n    id\n  }\n  adventure(publicId: $publicId) {\n    id\n    events\n    generateEvents\n  }\n}\n"]);
                return Da = function() {
                    return e
                }, e
            }
            var Na = k()(Da()),
                Va = k()(Ra()),
                Wa = function() {
                    var e = se(Se());
                    return Object(g.a)(Object(g.a)({}, e), {}, {
                        mainContainer: {
                            flexDirection: "column",
                            marginTop: 15,
                            marginHorizontal: 15,
                            paddingBottom: 15
                        },
                        closeButton: {
                            flexDirection: "row",
                            justifyContent: "flex-end",
                            width: 25
                        },
                        eventsSwitchLink: {
                            marginLeft: 10,
                            marginTop: 20
                        }
                    })
                },
                Ha = function(e) {
                    var t, n, a, o = e.onClose,
                        i = e.publicId,
                        l = Na,
                        c = Object(u.useQuery)(l, {
                            variables: {
                                publicId: i
                            }
                        }).data,
                        s = null === c || void 0 === c || null === (t = c.adventure) || void 0 === t ? void 0 : t.events,
                        d = Object(u.useMutation)(Va),
                        m = Object(p.a)(d, 1)[0],
                        f = Wa(),
                        b = f.containerStyles,
                        y = f.textStyles;
                    return r.a.createElement(F.c, {
                        onBackdropPress: o,
                        overlayStyle: b.overlay.overlay,
                        containerStyle: b.overlay.container,
                        style: b.overlay.background
                    }, r.a.createElement(B.a, {
                        style: {
                            padding: 20,
                            paddingBottom: 5,
                            flexDirection: "row",
                            justifyContent: "space-between"
                        }
                    }, r.a.createElement(P.a, {
                        style: y.title
                    }, "World Events"), r.a.createElement(L.a, {
                        onPress: o,
                        style: f.closeButton
                    }, r.a.createElement(qe, {
                        style: f.iconStyle,
                        name: "close",
                        size: 25
                    }))), r.a.createElement(B.a, {
                        style: {
                            padding: 20,
                            paddingTop: 0
                        }
                    }, r.a.createElement($t.a, {
                        style: [f.mainContainer, {
                            marginHorizontal: 10,
                            maxHeight: 350
                        }],
                        contentContainerStyle: {
                            flexGrow: 1
                        }
                    }, null === s || void 0 === s ? void 0 : s.map((function(e, t) {
                        return r.a.createElement(P.a, {
                            style: [y.body, {
                                marginBottom: 15
                            }],
                            key: t
                        }, "- ".concat(e))
                    }))), (null === c || void 0 === c || null === (n = c.adventure) || void 0 === n ? void 0 : n.generateEvents) && r.a.createElement(P.a, {
                        style: [y.bodyLink, f.eventsSwitchLink],
                        onPress: function() {
                            m({
                                variables: {
                                    input: {
                                        publicId: i,
                                        generateEvents: !1
                                    }
                                }
                            }), o()
                        }
                    }, "Turn Off Events"), !(null === c || void 0 === c || null === (a = c.adventure) || void 0 === a ? void 0 : a.generateEvents) && r.a.createElement(P.a, {
                        style: [y.bodyLink, f.eventsSwitchLink],
                        onPress: function() {
                            m({
                                variables: {
                                    input: {
                                        publicId: i,
                                        generateEvents: !0
                                    }
                                }
                            }), o()
                        }
                    }, "Turn On Events"), r.a.createElement(vt, {
                        style: {
                            maxWidth: 300,
                            alignSelf: "center",
                            marginTop: 20
                        },
                        onPress: o
                    }, "Ok")))
                },
                Ua = function() {
                    var e = se(Se()),
                        t = e.userMode;
                    return Object(g.a)(Object(g.a)({}, e), {}, {
                        overlay: {
                            position: "absolute",
                            right: 0,
                            left: 0,
                            top: N({
                                default: "40%",
                                web: "40%"
                            }),
                            padding: 0,
                            marginLeft: "15%",
                            marginRight: "15%",
                            height: "auto",
                            width: "auto",
                            borderWidth: 2,
                            borderRadius: 5,
                            borderColor: t.secondaryBackground,
                            backgroundColor: t.background
                        },
                        container: {
                            width: "100%",
                            height: "100%",
                            backgroundColor: de.clear
                        },
                        background: {
                            position: "absolute",
                            width: "100%",
                            height: "100%",
                            backgroundColor: de.clear
                        },
                        mainContainer: {
                            flexDirection: "column",
                            marginTop: 15,
                            marginHorizontal: 15,
                            paddingBottom: 15
                        },
                        closeButton: {
                            flexDirection: "row",
                            justifyContent: "flex-end",
                            width: 25
                        }
                    })
                },
                qa = function(e) {
                    var t = e.onClose,
                        n = Object(C.useNavigation)(),
                        a = Ua(),
                        o = a.containerStyles,
                        i = a.textStyles;
                    return r.a.createElement(F.c, {
                        onBackdropPress: t,
                        overlayStyle: a.overlay,
                        containerStyle: a.container,
                        style: o.overlay.background
                    }, r.a.createElement(B.a, {
                        style: a.mainContainer
                    }, r.a.createElement(B.a, {
                        style: {
                            flexDirection: "column",
                            justifyContent: "space-between"
                        }
                    }, r.a.createElement(B.a, {
                        style: {
                            flexDirection: "row",
                            justifyContent: "space-between"
                        }
                    }, r.a.createElement(P.a, {
                        style: i.subHeader
                    }, "World Info:"), r.a.createElement(L.a, {
                        onPress: t,
                        style: a.closeButton
                    }, r.a.createElement(qe, {
                        style: a.iconStyle,
                        name: "close",
                        size: 25
                    }))), r.a.createElement(P.a, {
                        style: i.body
                    }, "This adventure isn't set in a world, to create an adventure in one of our worlds you can go"), r.a.createElement(P.a, {
                        style: i.bodyLink,
                        onPress: function() {
                            t(), n.navigate("worlds")
                        }
                    }, "here."))))
                },
                Ga = r.a.createContext({
                    activeOverlay: "",
                    openOverlay: function() {},
                    closeOverlay: function() {}
                }),
                Ya = function() {
                    return r.a.useContext(Ga)
                },
                Qa = function(e) {
                    var t = e.children,
                        n = e.navigatorRef,
                        o = e.setActiveOverlayRef,
                        i = Object(a.useState)(""),
                        l = Object(p.a)(i, 2),
                        c = l[0],
                        u = l[1],
                        s = Object(a.useState)((function() {})),
                        d = Object(p.a)(s, 2),
                        m = d[0],
                        f = d[1],
                        b = Object(a.useState)({}),
                        y = Object(p.a)(b, 2),
                        v = y[0],
                        h = y[1],
                        E = n.current,
                        x = {
                            push: function(e, t) {
                                return E.dispatch(C.StackActions.push({
                                    routeName: e,
                                    params: Object(g.a)({}, t)
                                }))
                            },
                            reset: function(e, t) {
                                return null === E || void 0 === E ? void 0 : E.dispatch(C.StackActions.reset({
                                    index: 0,
                                    actions: [C.NavigationActions.navigate({
                                        routeName: e,
                                        params: t
                                    })]
                                }))
                            }
                        };
                    Object(a.useEffect)((function() {
                        o.current = u
                    }), []), Object(a.useEffect)((function() {
                        "" === c && void 0 !== m && (m(), f((function() {})))
                    }), [c, m]);
                    var w = function() {
                        return u("")
                    };
                    return r.a.createElement(Ga.Provider, {
                        value: {
                            activeOverlay: c,
                            openOverlay: function(e, t) {
                                return rt.a.dismiss(), u(e), h(t), Ne({
                                    eventName: "overlay_opened",
                                    variation: "invite"
                                }), f
                            },
                            closeOverlay: function() {
                                return u("")
                            }
                        }
                    }, t, function() {
                        switch (c) {
                            case "subscribe":
                                return r.a.createElement(Ca, Object.assign({
                                    onClose: w,
                                    navigation: x
                                }, v));
                            case "feedback":
                                return r.a.createElement(nn, Object.assign({
                                    onClose: w,
                                    navigation: x
                                }, v));
                            case "premiumFeedback":
                                return r.a.createElement(Ln, Object.assign({
                                    onClose: w,
                                    navigation: x
                                }, v));
                            case "login":
                                return r.a.createElement($n, Object.assign({
                                    onClose: w,
                                    navigation: x
                                }, v));
                            case "age":
                                return r.a.createElement(Ft, Object.assign({
                                    onClose: w,
                                    navigation: x
                                }, v));
                            case "contentCardOptions":
                                return r.a.createElement(Vt, Object.assign({
                                    onClose: w,
                                    navigation: x
                                }, v));
                            case "commentCardOptions":
                                return r.a.createElement(Lt, Object.assign({
                                    onClose: w,
                                    navigation: x
                                }, v));
                            case "share":
                                return r.a.createElement(Oa, Object.assign({
                                    onClose: w,
                                    navigation: x
                                }, v));
                            case "voice":
                                return r.a.createElement(Ma, Object.assign({
                                    onClose: w,
                                    navigation: x
                                }, v));
                            case "error":
                                return r.a.createElement(Qt, Object.assign({
                                    onClose: w,
                                    navigation: x
                                }, v));
                            case "tutorial":
                                return r.a.createElement(ka, Object.assign({
                                    onClose: w,
                                    navigation: x
                                }, v));
                            case "questLog":
                                return r.a.createElement(ba, Object.assign({
                                    onClose: w,
                                    navigation: x
                                }, v));
                            case "worldEvents":
                                return r.a.createElement(Ha, Object.assign({
                                    onClose: w,
                                    navigation: x
                                }, v));
                            case "death":
                                return r.a.createElement(Gt, Object.assign({
                                    onClose: w,
                                    navigation: x
                                }, v));
                            case "questCompleted":
                                return r.a.createElement(aa, Object.assign({
                                    onClose: w,
                                    navigation: x
                                }, v));
                            case "newQuest":
                                return r.a.createElement(bn, Object.assign({
                                    onClose: w,
                                    navigation: x
                                }, v));
                            case "character":
                                return r.a.createElement(St, Object.assign({
                                    onClose: w,
                                    navigation: x
                                }, v));
                            case "verify":
                                return r.a.createElement(Fa, Object.assign({
                                    onClose: w,
                                    navigation: x
                                }, v));
                            case "adventureMenu":
                                return r.a.createElement(dt, Object.assign({
                                    onClose: w,
                                    navigation: x
                                }, v));
                            case "joinMultiplayerGame":
                                return r.a.createElement(rn, Object.assign({
                                    onClose: w,
                                    navigation: x
                                }, v));
                            case "achievement":
                                return r.a.createElement(lt, Object.assign({
                                    onClose: w,
                                    navigation: x
                                }, v));
                            case "safety":
                                return r.a.createElement(va, Object.assign({
                                    onClose: w,
                                    navigation: x
                                }, v));
                            case "bannedWord":
                                return r.a.createElement(ft, Object.assign({
                                    onClose: w,
                                    navigation: x
                                }, v));
                            case "lastModelInput":
                                return r.a.createElement(mn, Object.assign({
                                    onClose: w,
                                    navigation: x
                                }, v));
                            case "codepushDeployment":
                                return r.a.createElement(Ot, Object.assign({
                                    onClose: w,
                                    navigation: x
                                }, v));
                            case "worldInvite":
                                return r.a.createElement(qa, Object.assign({
                                    onClose: w,
                                    navigaition: x
                                }, v));
                            default:
                                return null
                        }
                    }())
                };

            function $a() {
                var e = Object(x.a)(["\nmutation {\n  createAnonymousAccount {\n    id\n    accessToken\n  }\n}\n"]);
                return $a = function() {
                    return e
                }, e
            }

            function _a() {
                var e = Object(x.a)(["\nquery {\n  user {\n    id\n    username\n  }\n}\n"]);
                return _a = function() {
                    return e
                }, e
            }
            var Xa = r.a.createContext({
                    user: {}
                }),
                Ja = function() {
                    return r.a.useContext(Xa)
                },
                Ka = k()(_a()),
                Za = k()($a()),
                er = function() {
                    var e = se(Se()),
                        t = e.fontSizes;
                    return Object(g.a)(Object(g.a)({}, e), {}, {
                        container: {
                            flex: 1,
                            padding: 20,
                            flexDirection: "column",
                            alignItems: "flex-start",
                            justifyContent: "flex-start",
                            backgroundColor: de.background
                        },
                        logoText: {
                            marginTop: 50,
                            fontFamily: ie.body,
                            fontSize: t.xLarge,
                            color: de.text
                        },
                        statusText: {
                            color: de.text,
                            fontSize: t.small,
                            fontFamily: ie.body,
                            textTransform: "capitalize"
                        }
                    })
                },
                tr = function(e) {
                    var t = e.children,
                        n = Object(u.useQuery)(Ka),
                        o = n.data,
                        i = n.loading,
                        l = n.refetch,
                        c = null === o || void 0 === o ? void 0 : o.user,
                        s = er(),
                        d = Object(a.useState)(!!c),
                        m = Object(p.a)(d, 2),
                        f = m[0],
                        b = m[1],
                        y = Object(u.useMutation)(Za, {
                            onError: function() {},
                            onCompleted: function() {
                                var e = Object(O.a)(S.a.mark((function e(t) {
                                    return S.a.wrap((function(e) {
                                        for (;;) switch (e.prev = e.next) {
                                            case 0:
                                                return l(), e.next = 3, ke.setLoggedInUser(t.createAnonymousAccount);
                                            case 3:
                                                Ne({
                                                    eventName: "funnel_create_anonymous_user"
                                                }), b(!0);
                                            case 5:
                                            case "end":
                                                return e.stop()
                                        }
                                    }), e)
                                })));
                                return function(t) {
                                    return e.apply(this, arguments)
                                }
                            }()
                        }),
                        v = Object(p.a)(y, 1)[0];
                    return Object(a.useEffect)((function() {
                        f || i || c || v()
                    }), [f, i, c]), c ? r.a.createElement(Xa.Provider, {
                        value: {
                            user: c
                        }
                    }, t) : r.a.createElement(r.a.Fragment, null, r.a.createElement(B.a, {
                        style: s.container
                    }, r.a.createElement(P.a, {
                        style: s.logoText
                    }, "AI Dungeon"), r.a.createElement(P.a, {
                        style: s.statusText
                    }, "Connecting to Servers...")))
                },
                nr = n(90),
                ar = n.n(nr),
                rr = n(76),
                or = n.n(rr),
                ir = function() {
                    Ne({
                        eventName: "discord_opened"
                    }), yn.a.openURL("https://discord.gg/C3RMyKF")
                },
                lr = function() {
                    Ne({
                        eventName: "reddit_opened"
                    }), yn.a.openURL("https://www.reddit.com/r/AIDungeon/")
                },
                cr = function() {
                    Ne({
                        eventName: "twitter_opened"
                    }), yn.a.openURL("https://twitter.com/AiDungeon")
                },
                ur = function() {
                    Ne({
                        eventName: "instagram_opened"
                    }), yn.a.openURL("https://instagram.com/aidungeon")
                },
                sr = function() {
                    "web" !== A.a.OS && yn.a.openURL("http://aidungeon.featureupvote.com")
                },
                dr = function() {
                    var e = Object(C.useNavigation)(),
                        t = se(Se()),
                        n = t.containerStyles,
                        o = t.textStyles,
                        i = t.isDarkMode;
                    Object(a.useLayoutEffect)((function() {
                        e.setOptions({
                            headerRight: function() {
                                return r.a.createElement(B.a, {
                                    style: [n.latitudeLogoHeader, {
                                        marginTop: N({
                                            default: 25,
                                            iPhoneX: 60
                                        })
                                    }]
                                }, r.a.createElement(ot.a, {
                                    source: i ? or.a : ar.a,
                                    style: n.latitudeLogo
                                }))
                            }
                        })
                    }), [e]);
                    return r.a.createElement(B.a, {
                        style: [{
                            backgroundColor: t.userMode.background
                        }, n.basic]
                    }, r.a.createElement($t.a, {
                        contentContainerStyle: n.screen
                    }, r.a.createElement(B.a, {
                        style: n.content
                    }, r.a.createElement(P.a, {
                        style: o.header
                    }, "About AI Dungeon"), r.a.createElement(P.a, {
                        style: o.subHeader
                    }, "AI Dungeon by Latitude is a first of its kind AI generated text adventure."), r.a.createElement(P.a, {
                        style: [o.body, {
                            marginBottom: 10
                        }]
                    }, "Using a massive natural language AI model (and an even more massive one if you're on the Dragon model), AI Dungeon generates the story and results of your actions as you play in this virtual world. Unlike virtually every other game in existence, you are not limited by the imagination of the developer in what you can do. Any thing you can express in language can be your action and the AI dungeon master will decide how the world responds."), r.a.createElement(P.a, {
                        style: [o.body, {
                            marginBottom: 10
                        }]
                    }, "The images we use in AI Dungeon are AI generated on ", r.a.createElement(P.a, {
                        onPress: sr,
                        href: "http://artbreeder.com",
                        target: "_blank",
                        accessibilityRole: "link",
                        style: o.bodyLink
                    }, "ArtBreeder")), r.a.createElement(P.a, {
                        style: [o.body, {
                            marginBottom: 10
                        }]
                    }, "If you have suggestions for new features for AI Dungeon you can add and upvote them at ", r.a.createElement(P.a, {
                        onPress: sr,
                        href: "http://aidungeon.featureupvote.com",
                        target: "_blank",
                        accessibilityRole: "link",
                        style: o.bodyLink
                    }, "aidungeon.featureupvote.com")), r.a.createElement(P.a, {
                        style: o.subHeader
                    }, "Legal"), r.a.createElement(L.a, {
                        onPress: function() {
                            Ne({
                                eventName: "terms_of_service_opened"
                            }), yn.a.openURL("https://aidungeon.io/terms-of-service/")
                        },
                        style: {
                            marginBottom: 10
                        }
                    }, r.a.createElement(P.a, {
                        style: o.bodyLink
                    }, "Terms of Service")), r.a.createElement(L.a, {
                        onPress: function() {
                            Ne({
                                eventName: "privacy_policy_opened"
                            }), yn.a.openURL("https://aidungeon.io/privacy-policy/")
                        }
                    }, r.a.createElement(P.a, {
                        style: o.bodyLink
                    }, "Privacy Policy")), r.a.createElement(B.a, {
                        style: {
                            marginVertical: 20
                        }
                    }), r.a.createElement(P.a, {
                        style: o.header
                    }, "Support Us"), r.a.createElement(P.a, {
                        style: [o.subHeader, {
                            marginBottom: 20
                        }]
                    }, "Please consider ", r.a.createElement(P.a, {
                        onPress: function() {
                            Ne({
                                eventName: "patreon_opened"
                            }), yn.a.openURL("https://www.patreon.com/AIDungeon")
                        },
                        href: "https://www.patreon.com/AIDungeon",
                        target: "_blank",
                        accessibilityRole: "link",
                        style: o.subHeaderLink
                    }, "supporting AI Dungeon by Latitude on Patreon"), " for exclusive behind the scenes updates on what we're working on. Your contributions help us continue to develop the future of gaming with AI! (While donations through Patreon are highly appreciated, they do not grant Premium access.)", r.a.createElement(P.a, {
                        style: o.body
                    })), r.a.createElement(P.a, {
                        style: o.header
                    }, "Help"), r.a.createElement(B.a, {
                        style: {
                            flexDirection: "row"
                        }
                    }, r.a.createElement(P.a, {
                        style: o.subHeader
                    }, "Visit our "), r.a.createElement(L.a, {
                        onPress: function() {
                            return Ne({
                                eventName: "help_opened"
                            }), void e.navigate("help")
                        }
                    }, r.a.createElement(P.a, {
                        style: o.subHeaderLink
                    }, "Help Page"))), r.a.createElement(B.a, {
                        style: {
                            marginVertical: 10
                        }
                    }), r.a.createElement(P.a, {
                        style: o.header
                    }, "Updates"), r.a.createElement(B.a, {
                        style: {
                            flexDirection: "row"
                        }
                    }, r.a.createElement(P.a, {
                        style: o.subHeader
                    }, "Visit our "), r.a.createElement(L.a, {
                        onPress: function() {
                            return Ne({
                                eventName: "updates_opened"
                            }), void e.navigate("allUpdates")
                        }
                    }, r.a.createElement(P.a, {
                        style: o.subHeaderLink
                    }, "Updates Page"))), r.a.createElement(B.a, {
                        style: {
                            marginVertical: 10
                        }
                    }), r.a.createElement(P.a, {
                        style: o.header
                    }, "Community"), r.a.createElement(B.a, {
                        style: {
                            flexDirection: "row"
                        }
                    }, r.a.createElement(Ye, {
                        iconName: "discord",
                        onPress: ir,
                        color: t.userTheme.primary,
                        size: 40,
                        label: "",
                        accessibilityLabel: "discord"
                    }), r.a.createElement(Ye, {
                        iconName: "reddit",
                        onPress: lr,
                        color: t.userTheme.primary,
                        size: 40,
                        label: "",
                        accessibilityLabel: "reddit"
                    }), r.a.createElement(Ye, {
                        iconName: "twitter",
                        onPress: cr,
                        color: t.userTheme.primary,
                        size: 40,
                        label: "",
                        accessibilityLabel: "twitter"
                    }), r.a.createElement(Ye, {
                        iconName: "instagram",
                        onPress: ur,
                        color: t.userTheme.primary,
                        size: 40,
                        label: "",
                        accessibilityLabel: "instagram"
                    })))))
                },
                mr = n(32);

            function fr() {
                var e = Object(x.a)(["\n    fragment UpdateCardFragment on ProductUpdate {\n      id\n      title\n      description\n    }\n  "]);
                return fr = function() {
                    return e
                }, e
            }
            var br = function(e) {
                var t = e.update,
                    n = se(Se()).textStyles;
                return r.a.createElement(B.a, {
                    style: {
                        flexDirection: "row",
                        marginBottom: 10
                    }
                }, r.a.createElement(P.a, {
                    style: n.bulletPoint
                }, "\u2022"), r.a.createElement(P.a, {
                    style: [n.body, {
                        flex: 1
                    }]
                }, t.title, ": ", t.description))
            };
            br.fragments = {
                update: k()(fr())
            };
            var yr = br;

            function vr() {
                var e = Object(x.a)(["\n  query {\n    productUpdates {\n      ...UpdateCardFragment\n      createdAt\n    }\n  }\n  ", "\n"]);
                return vr = function() {
                    return e
                }, e
            }
            var gr = function(e) {
                    if (e) {
                        var t = Object(mr.a)(e);
                        t.sort((function(e, t) {
                            return e.createdAt < t.createdAt ? 1 : -1
                        }));
                        var n, a = {},
                            r = Object(on.a)(t);
                        try {
                            for (r.s(); !(n = r.n()).done;) {
                                var o, i = n.value,
                                    l = null === i || void 0 === i || null === (o = i.createdAt) || void 0 === o ? void 0 : o.substring(0, 10);
                                a[l] ? a[l].push(i) : a[l] = [i]
                            }
                        } catch (c) {
                            r.e(c)
                        } finally {
                            r.f()
                        }
                        return Object.values(a)
                    }
                },
                pr = k()(vr(), yr.fragments.update),
                hr = function() {
                    var e = Object(C.useNavigation)(),
                        t = Object(u.useQuery)(pr).data,
                        n = gr(null === t || void 0 === t ? void 0 : t.productUpdates),
                        o = se(Se()),
                        i = o.containerStyles,
                        l = o.textStyles,
                        c = o.isDarkMode;
                    return Object(a.useLayoutEffect)((function() {
                        e.setOptions({
                            headerRight: function() {
                                return r.a.createElement(B.a, {
                                    style: [i.latitudeLogoHeader, {
                                        marginTop: N({
                                            default: 25,
                                            iPhoneX: 60
                                        })
                                    }]
                                }, r.a.createElement(ot.a, {
                                    source: c ? or.a : ar.a,
                                    style: i.latitudeLogo
                                }))
                            }
                        })
                    }), [e]), r.a.createElement(B.a, {
                        style: [{
                            backgroundColor: o.userMode.background
                        }, i.basic]
                    }, r.a.createElement($t.a, {
                        contentContainerStyle: i.screen
                    }, r.a.createElement(B.a, {
                        style: i.content
                    }, r.a.createElement(P.a, {
                        style: l.header
                    }, "AI Dungeon Updates"), null === n || void 0 === n ? void 0 : n.map((function(e, t) {
                        return r.a.createElement(B.a, {
                            style: {
                                marginBottom: 20
                            },
                            key: t
                        }, r.a.createElement(P.a, {
                            style: [l.subHeader, {
                                marginBottom: 10
                            }]
                        }, new Date(e[0].createdAt).toLocaleDateString()), null === e || void 0 === e ? void 0 : e.map((function(e, t) {
                            return r.a.createElement(yr, {
                                key: t,
                                update: e
                            })
                        })))
                    })))))
                },
                Er = ['If you\'re logged in, your games are auto saved for you. You can find them by clicking "My Stuff" on the sidebar menu.', 'You can write much more verbose actions than just "grab bucket", etc...', 'Remember to start a "do" input with a verb, ex: Attack the orc', "Use the Undo button to delete the last action in the story (either yours or the AI's).", "Long sentences for actions are no problem! Get creative!", 'Join the community! Check out the "Explore" section in the sidebar to view adventures and scenarios published by other players.', "Want more story to generate? Just press enter without typing in an action.", "Use the /remember command or the pin button to edit the story context that the AI always tries to remember.", 'Search for "Tips for the /Remember command" in explore to learn how to keep the AI on track.', "Use the Alter command to directly change the AI's response to your input to take the story wherever you'd like.", 'For best results, use second person. For example, "You fly to the moon" instead of "I fly to the moon".'],
                xr = ['To create a multiplayer game, have the host click "New Multiplayer Game" from the home screen. After setting up the game, click the menu in the upper right hand corner and then click "Invite Friends". Copy the link and share.', "If you want everyone to play using the Dragon AI, just the host needs to have Premium.", "To toggle NSFW mode on and off, have the host click \"Edit Adventure\" in the menu, find the NSFW option, and set it to your group's preference. (By default it's turned off.)"],
                wr = n(504),
                Sr = n.n(wr),
                Or = function(e) {
                    var t = Object.assign({}, e);
                    return r.a.createElement(Sr.a, t)
                },
                jr = function() {
                    "web" !== A.a.OS && yn.a.openURL("https://aidungeon.io/frequently-asked-questions/")
                },
                Cr = function() {
                    "web" !== A.a.OS && yn.a.openURL("https://aidungeon.featureupvote.com/")
                },
                Tr = function() {
                    var e = se(Se()),
                        t = e.userMode,
                        n = e.userTheme,
                        a = e.fonts;
                    return Object(g.a)(Object(g.a)({}, e), {}, {
                        section: {
                            flexDirection: "row",
                            marginBottom: 10
                        },
                        playNowSection: {
                            flexDirection: "row",
                            marginBottom: 10,
                            marginVertical: 20,
                            alignSelf: "center"
                        },
                        command: {
                            flexDirection: "row",
                            alignItems: "center",
                            marginBottom: 10
                        },
                        iconBackground: {
                            backgroundColor: t.secondaryBackground,
                            borderRadius: 10,
                            marginRight: 15
                        },
                        icon: {
                            fontSize: le.iconButton,
                            textAlign: "center",
                            width: 40,
                            padding: 8
                        },
                        inputButton: {
                            height: 30,
                            width: "auto",
                            opacity: 1,
                            alignSelf: "center",
                            marginRight: 20,
                            borderRadius: 5
                        },
                        button: {
                            alignSelf: "center",
                            marginVertical: 20,
                            maxWidth: 400,
                            borderRadius: 5,
                            width: "100%"
                        },
                        buttonText: {
                            fontFamily: a.body,
                            color: n.text,
                            alignSelf: "center",
                            fontSize: le.xSmall
                        }
                    })
                },
                kr = function() {
                    var e = Object(C.useNavigation)(),
                        t = Tr(),
                        n = t.containerStyles,
                        o = t.textStyles,
                        i = t.isDarkMode;
                    Object(a.useLayoutEffect)((function() {
                        e.setOptions({
                            headerRight: function() {
                                return r.a.createElement(B.a, {
                                    style: [n.latitudeLogoHeader, {
                                        marginTop: N({
                                            default: 25,
                                            iPhoneX: 60
                                        })
                                    }]
                                }, r.a.createElement(ot.a, {
                                    source: i ? or.a : ar.a,
                                    style: n.latitudeLogo
                                }))
                            }
                        })
                    }), [e]);
                    return r.a.createElement(B.a, {
                        style: [{
                            backgroundColor: t.userMode.background
                        }, n.basic]
                    }, r.a.createElement($t.a, {
                        contentContainerStyle: n.screen
                    }, r.a.createElement(B.a, {
                        style: n.content
                    }, r.a.createElement(P.a, {
                        style: o.header
                    }, "Things You Should Know"), r.a.createElement(B.a, {
                        style: t.section
                    }, r.a.createElement(P.a, {
                        style: o.bulletPoint
                    }, "\u2022"), r.a.createElement(P.a, {
                        style: [o.body, {
                            flex: 1
                        }]
                    }, "Anything is possible. Literally anything. You can type any action you think of and the AI will try to generate a story off of it. It's not always perfect, but you'll be surprised at what's possible.")), r.a.createElement(B.a, {
                        style: t.section
                    }, r.a.createElement(P.a, {
                        style: o.bulletPoint
                    }, "\u2022"), r.a.createElement(P.a, {
                        style: [o.body, {
                            flex: 1
                        }]
                    }, "AI is hard. This is a game that's unlike anything you've ever played before. It uses cutting edge AI tech to generate the responses. That being said, there may be weird quirks that you notice. We're always working on improving the AI and keeping up with research, so AI Dungeon will get better as new AI research advancements come out.")), r.a.createElement(B.a, {
                        style: t.section
                    }, r.a.createElement(P.a, {
                        style: o.bulletPoint
                    }, "\u2022"), r.a.createElement(P.a, {
                        style: [o.body, {
                            flex: 1
                        }]
                    }, "There are a lot of ways you can improve your adventure when the AI struggles. Use features like Undo and Alter to keep the AI on track. Read more below to learn about how these different commands work.")), r.a.createElement(B.a, {
                        style: {
                            marginVertical: 20
                        }
                    }), r.a.createElement(P.a, {
                        style: o.header
                    }, "Input Options"), r.a.createElement(B.a, {
                        style: t.command
                    }, r.a.createElement(Or, {
                        start: {
                            x: 0,
                            y: 0
                        },
                        end: {
                            x: 1,
                            y: 0
                        },
                        colors: [t.userTheme.primary, t.userTheme.secondary],
                        style: t.inputButton
                    }, r.a.createElement(vt, {
                        accessibilityLabel: "Do input option",
                        accessibilityRole: "text",
                        textStyle: t.buttonText,
                        style: {
                            backgroundColor: de.clear,
                            height: 30,
                            width: "auto"
                        }
                    }, "Do:")), r.a.createElement(P.a, {
                        style: [o.body, {
                            flex: 1
                        }]
                    }, 'An action you want to take in the story. Always start with an action word, ex. "Search for the hidden treasure."')), r.a.createElement(B.a, {
                        style: t.command
                    }, r.a.createElement(Or, {
                        start: {
                            x: 0,
                            y: 0
                        },
                        end: {
                            x: 1,
                            y: 0
                        },
                        colors: [t.userTheme.primary, t.userTheme.secondary],
                        style: t.inputButton
                    }, r.a.createElement(vt, {
                        accessibilityLabel: "Say input option",
                        accessibilityRole: "text",
                        textStyle: t.buttonText,
                        style: {
                            backgroundColor: de.clear,
                            height: 30,
                            width: "auto"
                        }
                    }, "Say:")), r.a.createElement(P.a, {
                        style: [o.body, {
                            flex: 1
                        }]
                    }, 'You can use this input setting to speak, ex. "Leave them alone!"')), r.a.createElement(B.a, {
                        style: t.command
                    }, r.a.createElement(Or, {
                        start: {
                            x: 0,
                            y: 0
                        },
                        end: {
                            x: 1,
                            y: 0
                        },
                        colors: [t.userTheme.primary, t.userTheme.secondary],
                        style: t.inputButton
                    }, r.a.createElement(vt, {
                        accessibilityLabel: "Story input option",
                        accessibilityRole: "text",
                        textStyle: t.buttonText,
                        style: {
                            backgroundColor: de.clear,
                            height: 30,
                            width: "auto"
                        }
                    }, "Story:")), r.a.createElement(P.a, {
                        style: [o.body, {
                            flex: 1
                        }]
                    }, 'Use this input setting to take the story in a new direction without the AI putting "You" in front of your input.')), r.a.createElement(B.a, {
                        style: {
                            marginVertical: 20
                        }
                    }), r.a.createElement(P.a, {
                        style: o.header
                    }, "Commands"), r.a.createElement(B.a, {
                        style: t.command
                    }, r.a.createElement(B.a, {
                        style: t.iconBackground
                    }, r.a.createElement(qe, {
                        name: "format-list-bulleted",
                        style: t.icon
                    })), r.a.createElement(P.a, {
                        style: [o.body, {
                            flex: 1
                        }]
                    }, "Click this button to generate a list of actions. This is helpful when you don't want to type out responses or need help thinking of what to do next in the story.")), r.a.createElement(B.a, {
                        style: t.command
                    }, r.a.createElement(B.a, {
                        style: t.iconBackground
                    }, r.a.createElement(qe, {
                        name: "earth",
                        style: t.icon
                    })), r.a.createElement(P.a, {
                        style: [o.body, {
                            flex: 1
                        }]
                    }, "Click this button to edit the world info for your current adventure.")), r.a.createElement(B.a, {
                        style: t.command
                    }, r.a.createElement(B.a, {
                        style: t.iconBackground
                    }, r.a.createElement(qe, {
                        name: "pin",
                        style: t.icon
                    })), r.a.createElement(P.a, {
                        style: [o.body, {
                            flex: 1
                        }]
                    }, "Click the pin button to edit the memory context. The context is fed into the model at each step so the AI will be less likely to forget this information. The AI has a fundamental memory limit, however, and can't use more than ~1000 characters. ")), r.a.createElement(B.a, {
                        style: t.command
                    }, r.a.createElement(B.a, {
                        style: t.iconBackground
                    }, r.a.createElement(qe, {
                        name: "pencil",
                        style: t.icon
                    })), r.a.createElement(P.a, {
                        style: [o.body, {
                            flex: 1
                        }]
                    }, "Click the alter button to edit the last response from the AI. This is helpful if you get a nonsensical response and want to fix what the AI generated. ")), r.a.createElement(B.a, {
                        style: t.command
                    }, r.a.createElement(B.a, {
                        style: t.iconBackground
                    }, r.a.createElement(qe, {
                        name: "undo",
                        style: t.icon
                    })), r.a.createElement(P.a, {
                        style: [o.body, {
                            flex: 1
                        }]
                    }, "Undo the last action. This is helpful if you get a nonsensical response or if the game starts looping. Just undo and try something else.")), r.a.createElement(B.a, {
                        style: t.command
                    }, r.a.createElement(B.a, {
                        style: t.iconBackground
                    }, r.a.createElement(qe, {
                        name: "redo",
                        style: t.icon
                    })), r.a.createElement(P.a, {
                        style: [o.body, {
                            flex: 1
                        }]
                    }, "Did you undo by accident? Just hit the redo button to get it back.")), r.a.createElement(B.a, {
                        style: t.command
                    }, r.a.createElement(B.a, {
                        style: t.iconBackground
                    }, r.a.createElement(qe, {
                        name: "restart",
                        style: t.icon
                    })), r.a.createElement(P.a, {
                        style: [o.body, {
                            flex: 1
                        }]
                    }, "Click this button to retry the last action and generate a new response. Very helpful when you want to explore the multiverse.")), r.a.createElement(B.a, {
                        style: {
                            marginVertical: 20
                        }
                    }), r.a.createElement(P.a, {
                        style: o.header
                    }, "Multiplayer"), null === xr || void 0 === xr ? void 0 : xr.map((function(e, n) {
                        return r.a.createElement(B.a, {
                            key: n,
                            style: t.section
                        }, r.a.createElement(P.a, {
                            style: o.bulletPoint
                        }, "\u2022"), r.a.createElement(P.a, {
                            style: [o.body, {
                                flex: 1
                            }]
                        }, e))
                    })), r.a.createElement(B.a, {
                        style: {
                            marginVertical: 20
                        }
                    }), r.a.createElement(P.a, {
                        style: o.header
                    }, "Tips"), null === Er || void 0 === Er ? void 0 : Er.map((function(e, n) {
                        return r.a.createElement(B.a, {
                            key: n,
                            style: t.section
                        }, r.a.createElement(P.a, {
                            style: o.bulletPoint
                        }, "\u2022"), r.a.createElement(P.a, {
                            style: [o.body, {
                                flex: 1
                            }]
                        }, e))
                    })), r.a.createElement(B.a, {
                        style: {
                            marginVertical: 20
                        }
                    }), r.a.createElement(P.a, {
                        style: o.header
                    }, "Get Help"), r.a.createElement(B.a, {
                        style: t.section
                    }, r.a.createElement(P.a, {
                        style: o.bulletPoint
                    }, "\u2022"), r.a.createElement(P.a, {
                        style: [o.body, {
                            flex: 1
                        }]
                    }, "Got an idea for the game you'd like to share? Visit ", r.a.createElement(P.a, {
                        onPress: Cr,
                        href: "https://aidungeon.featureupvote.com/",
                        target: "_blank",
                        accessibilityRole: "link",
                        style: [o.bodyLink, {
                            flex: 1
                        }]
                    }, "https://aidungeon.featureupvote.com/"), " to vote on your favorite ideas and add your own.")), r.a.createElement(B.a, {
                        style: t.section
                    }, r.a.createElement(P.a, {
                        style: o.bulletPoint
                    }, "\u2022"), r.a.createElement(P.a, {
                        style: [o.body, {
                            flex: 1
                        }]
                    }, "If you have technical issues then visit ", r.a.createElement(P.a, {
                        onPress: jr,
                        href: "https://aidungeon.io/frequently-asked-questions/",
                        target: "_blank",
                        accessibilityRole: "link",
                        style: [o.bodyLink, {
                            flex: 1
                        }]
                    }, "https://aidungeon.io/frequently-asked-questions/"), " for FAQ and technical support.")), r.a.createElement(B.a, {
                        style: t.playNowSection
                    }, r.a.createElement(Or, {
                        start: {
                            x: 0,
                            y: 0
                        },
                        end: {
                            x: 1,
                            y: 0
                        },
                        colors: [t.userTheme.primary, t.userTheme.secondary],
                        style: t.button
                    }, r.a.createElement(vt, {
                        accessibilityLabel: "Play Now",
                        onPress: function() {
                            e.navigate("home")
                        },
                        textStyle: {
                            color: t.userTheme.text
                        },
                        style: {
                            backgroundColor: de.clear
                        }
                    }, "Play Now"))))))
                },
                Ar = n(505),
                Ir = n.n(Ar),
                Pr = n(506),
                Lr = n.n(Pr),
                Br = function() {
                    var e = se(Se()),
                        t = e.userMode,
                        n = e.fontSizes;
                    return Object(g.a)(Object(g.a)({}, e), {}, {
                        children: {
                            fontSize: n.medium,
                            letterSpacing: .3,
                            color: t.text,
                            lineHeight: N({
                                default: 24,
                                iPhone5: 18,
                                tablet: 30,
                                tabletLarge: 48
                            })
                        },
                        errorText: {
                            color: t.alertText
                        }
                    })
                },
                Fr = function(e) {
                    var t, n = e.textFont,
                        o = e.textSize,
                        i = e.textSpeed,
                        l = e.loading,
                        c = void 0 !== l && l,
                        u = e.children,
                        s = e.error,
                        d = e.style,
                        m = Object(We.a)(e, ["textFont", "textSize", "textSpeed", "loading", "children", "error", "style"]),
                        f = Object(a.useState)(""),
                        b = Object(p.a)(f, 2),
                        y = b[0],
                        v = b[1],
                        g = Br(),
                        h = D(o),
                        E = function() {
                            var e = Object(O.a)(S.a.mark((function e(t) {
                                return S.a.wrap((function(e) {
                                    for (;;) switch (e.prev = e.next) {
                                        case 0:
                                            return e.next = 2, v((function(e) {
                                                if (!u || (null === e || void 0 === e ? void 0 : e.length) >= (null === u || void 0 === u ? void 0 : u.length)) return clearInterval(t), e;
                                                var n = u[null === e || void 0 === e ? void 0 : e.length];
                                                return "".concat(e).concat(n)
                                            }));
                                        case 2:
                                        case "end":
                                            return e.stop()
                                    }
                                }), e)
                            })));
                            return function(t) {
                                return e.apply(this, arguments)
                            }
                        }();
                    return Object(a.useEffect)((function() {
                        v("")
                    }), [u]), Object(a.useEffect)((function() {
                        if (0 !== i && h) {
                            var e = setInterval((function() {
                                return E(e)
                            }), i);
                            return function() {
                                return clearInterval(e)
                            }
                        }
                    }), [i, h, u]), r.a.createElement(P.a, Object.assign({
                        selectable: !0,
                        style: [g.children, d, {
                            color: null === (t = g.userTheme) || void 0 === t ? void 0 : t.storyText
                        }, {
                            fontFamily: n
                        }, {
                            fontSize: h,
                            lineHeight: 1.3 * h
                        }, s ? g.errorText : null],
                        accessible: !0
                    }, m), c ? " " : u && !((null === y || void 0 === y ? void 0 : y.length) >= (null === u || void 0 === u ? void 0 : u.length)) && i > 0 ? y : u)
                };

            function zr() {
                var e = Object(x.a)(["\n    fragment StoryTextFragment on GameSettings {\n      id\n      textSpeed\n      textSize\n      textFont\n    }\n  "]);
                return zr = function() {
                    return e
                }, e
            }
            var Mr = function(e) {
                var t, n, a, o = e.text,
                    i = e.settings,
                    l = e.animateTyping,
                    c = void 0 === l || l,
                    u = (e.loading, e.error),
                    s = e.style,
                    d = Object(We.a)(e, ["text", "settings", "animateTyping", "loading", "error", "style"]),
                    m = Rr(),
                    f = null === i || void 0 === i ? void 0 : i.textFont,
                    b = null !== (t = null === i || void 0 === i ? void 0 : i.textSize) && void 0 !== t ? t : le.small,
                    y = null !== (n = null === i || void 0 === i ? void 0 : i.textSpeed) && void 0 !== n ? n : 20,
                    v = D(b),
                    g = c && y >= 5,
                    p = [m.children, {
                        color: null === (a = m.userTheme) || void 0 === a ? void 0 : a.storyText
                    }, {
                        fontFamily: f
                    }, {
                        fontSize: v,
                        lineHeight: 1.3 * v
                    }, u ? m.errorText : null, s];
                return g ? r.a.createElement(Fr, Object.assign({
                    textFont: f,
                    textSpeed: y,
                    textSize: b,
                    style: p,
                    accessible: !0,
                    typing: 1
                }, d), o) : r.a.createElement(P.a, Object.assign({
                    style: p,
                    selectable: !0,
                    accessible: !0
                }, d), o)
            };
            Mr.fragments = {
                gameSettings: k()(zr())
            };
            var Rr = function() {
                    var e = se(Se()),
                        t = e.userMode,
                        n = e.fontSizes;
                    return Object(g.a)(Object(g.a)({}, e), {}, {
                        children: {
                            fontSize: n.medium,
                            letterSpacing: .3,
                            color: t.text,
                            lineHeight: N({
                                default: 24,
                                iPhone5: 18,
                                tablet: 30,
                                tabletLarge: 48
                            })
                        },
                        errorText: {
                            color: t.alertText
                        }
                    })
                },
                Dr = Mr,
                Nr = function(e) {
                    d.a.timing(e, {
                        toValue: 1,
                        duration: 1e3,
                        delay: 4750,
                        useNativeDriver: !0
                    }).start()
                },
                Vr = function() {
                    var e = se(Se()),
                        t = e.userTheme,
                        n = e.fontSizes,
                        a = e.fonts;
                    return Object(g.a)(Object(g.a)({}, e), {}, {
                        introText: {
                            marginTop: 20,
                            height: N({
                                default: 160,
                                tablet: 200
                            }),
                            fontSize: n.medium,
                            fontFamily: a.header,
                            color: t.text,
                            marginBottom: 30
                        },
                        LatitudeLogo: {
                            height: 22,
                            width: 150
                        },
                        buttonStyle: {
                            marginBottom: 30,
                            maxWidth: 520,
                            alignSelf: "center"
                        },
                        webButtonContainer: {
                            width: "100%",
                            flexDirection: "row",
                            alignItems: "space-between",
                            justifyContent: "space-between"
                        }
                    })
                },
                Wr = function() {
                    var e = Object(C.useNavigation)(),
                        t = Object(a.useRef)(new d.a.Value(0)).current,
                        n = Ja().user,
                        o = Vr(),
                        i = o.containerStyles,
                        l = o.textStyles,
                        c = o.isDarkMode,
                        u = o.userTheme,
                        s = En({
                            eventName: "new_user_tutorial_or_creative_v2",
                            variations: {
                                tutorial: 50,
                                creative: 50
                            }
                        });
                    Object(a.useEffect)((function() {
                        Nr(t), Ne({
                            eventName: "landing"
                        })
                    }), []);
                    var m = function() {
                        var e = Object(O.a)(S.a.mark((function e() {
                            return S.a.wrap((function(e) {
                                for (;;) switch (e.prev = e.next) {
                                    case 0:
                                        return Ne({
                                            eventName: "landing_click_play"
                                        }), e.abrupt("return", fy("worlds", {
                                            mode: s
                                        }));
                                    case 2:
                                    case "end":
                                        return e.stop()
                                }
                            }), e)
                        })));
                        return function() {
                            return e.apply(this, arguments)
                        }
                    }();
                    Object(a.useLayoutEffect)((function() {
                        e.setOptions({
                            headerLeft: null
                        })
                    }), [e]);
                    return r.a.createElement(B.a, {
                        style: i.screen
                    }, r.a.createElement(B.a, {
                        style: [i.content, {
                            justifyContent: "center",
                            maxWidth: 520,
                            marginTop: 50
                        }]
                    }, r.a.createElement(P.a, {
                        style: l.title
                    }, "AI Dungeon"), r.a.createElement(Dr, {
                        style: o.introText,
                        text: "You're about to enter a world of endless possibilities, where you can do absolutely anything you can imagine.... Will you proceed?"
                    }), r.a.createElement(B.a, null, r.a.createElement(vt, {
                        accessibilityLabel: "Play",
                        onPress: m,
                        style: [o.buttonStyle, {
                            backgroundColor: u.primary
                        }],
                        textStyle: {
                            color: u.text
                        }
                    }, "Play"), !(null === n || void 0 === n ? void 0 : n.username) && r.a.createElement(vt, {
                        accessibilityLabel: "Login/Register",
                        onPress: function() {
                            Ne({
                                eventName: "landing_click_login"
                            }), e.navigate("loginRegister")
                        },
                        style: [o.buttonStyle],
                        textStyle: {
                            color: u.text
                        }
                    }, "Login / Register")), "web" === A.a.OS && r.a.createElement(B.a, {
                        style: o.webButtonContainer
                    }, r.a.createElement(L.a, {
                        style: {
                            width: "48%"
                        },
                        onPress: function() {
                            Ne({
                                eventName: "landing_click_google_play"
                            }), yn.a.openURL("https://play.google.com/store/apps/details?id=com.aidungeon")
                        }
                    }, r.a.createElement(ot.a, {
                        accessibilityLabel: "Download Android App",
                        source: Ir.a,
                        style: {
                            width: "100%",
                            height: 70,
                            resizeMode: "contain"
                        }
                    })), r.a.createElement(L.a, {
                        style: {
                            width: "48%"
                        },
                        onPress: function() {
                            Ne({
                                eventName: "landing_click_app_store"
                            }), yn.a.openURL("https://apps.apple.com/us/app/ai-dungeon/id1491268416")
                        }
                    }, r.a.createElement(ot.a, {
                        accessibilityLabel: "Download IOS App",
                        source: Lr.a,
                        style: {
                            width: "100%",
                            height: 70,
                            resizeMode: "contain"
                        }
                    })))), r.a.createElement(B.a, {
                        style: i.latitudeLogo
                    }, r.a.createElement(ot.a, {
                        source: c ? or.a : ar.a,
                        style: o.LatitudeLogo
                    })))
                },
                Hr = n(511);

            function Ur() {
                var e = Object(x.a)(["\n  query {\n    modelQuality\n  }\n"]);
                return Ur = function() {
                    return e
                }, e
            }
            var qr = k()(Ur()),
                Gr = function() {
                    var e = se(Se());
                    return Object(g.a)({}, e)
                },
                Yr = function() {
                    var e = Gr(),
                        t = e.containerStyles,
                        n = Object(u.useQuery)(qr).data,
                        a = null === n || void 0 === n ? void 0 : n.modelQuality[0];
                    return r.a.createElement(B.a, {
                        style: [{
                            backgroundColor: e.userMode.background
                        }, t.basic]
                    }, a && r.a.createElement(Hr.a, {
                        data: {
                            labels: ["January", "February", "March", "April", "May", "June"],
                            datasets: [{
                                data: [100 * Math.random(), 100 * Math.random(), 100 * Math.random(), 100 * Math.random(), 100 * Math.random(), 100 * Math.random()]
                            }]
                        },
                        width: 800,
                        height: 800,
                        yAxisLabel: "$",
                        yAxisSuffix: "k",
                        yAxisInterval: 1,
                        chartConfig: {
                            backgroundColor: de.modelQualityBackground,
                            backgroundGradientFrom: de.modelGradientFrom,
                            backgroundGradientTo: de.modelGradientTo,
                            decimalPlaces: 2,
                            color: function() {
                                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 1;
                                return "rgba(255, 255, 255, ".concat(e, ")")
                            },
                            labelColor: function() {
                                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 1;
                                return "rgba(255, 255, 255, ".concat(e, ")")
                            },
                            style: {
                                borderRadius: 16
                            },
                            propsForDots: {
                                r: "6",
                                strokeWidth: "2",
                                stroke: "#ffa726"
                            }
                        },
                        bezier: !0,
                        style: {
                            marginVertical: 8,
                            borderRadius: 16
                        }
                    }))
                },
                Qr = n(61),
                $r = function() {
                    var e = se(Se()),
                        t = e.userMode;
                    return Object(g.a)(Object(g.a)({}, e), {}, {
                        button: {
                            padding: 6,
                            margin: 2,
                            alignItems: "center",
                            justifyContent: "flex-start"
                        },
                        notification: {
                            position: "absolute",
                            top: 3,
                            right: 2,
                            width: 12,
                            height: 12,
                            borderRadius: 6,
                            backgroundColor: t.alert
                        },
                        disabled: {
                            opacity: .25
                        },
                        loadingIndicator: {
                            marginRight: 21
                        }
                    })
                },
                _r = function(e) {
                    var t = e.iconName,
                        n = e.type,
                        a = e.size,
                        o = e.loading,
                        i = e.onPress,
                        l = e.notification,
                        c = e.style,
                        u = e.color,
                        s = e.accessibilityLabel,
                        d = e.disabled,
                        m = Object(We.a)(e, ["iconName", "type", "size", "loading", "onPress", "notification", "style", "color", "accessibilityLabel", "disabled"]),
                        f = $r(),
                        b = f.userMode;
                    if (o) return r.a.createElement(bt.a, {
                        color: u || b.text,
                        style: f.loadingIndicator
                    });
                    var y = a || le.iconButton;
                    return r.a.createElement(L.a, Object.assign({
                        onPress: i,
                        accessible: !0,
                        accessibilityLabel: null !== s && void 0 !== s ? s : t,
                        accessibilityRole: "button"
                    }, m), r.a.createElement(B.a, {
                        style: [f.button, d ? f.disabled : null, c]
                    }, r.a.createElement(qe, {
                        type: n,
                        name: t,
                        size: y,
                        color: u || b.text
                    })), !!l && r.a.createElement(B.a, {
                        style: f.notification
                    }))
                },
                Xr = function(e) {
                    var t = e.onPress,
                        n = e.allowBack,
                        a = void 0 === n || n,
                        o = Object(C.useNavigation)(),
                        i = !(null === o || void 0 === o ? void 0 : o.canGoBack()) || !a;
                    return r.a.createElement(B.a, {
                        style: {
                            flexDirection: "row"
                        },
                        accessible: !1
                    }, !!i && r.a.createElement(_r, {
                        accessible: !0,
                        accessibilityLabel: "Open Menu",
                        accessibilityRole: "button",
                        iconName: "menu",
                        onPress: Object(O.a)(S.a.mark((function e() {
                            return S.a.wrap((function(e) {
                                for (;;) switch (e.prev = e.next) {
                                    case 0:
                                        if (!t) {
                                            e.next = 3;
                                            break
                                        }
                                        return e.next = 3, t();
                                    case 3:
                                        o.dispatch(C.DrawerActions.toggleDrawer()), rt.a.dismiss();
                                    case 5:
                                    case "end":
                                        return e.stop()
                                }
                            }), e)
                        }))),
                        style: {
                            marginLeft: 15
                        }
                    }), !i && r.a.createElement(_r, {
                        accessible: !0,
                        accessibilityLabel: "Go Back",
                        accessibilityRole: "button",
                        iconName: "arrow-left",
                        onPress: Object(O.a)(S.a.mark((function e() {
                            return S.a.wrap((function(e) {
                                for (;;) switch (e.prev = e.next) {
                                    case 0:
                                        if (!t) {
                                            e.next = 3;
                                            break
                                        }
                                        return e.next = 3, t();
                                    case 3:
                                        o.goBack();
                                    case 4:
                                    case "end":
                                        return e.stop()
                                }
                            }), e)
                        }))),
                        style: {
                            marginLeft: 15
                        }
                    }))
                };

            function Jr() {
                var e = Object(x.a)(["\n  mutation ($input: UserInput) {\n    updateUser(input: $input) {\n      id\n      sawUpdatesAt\n    }\n  }\n"]);
                return Jr = function() {
                    return e
                }, e
            }

            function Kr() {
                var e = Object(x.a)(["\n  query {\n    user {\n      id\n      newProductUpdates {\n        ...UpdateCardFragment\n        createdAt\n      }\n    }\n  }\n  ", "\n"]);
                return Kr = function() {
                    return e
                }, e
            }
            var Zr = function(e) {
                    if (e) {
                        var t = Object(mr.a)(e);
                        t.sort((function(e, t) {
                            return e.createdAt < t.createdAt ? 1 : -1
                        }));
                        var n, a = {},
                            r = Object(on.a)(t);
                        try {
                            for (r.s(); !(n = r.n()).done;) {
                                var o, i = n.value,
                                    l = null === i || void 0 === i || null === (o = i.createdAt) || void 0 === o ? void 0 : o.substring(0, 10);
                                a[l] ? a[l].push(i) : a[l] = [i]
                            }
                        } catch (c) {
                            r.e(c)
                        } finally {
                            r.f()
                        }
                        return Object.values(a)
                    }
                },
                eo = k()(Kr(), yr.fragments.update),
                to = k()(Jr()),
                no = function() {
                    var e = se(Se()),
                        t = e.userMode,
                        n = e.userTheme,
                        a = e.fontSizes,
                        r = e.fonts;
                    return Object(g.a)(Object(g.a)({}, e), {}, {
                        container: {
                            flexGrow: 1,
                            width: "100%",
                            maxWidth: 1e3,
                            justifyContent: "center",
                            paddingHorizontal: N({
                                default: 30,
                                iPhone5: 21,
                                tablet: 140,
                                tabletLarge: 182
                            })
                        },
                        heading: {
                            fontFamily: r.body,
                            fontSize: a.large,
                            color: t.text,
                            marginTop: 20
                        },
                        update: {
                            fontFamily: r.body,
                            fontSize: a.small,
                            color: t.text,
                            marginTop: 20
                        },
                        date: {
                            fontFamily: r.body,
                            fontSize: a.medium,
                            color: t.text,
                            marginTop: 20
                        },
                        nextButton: {
                            marginTop: 40,
                            marginBottom: 20,
                            width: "100%",
                            backgroundColor: n.primary
                        },
                        keyboardAvoidingViewFix: {
                            width: "100%"
                        }
                    })
                },
                ao = function() {
                    var e, t, n = Object(C.useNavigation)(),
                        o = Object(u.useQuery)(eo).data,
                        i = null === o || void 0 === o || null === (e = o.use) || void 0 === e ? void 0 : e.id,
                        l = null === o || void 0 === o || null === (t = o.user) || void 0 === t ? void 0 : t.newProductUpdates,
                        c = Object(u.useMutation)(to, {
                            onCompleted: function() {
                                return n.canGoBack() ? n.goBack() : n.navigate("home")
                            }
                        }),
                        s = Object(p.a)(c, 1)[0],
                        d = Zr(l),
                        m = no(),
                        f = m.containerStyles,
                        b = function() {
                            var e = Object(O.a)(S.a.mark((function e() {
                                return S.a.wrap((function(e) {
                                    for (;;) switch (e.prev = e.next) {
                                        case 0:
                                            s({
                                                variables: {
                                                    input: {
                                                        sawUpdatesAt: new Date
                                                    }
                                                },
                                                optimisticResponse: {
                                                    updateUser: {
                                                        __typename: "User",
                                                        id: i,
                                                        sawUpdatesAt: new Date,
                                                        newProductUpdates: []
                                                    }
                                                }
                                            });
                                        case 1:
                                        case "end":
                                            return e.stop()
                                    }
                                }), e)
                            })));
                            return function() {
                                return e.apply(this, arguments)
                            }
                        }();
                    return Object(a.useEffect)((function() {
                        0 === (null === l || void 0 === l ? void 0 : l.length) && fy("home")
                    }), [l]), Object(a.useLayoutEffect)((function() {
                        n.setOptions({
                            headerLeft: function() {
                                return r.a.createElement(Xr, {
                                    onPress: b
                                })
                            }
                        })
                    }), [i]), r.a.createElement($t.a, {
                        contentContainerStyle: f.screen
                    }, r.a.createElement(Qr.a, {
                        style: m.container
                    }, r.a.createElement(B.a, {
                        style: m.keyboardAvoidingViewFix
                    }, r.a.createElement(vt, {
                        title: "Enter",
                        accessibilityLabel: "Enter",
                        onPress: b,
                        style: m.nextButton,
                        textStyle: {
                            color: m.userTheme.text
                        }
                    }, "Enter")), r.a.createElement(B.a, {
                        style: m.keyboardAvoidingViewFix
                    }, r.a.createElement(P.a, {
                        style: m.heading
                    }, "We've Been Hard at Work! Here's What's New Since You Last Logged In:")), r.a.createElement(B.a, {
                        style: m.keyboardAvoidingViewFix
                    }, null === d || void 0 === d ? void 0 : d.map((function(e, t) {
                        return r.a.createElement(B.a, {
                            key: t
                        }, r.a.createElement(P.a, {
                            style: m.date
                        }, new Date(e[0].createdAt).toLocaleDateString()), e.map((function(e, t) {
                            return r.a.createElement(yr, {
                                key: t,
                                update: e
                            })
                        })))
                    })))))
                };

            function ro() {
                var e = Object(x.a)(["\n  mutation ($password: String, $email: String) {\n    changeEmail(password: $password, email: $email) {\n      id\n      email\n    }\n  }\n"]);
                return ro = function() {
                    return e
                }, e
            }
            var oo = k()(ro()),
                io = function() {
                    var e = se(Se()),
                        t = e.userTheme;
                    return Object(g.a)(Object(g.a)({}, e), {}, {
                        button: {
                            marginBottom: 15,
                            backgroundColor: t.primary
                        }
                    })
                },
                lo = function() {
                    var e = Object(a.useState)(null),
                        t = Object(p.a)(e, 2),
                        n = t[0],
                        o = t[1],
                        i = Object(a.useState)(null),
                        l = Object(p.a)(i, 2),
                        c = l[0],
                        s = l[1],
                        d = io(),
                        m = d.containerStyles,
                        f = d.textStyles,
                        b = d.userTheme,
                        y = Object(u.useMutation)(oo, {
                            onError: function() {}
                        }),
                        v = Object(p.a)(y, 2),
                        g = v[0],
                        h = v[1],
                        E = h.called,
                        x = h.loading,
                        w = h.error,
                        S = E && !x && !w;
                    return r.a.createElement(Qr.a, {
                        behavior: "ios" === A.a.OS ? "padding" : void 0,
                        style: m.screen
                    }, r.a.createElement(B.a, {
                        style: m.content
                    }, r.a.createElement(ht, {
                        label: "Enter your password",
                        secureTextEntry: !0,
                        autoCapitalize: "none",
                        returnKeyType: "done",
                        onChangeText: o,
                        error: E && !n ? "Please enter your password." : ""
                    }), r.a.createElement(ht, {
                        autoCapitalize: "none",
                        autoCorrect: !1,
                        keyboardType: "email-address",
                        returnKeyType: "done",
                        label: "Enter a new email address",
                        placeholder: "example@domain.com",
                        onChangeText: function(e) {
                            return s(null === e || void 0 === e ? void 0 : e.trim().toLowerCase())
                        },
                        error: function() {
                            var e;
                            return E && !n ? "" : E && !c ? "Please enter a new email." : (null === w || void 0 === w || null === (e = w.graphQLErrors) || void 0 === e ? void 0 : e.length) > 0 ? w.graphQLErrors[0].message : ""
                        }()
                    }), !S && r.a.createElement(vt, {
                        accessibilityLabel: "Submit",
                        loading: x,
                        onPress: function() {
                            n && c && g({
                                variables: {
                                    password: n,
                                    email: c
                                }
                            })
                        },
                        style: d.button,
                        textStyle: {
                            color: b.text
                        }
                    }, "Submit"), S && r.a.createElement(P.a, {
                        style: f.body
                    }, "Your email has been changed to ", c, ". Some features will be blocked until you verify your new email.")))
                };

            function co() {
                var e = Object(x.a)(["\nmutation ($oldPassword: String, $newPassword: String) {\n  changePassword(oldPassword: $oldPassword, newPassword: $newPassword) {\n    id\n  }\n}\n"]);
                return co = function() {
                    return e
                }, e
            }
            var uo = k()(co()),
                so = function() {
                    var e = se(Se()),
                        t = e.userTheme;
                    return Object(g.a)(Object(g.a)({}, e), {}, {
                        button: {
                            marginBottom: 15,
                            backgroundColor: t.primary
                        }
                    })
                },
                mo = function() {
                    var e = Object(a.useState)(null),
                        t = Object(p.a)(e, 2),
                        n = t[0],
                        o = t[1],
                        i = Object(a.useState)(null),
                        l = Object(p.a)(i, 2),
                        c = l[0],
                        s = l[1],
                        d = so(),
                        m = d.containerStyles,
                        f = d.textStyles,
                        b = d.userTheme,
                        y = Object(u.useMutation)(uo, {
                            onError: function() {}
                        }),
                        v = Object(p.a)(y, 2),
                        g = v[0],
                        h = v[1],
                        E = h.called,
                        x = h.loading,
                        w = h.error,
                        S = E && !x && !w;
                    return r.a.createElement(Qr.a, {
                        behavior: "ios" === A.a.OS ? "padding" : void 0,
                        style: m.screen
                    }, r.a.createElement(B.a, {
                        style: m.content
                    }, r.a.createElement(ht, {
                        label: "Enter your old password",
                        secureTextEntry: !0,
                        autoCapitalize: "none",
                        returnKeyType: "done",
                        onChangeText: o,
                        error: E && !n ? "Please enter your old password." : ""
                    }), r.a.createElement(ht, {
                        label: "Enter your new password",
                        secureTextEntry: !0,
                        autoCapitalize: "none",
                        returnKeyType: "done",
                        onChangeText: s,
                        error: function() {
                            var e;
                            return E && !n ? "" : E && !c ? "Please enter your new password." : (null === w || void 0 === w || null === (e = w.graphQLErrors) || void 0 === e ? void 0 : e.length) > 0 ? w.graphQLErrors[0].message : ""
                        }()
                    }), !S && r.a.createElement(vt, {
                        accessibilityLabel: "Submit",
                        loading: x,
                        onPress: function() {
                            g({
                                variables: {
                                    oldPassword: n,
                                    newPassword: c
                                }
                            })
                        },
                        style: d.button,
                        textStyle: {
                            color: b.text
                        }
                    }, "Submit"), S && r.a.createElement(P.a, {
                        style: f.body
                    }, "Your password has been changed.")))
                };

            function fo() {
                var e = Object(x.a)(["\nmutation ($password: String, $username: String) {\n  changeUsername(password: $password, username: $username) {\n    id\n    username\n  }\n}\n"]);
                return fo = function() {
                    return e
                }, e
            }
            var bo = k()(fo()),
                yo = function() {
                    var e = se(Se()),
                        t = e.userTheme;
                    return Object(g.a)(Object(g.a)({}, e), {}, {
                        buttonStyle: {
                            marginBottom: 15,
                            backgroundColor: t.primary
                        }
                    })
                },
                vo = function() {
                    var e = Object(a.useState)(null),
                        t = Object(p.a)(e, 2),
                        n = t[0],
                        o = t[1],
                        i = Object(a.useState)(null),
                        l = Object(p.a)(i, 2),
                        c = l[0],
                        s = l[1],
                        d = Object(u.useMutation)(bo, {
                            onError: function() {}
                        }),
                        m = Object(p.a)(d, 2),
                        f = m[0],
                        b = m[1],
                        y = b.called,
                        v = b.loading,
                        g = b.error,
                        h = yo(),
                        E = h.containerStyles,
                        x = h.textStyles,
                        w = h.userTheme,
                        S = h.buttonStyle,
                        O = y && !v && !g;
                    return r.a.createElement(Qr.a, {
                        behavior: "ios" === A.a.OS ? "padding" : void 0,
                        style: E.screen
                    }, r.a.createElement(B.a, {
                        style: E.content
                    }, r.a.createElement(ht, {
                        label: "Enter your password",
                        secureTextEntry: !0,
                        autoCapitalize: "none",
                        returnKeyType: "done",
                        onChangeText: o,
                        error: y && !n ? "Please enter your password." : ""
                    }), r.a.createElement(ht, {
                        autoCapitalize: "none",
                        autoCorrect: !1,
                        returnKeyType: "done",
                        label: "Enter a new username",
                        maxLength: 30,
                        value: c,
                        onChangeText: function(e) {
                            return s(null === e || void 0 === e ? void 0 : e.trim())
                        },
                        error: function() {
                            var e;
                            return y && !n ? "" : y && !c ? "Please enter a new username." : (null === g || void 0 === g || null === (e = g.graphQLErrors) || void 0 === e ? void 0 : e.length) > 0 ? g.graphQLErrors[0].message : ""
                        }()
                    }), !O && r.a.createElement(vt, {
                        accessibilityLabel: "Submit",
                        loading: v,
                        onPress: function() {
                            n && c && f({
                                variables: {
                                    password: n,
                                    username: c
                                }
                            })
                        },
                        style: S,
                        textStyle: {
                            color: w.text
                        }
                    }, "Submit"), O && r.a.createElement(P.a, {
                        style: x.body
                    }, "Your username has been changed to ", c, ".")))
                };

            function go() {
                var e = Object(x.a)(["\nmutation ($input: GameSettingsInput) {\n  saveGameSettings(input: $input) {\n    id\n    gameSettings {\n      id\n      modelType\n    }\n  }\n}\n"]);
                return go = function() {
                    return e
                }, e
            }

            function po() {
                var e = Object(x.a)(["\nquery {\n  user {\n    id\n    hasPremium\n    isDeveloper\n    gameSettings {\n      id\n      modelType \n    }\n  }\n}\n"]);
                return po = function() {
                    return e
                }, e
            }
            var ho = k()(po()),
                Eo = k()(go()),
                xo = function() {
                    var e = se(Se());
                    return Object(g.a)(Object(g.a)({}, e), {}, {
                        container: {
                            flex: 1,
                            alignItems: "center",
                            justifyContent: "center",
                            backgroundColor: de.subscriptionBackground
                        },
                        detailBox: {
                            padding: 20,
                            maxWidth: 600,
                            width: "100%"
                        },
                        hr: {
                            marginBottom: 10
                        },
                        title: {
                            fontSize: le.large,
                            color: de.subscriptionText,
                            textAlign: "center"
                        },
                        feature: {
                            color: de.subscriptionText,
                            marginBottom: 15,
                            fontSize: le.medium,
                            paddingLeft: 10
                        },
                        headerBar: {
                            backgroundColor: de.latitudeTeal,
                            fontSize: le.medium,
                            color: de.latitudePurple,
                            paddingLeft: 20,
                            paddingVertical: 20,
                            marginTop: 25,
                            marginBottom: 10
                        },
                        LatitudeLogo: {
                            height: 22,
                            width: 150
                        }
                    })
                },
                wo = function() {
                    var e = xo(),
                        t = e.userTheme,
                        n = Object(u.useQuery)(ho).data,
                        o = null === n || void 0 === n ? void 0 : n.settings,
                        i = Object(u.useMutation)(Eo),
                        l = Object(p.a)(i, 1)[0],
                        c = Object(C.useNavigation)(),
                        s = En({
                            eventName: "switch_to_dragon",
                            variations: {
                                switch: 50,
                                dont: 50
                            }
                        });
                    Object(a.useLayoutEffect)((function() {
                        c.setOptions({
                            headerRight: function() {
                                return r.a.createElement(B.a, {
                                    style: me.latitudeLogoHeader
                                }, r.a.createElement(ot.a, {
                                    source: or.a,
                                    style: e.LatitudeLogo
                                }))
                            }
                        })
                    }), [c]), Object(a.useEffect)((function() {
                        "switch" === s && l({
                            variables: {
                                input: {
                                    id: null === o || void 0 === o ? void 0 : o.id,
                                    modelType: "dragon"
                                }
                            }
                        })
                    }), [o]);
                    return r.a.createElement($t.a, {
                        style: {
                            backgroundColor: de.subscriptionBackground
                        }
                    }, r.a.createElement(B.a, {
                        style: e.container
                    }, r.a.createElement(B.a, {
                        style: e.detailBox
                    }, r.a.createElement(F.d, {
                        style: e.title
                    }, "Confirmed!"), r.a.createElement(F.d, {
                        style: e.headerBar
                    }, "Thank You!"), r.a.createElement(F.d, {
                        style: e.feature
                    }, "Your subscription is confirmed! Thank you so much for supporting us on our journey of transforming gaming with the power of AI. We're glad you've decided to be one of the first to help us blaze the trail into the future."), r.a.createElement(F.d, {
                        style: e.headerBar
                    }, "Unlocked Features"), "switch" === s && r.a.createElement(F.d, {
                        style: e.feature
                    }, "You'll now have access to the following features!"), "switch" !== s && r.a.createElement(F.d, {
                        style: e.feature
                    }, "You'll now have access to the following features!"), r.a.createElement(B.a, {
                        style: e.hr
                    }, ["Experience AI Dungeon on the Dragon model. One of the most powerful AI models in the world.", "First access to new developments as they come out", "Audio narration of your adventure", "Change advanced settings like randomness and length", "Help to advance AI powered games", "Cancel anytime"].map((function(t, n) {
                        return r.a.createElement(F.d, {
                            key: n,
                            style: e.feature
                        }, r.a.createElement(qe, {
                            name: "check",
                            color: de.subscriptionCheck,
                            size: 18,
                            style: {
                                paddingRight: 10
                            }
                        }), " ", t)
                    }))), r.a.createElement(vt, {
                        accessibilityLabel: "Play",
                        onPress: function() {
                            return fy("home")
                        },
                        style: [e.buttonStyle, {
                            backgroundColor: de.buttonBackground
                        }],
                        textStyle: {
                            color: t.text
                        }
                    }, "Play"))))
                };

            function So() {
                var e = Object(x.a)(["\nmutation ($password: String) {\n  deleteAccount(password: $password) {\n    id\n  }\n}\n"]);
                return So = function() {
                    return e
                }, e
            }
            var Oo = k()(So()),
                jo = function() {
                    var e = se(Se()),
                        t = e.userMode;
                    return Object(g.a)(Object(g.a)({}, e), {}, {
                        button: {
                            marginBottom: 15,
                            backgroundColor: t.alert
                        }
                    })
                },
                Co = function() {
                    var e = Object(a.useState)(null),
                        t = Object(p.a)(e, 2),
                        n = t[0],
                        o = t[1],
                        i = jo(),
                        l = i.containerStyles,
                        c = Object(u.useMutation)(Oo, {
                            onError: function() {}
                        }),
                        s = Object(p.a)(c, 2),
                        d = s[0],
                        m = s[1],
                        f = m.called,
                        b = m.loading,
                        y = m.error,
                        v = f && !b && !y;
                    Object(a.useEffect)((function() {
                        v && fy("landing")
                    }), [v]);
                    var g = function() {
                        var e = Object(O.a)(S.a.mark((function e() {
                            var t;
                            return S.a.wrap((function(e) {
                                for (;;) switch (e.prev = e.next) {
                                    case 0:
                                        if (n) {
                                            e.next = 2;
                                            break
                                        }
                                        return e.abrupt("return");
                                    case 2:
                                        "Delete Account?", t = "Are you sure you want to delete your account?", "web" !== A.a.OS ? zn.a.alert("Delete Account?", t, [{
                                            text: "No",
                                            style: "cancel"
                                        }, {
                                            text: "Delete",
                                            onPress: function() {
                                                var e = Object(O.a)(S.a.mark((function e() {
                                                    return S.a.wrap((function(e) {
                                                        for (;;) switch (e.prev = e.next) {
                                                            case 0:
                                                                d({
                                                                    variables: {
                                                                        password: n
                                                                    }
                                                                });
                                                            case 1:
                                                            case "end":
                                                                return e.stop()
                                                        }
                                                    }), e)
                                                })));
                                                return function() {
                                                    return e.apply(this, arguments)
                                                }
                                            }()
                                        }]) : window.confirm("".concat("Delete Account?", "\n").concat(t)) && d({
                                            variables: {
                                                password: n
                                            }
                                        });
                                    case 5:
                                    case "end":
                                        return e.stop()
                                }
                            }), e)
                        })));
                        return function() {
                            return e.apply(this, arguments)
                        }
                    }();
                    return r.a.createElement(Qr.a, {
                        behavior: "ios" === A.a.OS ? "padding" : void 0,
                        style: l.screen
                    }, r.a.createElement(B.a, {
                        style: l.content
                    }, r.a.createElement(ht, {
                        label: "Enter your password",
                        secureTextEntry: !0,
                        autoCapitalize: "none",
                        returnKeyType: "done",
                        onChangeText: o,
                        error: function() {
                            var e;
                            return f && !n ? "Please enter your password." : (null === y || void 0 === y || null === (e = y.graphQLErrors) || void 0 === e ? void 0 : e.length) > 0 ? y.graphQLErrors[0].message : ""
                        }
                    }), r.a.createElement(vt, {
                        accessibilityLabel: "Submit",
                        loading: b,
                        onPress: g,
                        style: i.button
                    }, "Delete")))
                },
                To = function() {
                    var e = se(Se());
                    return Object(g.a)(Object(g.a)({}, e), {}, {
                        content: {
                            width: "100%",
                            maxWidth: 600,
                            paddingHorizontal: N({
                                default: 24,
                                tablet: 60,
                                tabletLarge: 80
                            })
                        }
                    })
                },
                ko = function() {
                    var e = To(),
                        t = e.containerStyles;
                    return r.a.createElement($t.a, {
                        contentContainerStyle: t.screen
                    }, r.a.createElement(B.a, {
                        behavior: "ios" === A.a.OS ? "padding" : void 0,
                        style: [t.content, e.content]
                    }, r.a.createElement(Yn, {
                        onLogin: function() {
                            var e;
                            return null === (e = my.current) || void 0 === e ? void 0 : e.reset({
                                index: 0,
                                routes: [{
                                    name: "worldStart"
                                }]
                            })
                        },
                        resetNav: !1
                    })))
                };

            function Ao() {
                var e = Object(x.a)(["\nmutation ($email: String) {\n  sendForgotPasswordEmail(email: $email)\n}\n"]);
                return Ao = function() {
                    return e
                }, e
            }
            var Io = k()(Ao()),
                Po = function() {
                    var e = se(Se()),
                        t = e.userTheme;
                    return Object(g.a)(Object(g.a)({}, e), {}, {
                        container: {
                            paddingTop: 64,
                            alignSelf: "center",
                            width: "100%",
                            maxWidth: 600,
                            paddingHorizontal: N({
                                default: 30,
                                tablet: 60,
                                tabletLarge: 80
                            })
                        },
                        textField: {
                            marginBottom: 10,
                            marginTop: 15
                        },
                        button: {
                            marginBottom: 15,
                            marginTop: 20,
                            backgroundColor: t.primary
                        }
                    })
                },
                Lo = function() {
                    var e = Object(a.useState)(null),
                        t = Object(p.a)(e, 2),
                        n = t[0],
                        o = t[1],
                        i = Object(a.useState)(""),
                        l = Object(p.a)(i, 2),
                        c = l[0],
                        s = l[1],
                        d = Po(),
                        m = d.containerStyles,
                        f = Object(u.useMutation)(Io, {
                            onCompleted: function() {
                                s("A password reset link has been emailed to you at ".concat(n, "."))
                            }
                        }),
                        b = Object(p.a)(f, 2),
                        y = b[0],
                        v = b[1],
                        g = v.loading,
                        h = v.error;
                    Object(a.useEffect)((function() {
                        var e;
                        (null === h || void 0 === h || null === (e = h.graphQLErrors) || void 0 === e ? void 0 : e.length) > 0 && s(h.graphQLErrors[0].message)
                    }), [h]);
                    return r.a.createElement($t.a, {
                        style: {
                            backgroundColor: d.userMode.background
                        },
                        containerStyle: m.screen
                    }, r.a.createElement(Qr.a, {
                        behavior: "ios" === A.a.OS ? "padding" : void 0,
                        style: d.container
                    }, r.a.createElement(ht, {
                        autoCapitalize: "none",
                        autoCorrect: !1,
                        keyboardType: "email-address",
                        accessibilityLabel: "Email Address",
                        returnKeyType: "done",
                        placeholder: "Email",
                        onChangeText: function(e) {
                            return o(null === e || void 0 === e ? void 0 : e.trim().toLowerCase())
                        },
                        containerStyle: d.textField,
                        error: c
                    }), r.a.createElement(vt, {
                        accessibilityLabel: "Create Account",
                        loading: g,
                        onPress: function() {
                            n ? y({
                                variables: {
                                    email: n
                                }
                            }) : o("Please enter your email")
                        },
                        style: d.button
                    }, "Send forgot password email")))
                },
                Bo = function() {
                    var e = se(Se());
                    return Object(g.a)(Object(g.a)({}, e), {}, {
                        content: {
                            width: "100%",
                            maxWidth: 600,
                            paddingHorizontal: N({
                                default: 24,
                                tablet: 60,
                                tabletLarge: 80
                            })
                        }
                    })
                },
                Fo = function() {
                    var e = Bo(),
                        t = e.containerStyles;
                    return r.a.createElement($t.a, {
                        contentContainerStyle: t.screen
                    }, r.a.createElement(B.a, {
                        behavior: "ios" === A.a.OS ? "padding" : void 0,
                        style: [t.content, e.content]
                    }, r.a.createElement(Yn, null)))
                },
                zo = n(98),
                Mo = n(286);

            function Ro() {
                var e = Object(x.a)(["\n  mutation chargeStripeDelinquentInvoice {\n    chargeStripeDelinquentInvoice\n  }\n"]);
                return Ro = function() {
                    return e
                }, e
            }

            function Do() {
                var e = Object(x.a)(["\nmutation setStripeDefault($input: UpdateStripeDefault!) {\n    updateStripeDefaultPayment(input: $input) \n}\n"]);
                return Do = function() {
                    return e
                }, e
            }
            var No = Object(Mo.a)("pk_live_xwaCgF7KAx2rgCBgqtBSHoaf00JdHGmZYR"),
                Vo = {
                    style: {
                        base: {
                            color: de.subscriptionText,
                            fontFamily: ie.body,
                            fontSmoothing: "antialiased",
                            fontSize: le.small,
                            "::placeholder": {
                                color: "#383e4b"
                            }
                        },
                        invalid: {
                            color: "#fa755a",
                            iconColor: "#fa755a"
                        }
                    }
                },
                Wo = k()(Do()),
                Ho = k()(Ro()),
                Uo = function() {
                    var e = Object(zo.useStripe)(),
                        t = Object(zo.useElements)(),
                        n = Object(a.useState)(!1),
                        o = Object(p.a)(n, 2),
                        i = o[0],
                        l = o[1],
                        c = Object(a.useState)(),
                        s = Object(p.a)(c, 2),
                        d = s[0],
                        m = s[1],
                        f = Object(u.useMutation)(Wo),
                        b = Object(p.a)(f, 2),
                        y = b[0],
                        v = b[1].data,
                        g = Object(u.useMutation)(Ho, {
                            errorPolicy: "ignore"
                        }),
                        h = Object(p.a)(g, 2),
                        E = h[0],
                        x = h[1],
                        w = x.data,
                        j = x.error;
                    Object(a.useEffect)((function() {
                        v && E()
                    }), [v]), Object(a.useEffect)((function() {
                        j && (m(j.message), l(!0))
                    }), [j]);
                    var C = function() {
                        var n = Object(O.a)(S.a.mark((function n(a) {
                            var r, o, i;
                            return S.a.wrap((function(n) {
                                for (;;) switch (n.prev = n.next) {
                                    case 0:
                                        return n.next = 2, e.createToken(t.getElement(zo.CardElement));
                                    case 2:
                                        if (r = n.sent, o = r.error, i = r.token, !o) {
                                            n.next = 8;
                                            break
                                        }
                                        return m(o.message), n.abrupt("return");
                                    case 8:
                                        m(void 0), y({
                                            variables: {
                                                input: {
                                                    ccToken: null === i || void 0 === i ? void 0 : i.id
                                                }
                                            }
                                        });
                                    case 10:
                                    case "end":
                                        return n.stop()
                                }
                            }), n)
                        })));
                        return function(e) {
                            return n.apply(this, arguments)
                        }
                    }();
                    return Object(a.useEffect)((function() {
                        v && l(!1)
                    }), [v]), r.a.createElement(B.a, null, "web" === A.a.OS && r.a.createElement(L.a, {
                        onPress: function() {
                            return l(!i)
                        }
                    }, v && !d && r.a.createElement(P.a, {
                        style: {
                            color: "green"
                        }
                    }, "Your default payment has been updated"), (null === w || void 0 === w ? void 0 : w.chargeStripeDelinquentInvoice) && r.a.createElement(P.a, {
                        style: {
                            color: "green"
                        }
                    }, "Your subscription has been updated"), r.a.createElement(P.a, {
                        style: Go.feature
                    }, "Change Billing Info")), "web" !== A.a.OS && r.a.createElement(P.a, {
                        style: Go.feature
                    }, "Visit the website to change billing info"), i && r.a.createElement(B.a, {
                        style: Go.cardContainer
                    }, d && r.a.createElement(P.a, {
                        style: {
                            color: "red"
                        }
                    }, d), r.a.createElement(zo.CardElement, {
                        options: Vo
                    }), r.a.createElement(L.a, {
                        onPress: C
                    }, r.a.createElement(P.a, {
                        style: Go.subscribe
                    }, "Update Billing"))))
                },
                qo = function() {
                    return r.a.createElement(zo.Elements, {
                        stripe: No
                    }, r.a.createElement(Uo, null))
                },
                Go = I.a.create({
                    cardContainer: {
                        backgroundColor: "#FFF",
                        padding: 20,
                        borderRadius: 5,
                        borderWidth: 1,
                        borderColor: de.subscriptionText
                    },
                    feature: {
                        color: de.secondaryText,
                        textTransform: "capitalize",
                        fontFamily: ie.body,
                        fontSize: le.small,
                        marginVertical: 15
                    },
                    subscribe: {
                        marginTop: 10,
                        backgroundColor: "gray",
                        padding: 15,
                        borderRadius: 10,
                        textAlign: "center"
                    }
                });

            function Yo() {
                var e = Object(x.a)(["\n  mutation Achieve ($achievementId: String) {\n    achieve (achievementId: $achievementId)\n  }\n"]);
                return Yo = function() {
                    return e
                }, e
            }

            function Qo() {
                var e = Object(x.a)(["\nmutation ($input: CancelInput) {\n    resbuscribeCancellingSubscription(input: $input) {\n        id\n        start\n        end\n        status\n        price\n        frequency\n    }\n}\n"]);
                return Qo = function() {
                    return e
                }, e
            }

            function $o() {
                var e = Object(x.a)(["\nquery {\n  user {\n    id\n    hasPremium\n    subscription {\n      id\n      start\n      end\n      status\n      price\n      frequency\n      source\n    }\n  }\n}\n"]);
                return $o = function() {
                    return e
                }, e
            }
            var _o = k()($o()),
                Xo = k()(Qo()),
                Jo = k()(Yo()),
                Ko = function() {
                    var e = se(Se());
                    return Object(g.a)(Object(g.a)({}, e), {}, {
                        itemContainer: {
                            padding: 20,
                            maxWidth: 600,
                            alignItems: "center",
                            justifyContent: "flex-start",
                            borderRadius: 5,
                            width: "100%",
                            backgroundColor: de.subscriptionOverlayBackground
                        },
                        subiconContainer: {
                            flexDirection: "row",
                            alignItems: "center"
                        },
                        title: {
                            fontSize: le.large,
                            color: de.text,
                            textAlign: "center",
                            fontFamily: ie.body
                        },
                        feature: {
                            color: de.secondaryText,
                            textTransform: "capitalize",
                            fontFamily: ie.body,
                            fontSize: le.small
                        },
                        subscribe: {
                            marginTop: 30,
                            backgroundColor: de.subscriptionButton,
                            padding: 20,
                            borderRadius: 10
                        },
                        subscribeText: {
                            color: de.text,
                            fontFamily: ie.body,
                            textAlign: "center",
                            fontSize: le.medium
                        }
                    })
                },
                Zo = function() {
                    var e, t, n = A.a.OS,
                        a = Object(u.useQuery)(_o),
                        o = a.data,
                        i = a.refetch,
                        l = null === o || void 0 === o || null === (e = o.user) || void 0 === e ? void 0 : e.subscription,
                        c = Object(u.useMutation)(Xo),
                        s = Object(p.a)(c, 1)[0],
                        d = null === o || void 0 === o || null === (t = o.user) || void 0 === t ? void 0 : t.hasPremium,
                        m = Ya(),
                        f = m.openOverlay,
                        b = m.closeOverlay,
                        y = ye().HALLOWEEN,
                        v = Ko(),
                        h = v.containerStyles,
                        E = function() {
                            var e = Object(O.a)(S.a.mark((function e() {
                                return S.a.wrap((function(e) {
                                    for (;;) switch (e.prev = e.next) {
                                        case 0:
                                            if ("ios" !== (null === l || void 0 === l ? void 0 : l.source)) {
                                                e.next = 2;
                                                break
                                            }
                                            return e.abrupt("return", yn.a.openURL("https://apps.apple.com/account/subscriptions"));
                                        case 2:
                                            if ("android" !== (null === l || void 0 === l ? void 0 : l.source)) {
                                                e.next = 4;
                                                break
                                            }
                                            return e.abrupt("return", yn.a.openURL("https://play.google.com/store/account/subscriptions?package=com.aidungeon&sku=sub_5"));
                                        case 4:
                                            return e.next = 6, s({
                                                optimisticResponse: {
                                                    __typename: "Mutation",
                                                    resbuscribeCancellingSubscription: Object(g.a)(Object(g.a)({
                                                        __typename: "PremiumSubscription"
                                                    }, l), {}, {
                                                        status: "active"
                                                    })
                                                },
                                                variables: {
                                                    input: {
                                                        sub: null === l || void 0 === l ? void 0 : l.id
                                                    }
                                                }
                                            });
                                        case 6:
                                        case "end":
                                            return e.stop()
                                    }
                                }), e)
                            })));
                            return function() {
                                return e.apply(this, arguments)
                            }
                        }(),
                        x = function() {
                            var e = Object(O.a)(S.a.mark((function e() {
                                return S.a.wrap((function(e) {
                                    for (;;) switch (e.prev = e.next) {
                                        case 0:
                                            if ("active" !== (null === l || void 0 === l ? void 0 : l.status) && "past_due" !== (null === l || void 0 === l ? void 0 : l.status)) {
                                                e.next = 4;
                                                break
                                            }
                                            f("premiumFeedback", {
                                                platform: n,
                                                onClose: function() {
                                                    i(), b()
                                                }
                                            }), e.next = 6;
                                            break;
                                        case 4:
                                            return e.next = 6, E();
                                        case 6:
                                        case "end":
                                            return e.stop()
                                    }
                                }), e)
                            })));
                            return function() {
                                return e.apply(this, arguments)
                            }
                        }(),
                        w = Object(u.useMutation)(Jo, {
                            variables: {
                                achievementId: "6"
                            },
                            onCompleted: function(e) {
                                var t = null === e || void 0 === e ? void 0 : e.achieve;
                                f("achievement", {
                                    imageLink: t
                                })
                            }
                        }),
                        j = Object(p.a)(w, 1)[0];
                    return r.a.createElement($t.a, {
                        contentContainerStyle: h.screen
                    }, r.a.createElement(B.a, {
                        style: v.itemContainer
                    }, !!o && r.a.createElement(B.a, {
                        style: {
                            minWidth: "100%"
                        }
                    }, r.a.createElement(P.a, {
                        style: v.title
                    }, "AI Dungeon Pro"), "0" === (null === l || void 0 === l ? void 0 : l.price) && r.a.createElement(P.a, {
                        style: v.feature
                    }, "Free Trial Period"), "0" !== (null === l || void 0 === l ? void 0 : l.price) && r.a.createElement(r.a.Fragment, null, r.a.createElement(P.a, {
                        style: v.feature
                    }, "$".concat(null === l || void 0 === l ? void 0 : l.price, " / Month")), r.a.createElement(P.a, {
                        style: v.feature
                    }, "Billed ".concat(null === l || void 0 === l ? void 0 : l.frequency))), r.a.createElement(P.a, {
                        style: v.feature
                    }, "Source: ", null === l || void 0 === l ? void 0 : l.source), r.a.createElement(B.a, {
                        style: v.subiconContainer
                    }, r.a.createElement(P.a, {
                        style: v.feature
                    }, "Status: ", null === l || void 0 === l ? void 0 : l.status), "active" === (null === l || void 0 === l ? void 0 : l.status) && r.a.createElement(qe, {
                        name: "check-circle",
                        type: "awesome",
                        color: de.statusActive,
                        size: 14,
                        style: {
                            paddingLeft: 10
                        }
                    }), "past_due" === (null === l || void 0 === l ? void 0 : l.status) && r.a.createElement(qe, {
                        name: "clock-alert",
                        color: de.statusPastDue,
                        size: 14,
                        style: {
                            paddingLeft: 10
                        }
                    }), "cancelling" === (null === l || void 0 === l ? void 0 : l.status) && r.a.createElement(qe, {
                        name: "clock-alert",
                        color: de.statusCancelling,
                        size: 14,
                        style: {
                            paddingLeft: 10
                        }
                    }), "canceled" === (null === l || void 0 === l ? void 0 : l.status) && d && r.a.createElement(qe, {
                        name: "clock-alert",
                        color: de.statusCancelling,
                        size: 14,
                        style: {
                            paddingLeft: 10
                        }
                    }), "canceled" === (null === l || void 0 === l ? void 0 : l.status) && !d && r.a.createElement(qe, {
                        name: "cancel",
                        color: de.statusCancelled,
                        size: 14,
                        style: {
                            paddingLeft: 10
                        }
                    })), r.a.createElement(P.a, {
                        style: [v.feature, {
                            paddingTop: 10
                        }]
                    }, "active" === (null === l || void 0 === l ? void 0 : l.status) ? "Renews" : "Subscription ends", " on ", new Date(parseInt(null === l || void 0 === l ? void 0 : l.end)).toLocaleDateString()), "stripe" === (null === l || void 0 === l ? void 0 : l.source) && r.a.createElement(qo, null), "paypal" !== (null === l || void 0 === l ? void 0 : l.source) && "canceled" !== (null === l || void 0 === l ? void 0 : l.status) && r.a.createElement(L.a, {
                        onPress: x,
                        style: v.subscribe
                    }, r.a.createElement(P.a, {
                        style: v.subscribeText
                    }, "active" === (null === l || void 0 === l ? void 0 : l.status) || "past_due" === (null === l || void 0 === l ? void 0 : l.status) ? "Unsubscribe" : "Restore")), "paypal" === (null === l || void 0 === l ? void 0 : l.source) && ("active" === (null === l || void 0 === l ? void 0 : l.status) || "past_due" === (null === l || void 0 === l ? void 0 : l.status)) && r.a.createElement(L.a, {
                        onPress: x,
                        style: v.subscribe
                    }, r.a.createElement(P.a, {
                        style: v.subscribeText
                    }, "active" === (null === l || void 0 === l ? void 0 : l.status) || "past_due" === (null === l || void 0 === l ? void 0 : l.status) ? "Unsubscribe" : "Restore")), !!y && r.a.createElement(L.a, {
                        onPress: j
                    }, r.a.createElement(P.a, {
                        ariaLabel: "Secret Button: A wild Mavrick appeared!",
                        accessible: !0,
                        style: {
                            color: "#00000000",
                            cursor: "default",
                            marginTop: 10
                        }
                    }, "A wild Mavrick apeared!")))))
                };

            function ei() {
                var e = Object(x.a)(["\nmutation ($code: String, $password: String) {\n  resetPassword(code: $code, password: $password)\n}\n"]);
                return ei = function() {
                    return e
                }, e
            }
            var ti = k()(ei()),
                ni = function() {
                    var e = Object(a.useState)(""),
                        t = Object(p.a)(e, 2),
                        n = t[0],
                        o = t[1],
                        i = Object(a.useState)(""),
                        l = Object(p.a)(i, 2),
                        s = l[0],
                        d = l[1],
                        m = Object(c.f)().pathname.split("/")[2],
                        f = ai(),
                        b = f.containerStyles,
                        y = Object(u.useMutation)(ti, {
                            onError: function() {}
                        }),
                        v = Object(p.a)(y, 2),
                        g = v[0],
                        h = v[1],
                        E = h.called,
                        x = h.loading,
                        w = h.error,
                        j = function() {
                            var e = Object(O.a)(S.a.mark((function e() {
                                return S.a.wrap((function(e) {
                                    for (;;) switch (e.prev = e.next) {
                                        case 0:
                                            if (m && n) {
                                                e.next = 2;
                                                break
                                            }
                                            return e.abrupt("return");
                                        case 2:
                                            g({
                                                variables: {
                                                    code: m,
                                                    password: n
                                                }
                                            });
                                        case 3:
                                        case "end":
                                            return e.stop()
                                    }
                                }), e)
                            })));
                            return function() {
                                return e.apply(this, arguments)
                            }
                        }(),
                        C = E && !x;
                    return r.a.createElement(B.a, {
                        style: b.screen
                    }, r.a.createElement(B.a, {
                        style: b.content
                    }, r.a.createElement(F.d, {
                        style: f.logo
                    }, "AI DUNGEON"), r.a.createElement(F.d, {
                        style: f.title
                    }, "Reset Password"), !C && r.a.createElement(r.a.Fragment, null, r.a.createElement(ht, {
                        label: "Enter your new password",
                        secureTextEntry: !0,
                        autoCapitalize: "none",
                        returnKeyType: "done",
                        onChangeText: o,
                        containerStyle: f.textField
                    }), r.a.createElement(ht, {
                        label: "Confirm your new password",
                        secureTextEntry: !0,
                        autoCapitalize: "none",
                        returnKeyType: "done",
                        onChangeText: d,
                        containerStyle: f.textField,
                        error: E && !n ? "Please enter password." : E && !s ? "Please confirm password." : n !== s ? "Passwords don't match" : ""
                    }), r.a.createElement(vt, {
                        accessibilityLabel: "Enter",
                        style: f.buttonText,
                        onPress: j
                    }, "SUBMIT")), C && r.a.createElement(r.a.Fragment, null, r.a.createElement(F.d, {
                        style: f.title
                    }, function() {
                        var e;
                        return (null === w || void 0 === w || null === (e = w.graphQLErrors) || void 0 === e ? void 0 : e.length) > 0 ? w.graphQLErrors[0].message : "Your password has been reset."
                    }()), r.a.createElement(vt, {
                        accessibilityLabel: "Continue",
                        style: f.buttonText,
                        onPress: function() {
                            yn.a.openURL("https://play.aidungeon.io")
                        }
                    }, "CONTINUE")), r.a.createElement(B.a, {
                        style: b.latitudeLogo
                    }, r.a.createElement(ot.a, {
                        source: or.a,
                        style: f.LatitudeLogo
                    }))))
                },
                ai = function() {
                    var e = se(Se());
                    return Object(g.a)(Object(g.a)({}, e), {}, {
                        logo: {
                            fontSize: le.large,
                            color: de.subscriptionText,
                            textAlign: "center",
                            marginBottom: 30
                        },
                        title: {
                            fontSize: le.xLarge,
                            color: de.text,
                            textAlign: "center",
                            marginBottom: 40
                        },
                        textField: {
                            marginBottom: 20
                        },
                        buttonText: {
                            color: de.text,
                            fontFamily: ie.body,
                            textAlign: "center",
                            fontSize: le.medium,
                            marginTop: 20
                        },
                        LatitudeLogo: {
                            height: 22,
                            width: 150
                        }
                    })
                };

            function ri() {
                var e = Object(x.a)(["\n  mutation {\n    resetSearchIndex\n  }\n"]);
                return ri = function() {
                    return e
                }, e
            }

            function oi() {
                var e = Object(x.a)(["\n    fragment AccountSettingsFragment on User {\n      id\n      username\n      hasPremium\n      subscription {\n        id\n        status\n      }  \n    }\n  "]);
                return oi = function() {
                    return e
                }, e
            }
            var ii = function(e) {
                var t, n = e.user,
                    a = Object(C.useNavigation)(),
                    o = null === n || void 0 === n || null === (t = n.subscription) || void 0 === t ? void 0 : t.status,
                    i = ci(),
                    l = Object(u.useMutation)(li),
                    c = Object(p.a)(l, 1)[0];
                return n && (null === n || void 0 === n ? void 0 : n.username) ? r.a.createElement(r.a.Fragment, null, r.a.createElement(vt, {
                    onPress: function() {
                        a.navigate("verify")
                    },
                    style: i.button
                }, "Verify Email"), r.a.createElement(vt, {
                    onPress: function() {
                        a.navigate("changePassword"), Ne({
                            eventName: "account_setting_clicked",
                            variation: "change_password_clicked"
                        })
                    },
                    style: i.button
                }, "Change Password"), r.a.createElement(vt, {
                    onPress: function() {
                        a.navigate("changeEmail"), Ne({
                            eventName: "account_setting_clicked",
                            variation: "change_email_clicked"
                        })
                    },
                    style: i.button
                }, "Change Email"), r.a.createElement(vt, {
                    onPress: function() {
                        a.navigate("changeUsername"), Ne({
                            eventName: "account_setting_clicked",
                            variation: "change_username_clicked"
                        })
                    },
                    style: i.button
                }, "Change Username"), o && r.a.createElement(vt, {
                    onPress: function() {
                        if (!o || "canceled" === o && !(null === n || void 0 === n ? void 0 : n.hasPremium)) return a.navigate("subscribe");
                        a.navigate("manageSubscription"), Ne({
                            eventName: "manage_subscription_clicked"
                        })
                    },
                    style: i.button
                }, "Manage Subscription"), r.a.createElement(vt, {
                    onPress: function() {
                        a.navigate("deleteAccount"), Ne({
                            eventName: "account_setting_clicked",
                            variation: "delete_account_clicked"
                        })
                    },
                    style: i.deleteButton
                }, "Delete Account"), r.a.createElement(vt, {
                    onPress: c,
                    style: i.button
                }, "Reset Search Index")) : r.a.createElement(r.a.Fragment, null, r.a.createElement(vt, {
                    onPress: function() {
                        a.navigate("loginRegister")
                    },
                    style: i.button
                }, "Login"))
            };
            ii.fragments = {
                user: k()(oi())
            };
            var li = k()(ri()),
                ci = function() {
                    var e = se(Se());
                    return Object(g.a)(Object(g.a)({}, e), {}, {
                        button: {
                            marginTop: 25,
                            maxWidth: 400,
                            alignSelf: "center"
                        },
                        deleteButton: {
                            marginTop: 25,
                            maxWidth: 400,
                            alignSelf: "center",
                            backgroundColor: e.userMode.alert
                        }
                    })
                },
                ui = ii,
                si = n(68),
                di = function() {
                    var e = se(Se()),
                        t = e.userMode,
                        n = e.fontSizes,
                        a = e.fonts;
                    return Object(g.a)(Object(g.a)({}, e), {}, {
                        container: {
                            width: "100%",
                            marginBottom: 45
                        },
                        labelText: {
                            fontFamily: a.body,
                            fontSize: n.medium,
                            color: t.text,
                            marginBottom: 5
                        },
                        infoText: {
                            color: t.secondaryText,
                            fontFamily: a.body,
                            fontSize: n.small,
                            marginBottom: 5
                        },
                        colorsContainer: {
                            flexDirection: "row",
                            flexWrap: "wrap"
                        },
                        color: {
                            width: 50,
                            height: 50,
                            borderRadius: 25,
                            marginRight: 10,
                            marginTop: 10
                        },
                        colorSelected: {
                            borderWidth: 5,
                            borderColor: t.border
                        }
                    })
                },
                mi = function(e) {
                    var t = e.label,
                        n = e.info,
                        a = e.value,
                        o = e.onChange,
                        i = e.colors,
                        l = di();
                    return r.a.createElement(B.a, {
                        style: l.container
                    }, r.a.createElement(P.a, {
                        style: l.labelText
                    }, t), r.a.createElement(P.a, {
                        style: l.infoText
                    }, n), r.a.createElement(B.a, {
                        style: l.colorsContainer
                    }, i.map((function(e, t) {
                        return r.a.createElement(L.a, {
                            key: t,
                            accessible: !1,
                            onPress: function() {
                                o && o(e[0])
                            }
                        }, r.a.createElement(Or, {
                            useAngle: !0,
                            angle: 135,
                            angleCenter: {
                                x: .5,
                                y: .5
                            },
                            locations: [.3, .7],
                            colors: [e[0], e[1]],
                            style: [l.color, e[0] === a ? l.colorSelected : null]
                        }))
                    }))))
                };

            function fi() {
                var e = Object(x.a)(["\n  mutation Achieve ($achievementId: String) {\n    achieve (achievementId: $achievementId)\n  }\n"]);
                return fi = function() {
                    return e
                }, e
            }

            function bi() {
                var e = Object(x.a)(["\n    fragment DisplaySettingsFragment on GameSettings {\n      safeMode\n      textSpeed\n      textFont\n      textSize\n      accessibilityMode\n    }\n  "]);
                return bi = function() {
                    return e
                }, e
            }
            var yi = [
                    ["#576dff", "#e846eb"],
                    ["#00cae0", "#00d181"],
                    ["#f2003d", "#f26900"],
                    ["#ff30be", "#7200b0"],
                    ["#707070", "#707070"],
                    ["#9214ff", "#9214ff"],
                    ["#17a41a", "#17a41a"],
                    ["#e0a900", "#e0a900"]
                ],
                vi = [
                    ["#576dff", "#e846eb"],
                    ["#00cae0", "#00d181"],
                    ["#f2003d", "#f26900"],
                    ["#ff30be", "#7200b0"],
                    ["#707070", "#707070"],
                    ["#b259ff", "#b259ff"],
                    ["#3bfc34", "#3bfc34"],
                    ["#ffbf00", "#ffbf00"]
                ],
                gi = {
                    "#576dff": "bubble",
                    "#00cae0": "ocean",
                    "#f2003d": "sunset",
                    "#ff30be": "boba",
                    "#707070": "gray",
                    "#9214ff": "purple",
                    "#17a41a": "terminal",
                    "#e0a900": "amber"
                },
                pi = {
                    "#576dff": "bubble",
                    "#00cae0": "ocean",
                    "#f2003d": "sunset",
                    "#ff30be": "boba",
                    "#707070": "gray",
                    "#b259ff": "purple",
                    "#3bfc34": "terminal",
                    "#ffbf00": "amber"
                },
                hi = {
                    bubble: "#576dff",
                    ocean: "#00cae0",
                    sunset: "#f2003d",
                    boba: "#ff30be",
                    gray: "#707070",
                    purple: "#9214ff",
                    terminal: "#17a41a",
                    amber: "#e0a900"
                },
                Ei = {
                    bubble: "#576dff",
                    ocean: "#00cae0",
                    sunset: "#f2003d",
                    boba: "#ff30be",
                    gray: "#707070",
                    purple: "#b259ff",
                    terminal: "#3bfc34",
                    amber: "#ffbf00"
                },
                xi = function(e) {
                    var t = e.settings,
                        n = e.setSettings,
                        a = void 0 === n ? function() {} : n;
                    if (!t) return null;
                    var o = Se(),
                        i = o.theme,
                        l = o.mode,
                        c = o.setTheme,
                        s = o.setMode,
                        d = "dark" === l,
                        m = se({
                            theme: i,
                            mode: l
                        }),
                        f = Si(m),
                        b = Ya(),
                        y = b.openOverlay,
                        v = b.closeOverlay,
                        g = D(null === t || void 0 === t ? void 0 : t.textSize),
                        h = Object(u.useMutation)(wi, {
                            variables: {
                                achievementId: "2"
                            },
                            onCompleted: function(e) {
                                var t = null === e || void 0 === e ? void 0 : e.achieve;
                                y("achievement", {
                                    imageLink: t
                                })
                            }
                        }),
                        E = Object(p.a)(h, 1)[0],
                        x = ye().REWARDS;
                    return r.a.createElement(B.a, {
                        style: {
                            marginTop: 20
                        }
                    }, r.a.createElement(si.a, {
                        label: "Dark Mode",
                        info: "Changes app from light mode to dark mode.",
                        onChange: function(e) {
                            s(e ? "dark" : "light")
                        },
                        value: "dark" === l,
                        mode: l,
                        theme: i
                    }), r.a.createElement(mi, {
                        label: "Theme",
                        info: "Changes the color theme of the app.",
                        onChange: function(e) {
                            var t = d ? pi[e] : gi[e];
                            c(t), Ne({
                                eventName: "theme_changed_" + t
                            })
                        },
                        value: d ? Ei[i] : hi[i],
                        colors: d ? vi : yi
                    }), r.a.createElement(si.a, {
                        label: "Safe Mode",
                        info: 'Enabling "Safe Mode" filter out NSFW content on the explore page.',
                        value: null === t || void 0 === t ? void 0 : t.safeMode,
                        mode: l,
                        theme: i,
                        onChange: function(e) {
                            t.safeMode ? y("age", {
                                isAge: function() {
                                    a({
                                        safeMode: e
                                    })
                                }
                            }, {
                                onClose: function() {
                                    v()
                                }
                            }) : a({
                                safeMode: e
                            })
                        }
                    }), r.a.createElement(Sn, {
                        label: "Text Speed",
                        info: "Changes the speed that the game text is displayed.",
                        style: f.sliderField,
                        min: 0,
                        max: 60,
                        onChange: function(e) {
                            return a({
                                textSpeed: e
                            })
                        },
                        value: null === t || void 0 === t ? void 0 : t.textSpeed
                    }), r.a.createElement(P.a, {
                        style: f.textSpeedExampleText
                    }, (null === t || void 0 === t ? void 0 : t.textSpeed) < 5 ? "Speed: Instant" : "", (null === t || void 0 === t ? void 0 : t.textSpeed) >= 5 && (null === t || void 0 === t ? void 0 : t.textSpeed) < 20 ? "Speed: Fast" : "", (null === t || void 0 === t ? void 0 : t.textSpeed) >= 20 && (null === t || void 0 === t ? void 0 : t.textSpeed) < 40 ? "Speed: Normal" : "", (null === t || void 0 === t ? void 0 : t.textSpeed) >= 40 && (null === t || void 0 === t ? void 0 : t.textSpeed) <= 60 ? "Speed: Slow" : ""), r.a.createElement(P.a, {
                        accessible: !0,
                        style: f.labelText
                    }, "Example Game Text"), r.a.createElement(P.a, {
                        style: [f.textSizeExampleText, {
                            fontSize: g,
                            fontFamily: null === t || void 0 === t ? void 0 : t.textFont,
                            color: m.userTheme.storyText
                        }]
                    }, "This is what your text will look like while you are playing the game!"), r.a.createElement(P.a, {
                        accessible: !0,
                        style: f.labelText
                    }, "Game Font"), r.a.createElement(Fn, {
                        style: f.highlightButtons,
                        textStyle: f.buttonText,
                        active: null === t || void 0 === t ? void 0 : t.textFont,
                        labels: ["courier", "helvetica", "times new roman"],
                        onPressActions: [function() {
                            return a({
                                textFont: "courier"
                            })
                        }, function() {
                            return a({
                                textFont: "helvetica"
                            })
                        }, function() {
                            return a({
                                textFont: "times new roman"
                            })
                        }]
                    }), r.a.createElement(Sn, {
                        label: "Text Size",
                        info: "Changes the game text size.",
                        style: [f.sliderField, {
                            marginBottom: 40
                        }],
                        min: 8,
                        max: 40,
                        onChange: function(e) {
                            return a({
                                textSize: e
                            })
                        },
                        value: null === t || void 0 === t ? void 0 : t.textSize
                    }), r.a.createElement(si.a, {
                        label: "Accessibility Mode",
                        info: "Makes story text accessible and individually selectable. Will also add a line break between each action and disable typing speed.",
                        onChange: function(e) {
                            return a({
                                accessibilityMode: e
                            })
                        },
                        value: null === t || void 0 === t ? void 0 : t.accessibilityMode,
                        mode: l,
                        theme: i
                    }), !!x && r.a.createElement(L.a, {
                        onPress: E
                    }, r.a.createElement(P.a, {
                        ariaLabel: "Secret Button: A wild squibs appeared!",
                        accessible: !0,
                        style: {
                            color: "#00000000",
                            cursor: "default"
                        }
                    }, "A wild squibs apeared!")))
                };
            xi.fragments = {
                gameSettings: k()(bi())
            };
            var wi = k()(fi()),
                Si = function() {
                    var e = se(Se()),
                        t = e.userMode,
                        n = e.fontSizes,
                        a = e.fonts;
                    return Object(g.a)(Object(g.a)({}, e), {}, {
                        highlightButtons: {
                            fontSize: n.small,
                            maxWidth: 500,
                            marginTop: 5,
                            marginBottom: 40
                        },
                        sliderField: {
                            marginBottom: 5,
                            maxWidth: 400
                        },
                        textSpeedExampleText: {
                            fontFamily: a.body,
                            fontSize: n.small,
                            color: t.text,
                            marginBottom: 45
                        },
                        textSizeExampleText: {
                            fontFamily: a.body,
                            fontSize: n.small,
                            color: t.text,
                            marginBottom: 45
                        },
                        buttonText: {
                            fontSize: n.xsmall
                        },
                        labelText: {
                            fontFamily: a.body,
                            fontSize: n.medium,
                            color: t.text
                        }
                    })
                },
                Oi = xi;

            function ji() {
                var e = Object(x.a)(["\nquery {\n  user {\n    id\n    hasPremium\n  }\n}\n"]);
                return ji = function() {
                    return e
                }, e
            }
            var Ci = k()(ji()),
                Ti = function(e) {
                    var t, n = e.children,
                        a = e.style,
                        o = e.showWithoutPremium,
                        i = void 0 === o || o,
                        l = Object(u.useQuery)(Ci, {
                            fetchPolicy: "cache-and-network"
                        }).data,
                        c = null === l || void 0 === l || null === (t = l.user) || void 0 === t ? void 0 : t.hasPremium,
                        s = Ya().openOverlay;
                    return !c && i ? r.a.createElement(L.a, {
                        style: a,
                        onPress: function() {
                            return s("subscribe")
                        }
                    }, r.a.createElement(B.a, {
                        pointerEvents: "none",
                        style: [{
                            width: "100%"
                        }, a]
                    }, n)) : c || i ? a ? r.a.createElement(B.a, {
                        style: a
                    }, n) : n : null
                },
                ki = function() {
                    var e = se(Se()),
                        t = e.userMode,
                        n = e.fontSizes,
                        a = e.fonts;
                    return Object(g.a)(Object(g.a)({}, e), {}, {
                        tag: {
                            flexDirection: "row",
                            borderWidth: .5,
                            borderColor: t.secondaryText,
                            borderRadius: 20,
                            marginRight: 5,
                            marginBottom: 5,
                            paddingVertical: 3,
                            paddingHorizontal: 7
                        },
                        nsfwTag: {
                            flexDirection: "row",
                            borderWidth: .5,
                            borderColor: t.alertText,
                            borderRadius: 20,
                            marginRight: 5,
                            marginBottom: 5,
                            paddingVertical: 3,
                            paddingHorizontal: 7
                        },
                        cardText: {
                            fontSize: n.xSmall,
                            fontFamily: a.body,
                            color: t.secondaryText
                        },
                        editText: {
                            fontSize: n.small,
                            fontFamily: a.body,
                            color: t.secondaryText
                        },
                        headerText: {
                            fontSize: n.xSmall,
                            fontFamily: a.body,
                            color: t.secondaryText
                        },
                        nsfwCardText: {
                            fontSize: n.xSmall,
                            fontFamily: a.body,
                            color: t.alertText
                        },
                        nsfwEditText: {
                            fontSize: n.small,
                            fontFamily: a.body,
                            color: t.alertText
                        },
                        nsfwHeaderText: {
                            fontSize: n.xSmall,
                            fontFamily: a.body,
                            color: t.alertText
                        },
                        icon: {
                            paddingVertical: N({
                                default: 0,
                                webWide: 4,
                                tablet: 5,
                                tabletLarge: 7
                            }),
                            paddingLeft: 5
                        }
                    })
                },
                Ai = function(e) {
                    var t = e.tag,
                        n = e.style,
                        a = e.isEdit,
                        o = e.onDelete,
                        i = void 0 === o ? function() {} : o,
                        l = e.hash,
                        c = void 0 === l || l,
                        u = ki(),
                        s = c ? "#".concat(t) : t;
                    return r.a.createElement(B.a, null, "nsfw" === t && r.a.createElement(B.a, {
                        style: u.nsfwTag
                    }, r.a.createElement(P.a, {
                        style: function(e) {
                            switch (e) {
                                case "card":
                                    return u.nsfwCardText;
                                case "edit":
                                    return u.nsfwEditText;
                                case "header":
                                    return u.nsfwHeaderText
                            }
                        }(n)
                    }, s), !!a && r.a.createElement(L.a, {
                        onPress: function() {
                            return i(t)
                        },
                        style: u.icon
                    }, r.a.createElement(qe, {
                        name: "close",
                        size: 15,
                        color: u.userMode.alertText
                    }))), "nsfw" !== t && r.a.createElement(B.a, {
                        style: u.tag
                    }, r.a.createElement(P.a, {
                        style: function(e) {
                            switch (e) {
                                case "card":
                                    return u.cardText;
                                case "edit":
                                    return u.editText;
                                case "header":
                                    return u.headerText
                            }
                        }(n)
                    }, s), !!a && r.a.createElement(L.a, {
                        onPress: function() {
                            return i(t)
                        },
                        style: u.icon
                    }, r.a.createElement(qe, {
                        name: "close",
                        size: 15
                    }))))
                },
                Ii = function() {
                    return {
                        cardContainer: {
                            flexDirection: "row",
                            flexWrap: "wrap",
                            marginBottom: 10
                        },
                        editContainer: {
                            flexDirection: "row",
                            flexWrap: "wrap",
                            flexBasis: "90%"
                        },
                        headerContainer: {
                            flexDirection: "row",
                            flexWrap: "wrap",
                            marginBottom: 10
                        }
                    }
                },
                Pi = function(e) {
                    var t = e.tags,
                        n = e.style,
                        a = e.isEdit,
                        o = e.onDelete,
                        i = void 0 === o ? function() {} : o,
                        l = e.hash,
                        c = void 0 === l || l,
                        u = Ii();
                    return r.a.createElement(B.a, {
                        style: function(e) {
                            switch (e) {
                                case "card":
                                    return u.cardContainer;
                                case "edit":
                                    return u.editContainer;
                                case "header":
                                    return u.headerContainer
                            }
                        }(n)
                    }, null === t || void 0 === t ? void 0 : t.map((function(e, t) {
                        return r.a.createElement(Ai, {
                            key: t,
                            tag: e,
                            style: n,
                            isEdit: a,
                            onDelete: function() {
                                return i(e)
                            },
                            hash: c
                        })
                    })))
                },
                Li = function(e) {
                    e.user;
                    var t = e.settings,
                        n = e.setSettings,
                        o = Object(a.useState)("Default"),
                        i = Object(p.a)(o, 2),
                        l = i[0],
                        c = i[1],
                        u = Bi(),
                        s = Ya().openOverlay;
                    Object(a.useEffect)((function() {
                        d()
                    }), []);
                    var d = function() {
                        var e = Object(O.a)(S.a.mark((function e() {
                            var t;
                            return S.a.wrap((function(e) {
                                for (;;) switch (e.prev = e.next) {
                                    case 0:
                                        return e.next = 2, he("codepush_deployment");
                                    case 2:
                                        t = e.sent, c(t || "Default");
                                    case 4:
                                    case "end":
                                        return e.stop()
                                }
                            }), e)
                        })));
                        return function() {
                            return e.apply(this, arguments)
                        }
                    }();
                    return r.a.createElement(B.a, {
                        style: {
                            paddingBottom: 25
                        }
                    }, r.a.createElement(P.a, {
                        accessible: !0,
                        style: u.labelText
                    }, "Code Push Deployment (Devs Only)"), r.a.createElement(vt, {
                        textStyle: u.buttonText,
                        onPress: function() {
                            return s("codepushDeployment", {
                                settings: t,
                                setSettings: n
                            })
                        },
                        style: [u.button, {
                            height: 50,
                            width: "auto"
                        }]
                    }, l))
                },
                Bi = function() {
                    var e = se(Se()),
                        t = e.userMode,
                        n = e.fontSizes,
                        a = e.fonts;
                    return Object(g.a)(Object(g.a)({}, e), {}, {
                        labelText: {
                            fontFamily: a.body,
                            fontSize: n.medium,
                            color: t.text
                        },
                        infoText: {
                            color: t.secondaryText,
                            fontFamily: a.body,
                            fontSize: n.small,
                            marginBottom: 10
                        }
                    })
                };

            function Fi() {
                var e = Object(x.a)(["\n    fragment GameSettingsFragment on GameSettings {\n      temperature\n      bannedWords\n      modelType\n      showCommands\n      showModes\n      defaultMode\n      showTips\n      textLength\n      directDialog\n      playMusic\n      suggestActions\n      musicVolume\n      playNarration\n      narrationVolume\n      voiceGender\n      voiceAccent\n      hiddenCommands\n    }\n  "]);
                return Fi = function() {
                    return e
                }, e
            }
            var zi = function(e) {
                var t, n, o, i, l, c, u, s, d = e.user,
                    m = e.reset,
                    f = e.settings,
                    b = e.setSettings,
                    y = void 0 === b ? function() {} : b,
                    v = Object(a.useState)(""),
                    h = Object(p.a)(v, 2),
                    E = h[0],
                    x = h[1];
                if (!f) return null;
                var w = Mi(),
                    S = Se(),
                    O = S.mode,
                    j = S.theme,
                    C = (null === f || void 0 === f ? void 0 : f.temperature) ? parseFloat(f.temperature) : 1,
                    T = C.toFixed(1),
                    k = ye().SAFETY,
                    I = Ya().openOverlay,
                    L = function() {
                        var e = (null === f || void 0 === f ? void 0 : f.bannedWords) || [];
                        if (e.includes(E)) x("");
                        else {
                            var t = [].concat(Object(mr.a)(e), [null === E || void 0 === E ? void 0 : E.trim().toLowerCase()]);
                            y({
                                bannedWords: t
                            }), x("")
                        }
                    },
                    F = function(e) {
                        var t = (null === f || void 0 === f ? void 0 : f.hiddenCommands) || {},
                            n = t[e],
                            a = Object(g.a)({}, t);
                        a[e] = !n, y({
                            hiddenCommands: a
                        })
                    };
                return r.a.createElement(B.a, {
                    style: {
                        marginTop: 20
                    }
                }, !!(null === d || void 0 === d ? void 0 : d.isDeveloper) && "web" !== A.a.OS && r.a.createElement(Li, {
                    user: d,
                    settings: f,
                    setSettings: y
                }), r.a.createElement(Ti, null, r.a.createElement(P.a, {
                    accessible: !0,
                    style: w.labelText
                }, "AI Model Type"), r.a.createElement(Fn, {
                    style: w.highlightButtons,
                    active: "dragon" === (null === f || void 0 === f ? void 0 : f.modelType) ? "Dragon" : "Griffin",
                    textStyle: w.buttonText,
                    info: "The core AI model running your game. Griffin is the default. Dragon is more powerful and is able to generate much more interesting and engaging stories. In a multiplayer game, if the host is running Dragon then everyone will be using Dragon with or without a subscription. Note: on custom prompts, the very first generation is generated with GPT-2 instead of Dragon (but every generation after will use Dragon).",
                    labels: ["Griffin", "Dragon"],
                    onPressActions: [function() {
                        return y({
                            modelType: "griffin"
                        })
                    }, function() {
                        return y({
                            modelType: "dragon"
                        })
                    }]
                })), r.a.createElement(si.a, {
                    label: "Show Command Buttons",
                    info: "Whether to show the command buttons while playing. You can now use /revert, /alter etc... instead of pressing the buttons.",
                    onChange: function(e) {
                        return y({
                            showCommands: e
                        })
                    },
                    value: null === f || void 0 === f ? void 0 : f.showCommands,
                    mode: O,
                    theme: j
                }), r.a.createElement(si.a, {
                    label: "Show Do / Say / Story Button",
                    info: "Whether to show the do / say / story button while playing. You can now use /say, /do, /story instead of pressing the buttons.",
                    onChange: function(e) {
                        return y({
                            showModes: e
                        })
                    },
                    value: null === f || void 0 === f ? void 0 : f.showModes,
                    mode: O,
                    theme: j
                }), r.a.createElement(P.a, {
                    accessible: !0,
                    style: w.labelText
                }, "Default Game Mode"), r.a.createElement(Fn, {
                    style: w.highlightButtons,
                    active: null === f || void 0 === f ? void 0 : f.defaultMode,
                    textStyle: w.buttonText,
                    labels: ["do", "say", "story"],
                    onPressActions: [function() {
                        return y({
                            defaultMode: "do"
                        })
                    }, function() {
                        return y({
                            defaultMode: "say"
                        })
                    }, function() {
                        return y({
                            defaultMode: "story"
                        })
                    }]
                }), r.a.createElement(r.a.Fragment, null, r.a.createElement(P.a, {
                    accessible: !0,
                    style: w.labelText
                }, "Display Command Buttons"), r.a.createElement(B.a, {
                    style: {
                        flexWrap: "wrap",
                        flexDirection: "row",
                        marginVertical: 16
                    }
                }, r.a.createElement(_r, {
                    disabled: null === f || void 0 === f || null === (t = f.hiddenCommands) || void 0 === t ? void 0 : t.choices,
                    iconName: "format-list-bulleted",
                    accessibilityLabel: "list icon",
                    style: w.commandButtonStyle,
                    onPress: function() {
                        return F("choices")
                    },
                    test: f
                }), r.a.createElement(_r, {
                    disabled: null === f || void 0 === f || null === (n = f.hiddenCommands) || void 0 === n ? void 0 : n.world,
                    iconName: "earth",
                    accessibilityLabel: "view world",
                    style: w.commandButtonStyle,
                    onPress: function() {
                        return F("world")
                    }
                }), r.a.createElement(_r, {
                    disabled: null === f || void 0 === f || null === (o = f.hiddenCommands) || void 0 === o ? void 0 : o.remember,
                    iconName: "pin",
                    accessibilityLabel: "remember",
                    style: w.commandButtonStyle,
                    onPress: function() {
                        return F("remember")
                    }
                }), r.a.createElement(_r, {
                    disabled: null === f || void 0 === f || null === (i = f.hiddenCommands) || void 0 === i ? void 0 : i.alter,
                    iconName: "pencil",
                    accessibilityLabel: "alter",
                    style: w.commandButtonStyle,
                    onPress: function() {
                        return F("alter")
                    }
                }), r.a.createElement(_r, {
                    disabled: null === f || void 0 === f || null === (l = f.hiddenCommands) || void 0 === l ? void 0 : l.undo,
                    iconName: "undo",
                    accessibilityLabel: "undo",
                    style: w.commandButtonStyle,
                    onPress: function() {
                        return F("undo")
                    }
                }), r.a.createElement(_r, {
                    disabled: null === f || void 0 === f || null === (c = f.hiddenCommands) || void 0 === c ? void 0 : c.redo,
                    iconName: "redo",
                    accessibilityLabel: "redo",
                    style: w.commandButtonStyle,
                    onPress: function() {
                        return F("redo")
                    }
                }), r.a.createElement(_r, {
                    disabled: null === f || void 0 === f || null === (u = f.hiddenCommands) || void 0 === u ? void 0 : u.restart,
                    iconName: "restart",
                    accessibilityLabel: "retry",
                    style: w.commandButtonStyle,
                    onPress: function() {
                        return F("restart")
                    }
                }))), r.a.createElement(si.a, {
                    label: "Show Tips",
                    info: 'Enabling "Show Tips" will show text tips underneath your input while playing.',
                    onChange: function(e) {
                        return y({
                            showTips: e
                        })
                    },
                    value: null === f || void 0 === f ? void 0 : f.showTips,
                    mode: O,
                    theme: j
                }), r.a.createElement(Ti, null, r.a.createElement(Sn, {
                    label: "Randomness: ".concat(T, " (default is 1.0)"),
                    info: "Changes the randomness of the AI. A higher value means more random output. ",
                    style: w.noTextSliderField,
                    step: .1,
                    min: .5,
                    max: 2,
                    onChange: function(e) {
                        return y({
                            temperature: e
                        })
                    },
                    value: C
                })), r.a.createElement(Ti, null, r.a.createElement(Sn, {
                    label: "Length: ".concat(null === f || void 0 === f ? void 0 : f.textLength, " (default is 45)"),
                    info: "Changes how much text the AI will return.",
                    style: w.noTextSliderField,
                    min: 25,
                    max: 100,
                    onChange: function(e) {
                        return y({
                            textLength: e
                        })
                    },
                    value: null === f || void 0 === f ? void 0 : f.textLength
                })), r.a.createElement(si.a, {
                    style: {
                        marginBottom: 10
                    },
                    label: "Play Music",
                    onChange: function(e) {
                        return y({
                            playMusic: e
                        })
                    },
                    value: null === f || void 0 === f ? void 0 : f.playMusic,
                    mode: O,
                    theme: j
                }), r.a.createElement(Sn, {
                    label: "Music Volume (only in some scenarios): ".concat(null === f || void 0 === f ? void 0 : f.musicVolume),
                    style: w.noTextSliderField,
                    min: 0,
                    max: 100,
                    onChange: function(e) {
                        return y({
                            musicVolume: e
                        })
                    },
                    value: null === f || void 0 === f ? void 0 : f.musicVolume
                }), r.a.createElement(Ti, null, r.a.createElement(si.a, {
                    label: "Play Narration (".concat(null === f || void 0 === f ? void 0 : f.voiceAccent, " ").concat(null === f || void 0 === f ? void 0 : f.voiceGender, ")"),
                    info: "Auto plays narration of the AI's responses.",
                    onChange: function(e) {
                        return y({
                            playNarration: e
                        })
                    },
                    value: null === f || void 0 === f ? void 0 : f.playNarration,
                    mode: O,
                    theme: j
                })), r.a.createElement(Ti, null, r.a.createElement(vt, {
                    textStyle: w.buttonText,
                    onPress: function() {
                        return I("voice", {
                            settings: f,
                            setSettings: y
                        })
                    },
                    style: [w.button, {
                        height: 50,
                        width: "auto"
                    }]
                }, "Change Voice")), r.a.createElement(Ti, null, r.a.createElement(Sn, {
                    label: "Narration Volume: ".concat(null === f || void 0 === f ? void 0 : f.narrationVolume),
                    style: w.noTextSliderField,
                    min: 0,
                    max: 100,
                    onChange: function(e) {
                        return y({
                            narrationVolume: e
                        })
                    },
                    value: null === f || void 0 === f ? void 0 : f.narrationVolume
                })), !!k && r.a.createElement(r.a.Fragment, null, r.a.createElement(ht, {
                    label: "Banned Words List",
                    placeholder: "List words that users can't use in your stories",
                    returnKeyType: "done",
                    textInputStyle: w.textInput,
                    value: E,
                    onChangeText: function(e) {
                        "\n" !== e && x(e)
                    },
                    onEnter: L,
                    onSubmitEditing: L,
                    multiline: !0,
                    maxLength: 25,
                    disabled: (null === f || void 0 === f || null === (s = f.bannedWords) || void 0 === s ? void 0 : s.length) >= 10,
                    hideMaxLengthIndicator: !0
                }), r.a.createElement(Pi, {
                    tags: f.bannedWords,
                    style: "edit",
                    isEdit: !0,
                    onDelete: function(e) {
                        var t = null === f || void 0 === f ? void 0 : f.bannedWords.filter((function(t) {
                            return t !== e
                        }));
                        y({
                            bannedWords: t
                        })
                    },
                    hash: !1
                })), r.a.createElement(vt, {
                    textStyle: w.buttonText,
                    onPress: m,
                    style: [w.button, {
                        height: 50,
                        width: "auto",
                        marginTop: 24
                    }]
                }, "Reset to Defaults"))
            };
            zi.fragments = {
                gameSettings: k()(Fi())
            };
            var Mi = function() {
                    var e = se(Se()),
                        t = e.userMode,
                        n = e.fontSizes,
                        a = e.fonts;
                    return Object(g.a)(Object(g.a)({}, e), {}, {
                        highlightButtons: {
                            maxWidth: 500,
                            marginTop: 5,
                            marginBottom: 40
                        },
                        buttonText: {
                            fontSize: n.small
                        },
                        commandButtonStyle: {
                            backgroundColor: t.secondaryBackground,
                            padding: 8,
                            borderRadius: 10,
                            marginHorizontal: 5
                        },
                        noTextSliderField: {
                            maxWidth: 400,
                            marginBottom: N({
                                default: 40,
                                iPhone5: 10
                            })
                        },
                        button: {
                            marginTop: 0,
                            marginBottom: 40,
                            alignSelf: "flex-start"
                        },
                        labelText: {
                            fontFamily: a.body,
                            fontSize: n.medium,
                            color: t.text
                        }
                    })
                },
                Ri = zi;

            function Di() {
                var e = Object(x.a)(["\n  mutation {\n    resetGameSettings {\n      id\n      gameSettings {\n        id\n        ...GameSettingsFragment\n        ...DisplaySettingsFragment\n      }\n    }\n  }\n  ", "\n  ", "\n"]);
                return Di = function() {
                    return e
                }, e
            }

            function Ni() {
                var e = Object(x.a)(["\n  mutation ($input: GameSettingsInput) {\n    saveGameSettings(input: $input) {\n      id\n      gameSettings {\n        id\n        ...GameSettingsFragment\n        ...DisplaySettingsFragment\n      }\n    }\n  }\n  ", "\n  ", "\n"]);
                return Ni = function() {
                    return e
                }, e
            }

            function Vi() {
                var e = Object(x.a)(["\n  query {\n    user {\n      id\n      ...AccountSettingsFragment\n      hasPremium\n      isDeveloper\n      gameSettings {\n        id\n        ...GameSettingsFragment\n        ...DisplaySettingsFragment\n      }\n    }\n  }\n  ", "\n  ", "\n  ", "\n"]);
                return Vi = function() {
                    return e
                }, e
            }
            var Wi = k()(Vi(), Ri.fragments.gameSettings, Oi.fragments.gameSettings, ui.fragments.user),
                Hi = k()(Ni(), Ri.fragments.gameSettings, Oi.fragments.gameSettings),
                Ui = k()(Di(), Ri.fragments.gameSettings, Oi.fragments.gameSettings),
                qi = function() {
                    var e, t, n = Object(C.useNavigation)(),
                        o = Object(a.useState)("Game"),
                        i = Object(p.a)(o, 2),
                        l = i[0],
                        c = i[1],
                        s = Object(u.useQuery)(Wi).data,
                        d = Object(a.useState)(null),
                        m = Object(p.a)(d, 2),
                        f = m[0],
                        b = m[1],
                        y = Object(g.a)(Object(g.a)({}, null === s || void 0 === s || null === (e = s.user) || void 0 === e ? void 0 : e.gameSettings), f),
                        v = null === s || void 0 === s ? void 0 : s.user,
                        h = se(Se()),
                        E = h.containerStyles,
                        x = h.textStyles,
                        w = h.userMode,
                        j = Object(u.useMutation)(Hi),
                        T = Object(p.a)(j, 1)[0],
                        k = function() {
                            (null === y || void 0 === y ? void 0 : y.id) && T({
                                variables: {
                                    input: Object(g.a)({
                                        id: null === y || void 0 === y ? void 0 : y.id
                                    }, f)
                                }
                            })
                        },
                        A = function() {
                            return n.canGoBack() ? n.goBack() : n.navigate("home")
                        },
                        I = Object(u.useMutation)(Ui),
                        L = Object(p.a)(I, 1)[0];
                    Object(a.useLayoutEffect)((function() {
                        n.setOptions({
                            headerLeft: function() {
                                return r.a.createElement(P.a, {
                                    accessibilityRole: "button",
                                    accessibilityLabel: "Cancel",
                                    style: [{
                                        padding: 8,
                                        marginLeft: 20
                                    }, x.body, {
                                        color: w.secondaryText
                                    }],
                                    onPress: function() {
                                        Ne({
                                            eventName: "settings_cancel_clicked"
                                        }), A()
                                    }
                                }, "Cancel")
                            },
                            headerRight: function() {
                                return r.a.createElement(P.a, {
                                    accessibilityLabel: "Done",
                                    accessibilityRole: "button",
                                    style: [{
                                        padding: 8,
                                        marginRight: 20
                                    }, x.body, {
                                        color: w.secondaryText
                                    }],
                                    onPress: Object(O.a)(S.a.mark((function e() {
                                        return S.a.wrap((function(e) {
                                            for (;;) switch (e.prev = e.next) {
                                                case 0:
                                                    return e.next = 2, k();
                                                case 2:
                                                    Ne({
                                                        eventName: "settings_done_clicked"
                                                    }), A();
                                                case 4:
                                                case "end":
                                                    return e.stop()
                                            }
                                        }), e)
                                    })))
                                }, "Save")
                            }
                        })
                    }), [n, f, s]);
                    var F = function(e) {
                        return b(Object(g.a)(Object(g.a)({}, f), e))
                    };
                    return r.a.createElement(B.a, {
                        style: [{
                            backgroundColor: h.userMode.background,
                            marginTop: N({
                                default: 0,
                                iPhoneX: 6
                            })
                        }, E.basic]
                    }, r.a.createElement($t.a, {
                        contentContainerStyle: E.screen
                    }, r.a.createElement(cn, {
                        startIndex: 0,
                        labels: ["Game", "Display", "Account"],
                        onPressActions: [function() {
                            return c("Game")
                        }, function() {
                            return c("Display")
                        }, function() {
                            return c("Account")
                        }]
                    }), !!y && (null === (t = Object.keys(y)) || void 0 === t ? void 0 : t.length) > 2 && r.a.createElement(B.a, {
                        style: E.content
                    }, "Game" === l && r.a.createElement(Ri, {
                        user: v,
                        reset: function() {
                            if (!(null === y || void 0 === y ? void 0 : y.id)) return null;
                            L(), k(), A()
                        },
                        settings: y,
                        setSettings: F
                    }), "Display" === l && r.a.createElement(Oi, {
                        settings: y,
                        setSettings: F
                    }), "Account" === l && r.a.createElement(ui, {
                        user: v
                    }))))
                },
                Gi = n(507);

            function Yi() {
                var e = Object(x.a)(["\nmutation ($subscription: String, $priceVersion: String) {\n  subPaypal(subscription: $subscription, priceVersion: $priceVersion) {\n    id\n    hasPremium\n    subscription {\n      id\n      status\n      start\n      end\n      source\n    }\n  }\n}\n"]);
                return Yi = function() {
                    return e
                }, e
            }

            function Qi() {
                var e = Object(x.a)(["\n    fragment SubscriptionPaypalFragment on User {\n      subscription {\n        id\n        status\n      }\n    }\n  "]);
                return Qi = function() {
                    return e
                }, e
            }
            var $i = function(e) {
                var t = e.requestSent,
                    n = e.setRequestSent,
                    o = (e.user, Object(C.useNavigation)()),
                    i = Object(a.useState)(""),
                    l = Object(p.a)(i, 2),
                    c = l[0],
                    s = l[1],
                    d = Object(u.useMutation)(_i),
                    m = Object(p.a)(d, 1)[0],
                    f = Xi(),
                    b = function() {
                        var e = Object(O.a)(S.a.mark((function e(t) {
                            return S.a.wrap((function(e) {
                                for (;;) switch (e.prev = e.next) {
                                    case 0:
                                        return e.prev = 0, e.next = 3, m({
                                            variables: {
                                                subscription: t,
                                                priceVersion: "monthly"
                                            }
                                        });
                                    case 3:
                                        Ne({
                                            eventName: "paypal_subscription_completed"
                                        }), o.navigate("confirmation"), e.next = 11;
                                        break;
                                    case 7:
                                        e.prev = 7, e.t0 = e.catch(0), n(!1), s(e.t0);
                                    case 11:
                                    case "end":
                                        return e.stop()
                                }
                            }), e, null, [
                                [0, 7]
                            ])
                        })));
                        return function(t) {
                            return e.apply(this, arguments)
                        }
                    }();
                return r.a.createElement(B.a, {
                    style: {
                        marginBottom: 10
                    }
                }, !!c && r.a.createElement(P.a, {
                    style: [f.message, {
                        color: de.errorText
                    }]
                }, c), r.a.createElement(B.a, {
                    style: [f.message, {
                        marginTop: 25
                    }]
                }, r.a.createElement(P.a, {
                    styles: f.warnText
                }, "Paypal subscriptions sometimes don't communicate with our app well. If for any reason you don't get immediate Premium access after subscribing with Paypal, please reach out to support@aidungeon.io")), r.a.createElement(Gi.PayPalButton, {
                    options: {
                        vault: !0,
                        clientId: "ASWvhYNoQ-dafiBvRVL_a1TnpYIfWkDj4UMtU9ABbsmuMF4-ceL50Ahx4xqLYvHXFjBsyv_SxEKYC0qg",
                        disableFunding: "credit,card"
                    },
                    style: {
                        label: "pay"
                    },
                    createSubscription: function(e, a) {
                        if (!t) return n(!0), a.subscription.create({
                            plan_id: "P-12566444R2797330GL4HY6PI"
                        })
                    },
                    onApprove: function(e, t) {
                        return t.subscription.get().then((function(e) {
                            b(null === e || void 0 === e ? void 0 : e.id)
                        }))
                    }
                }))
            };
            $i.fragments = {
                user: k()(Qi())
            };
            var _i = k()(Yi()),
                Xi = function() {
                    var e = se(Se()),
                        t = e.userMode,
                        n = e.fontSizes,
                        a = e.fonts;
                    return Object(g.a)(Object(g.a)({}, e), {}, {
                        message: {
                            fontSize: n.medium,
                            paddingBottom: 16,
                            color: de.subscriptionText,
                            textAlign: "center",
                            justifyContent: "center",
                            alignItems: "center"
                        },
                        warnText: {
                            color: t.alertText,
                            fontFamily: a.body,
                            fontSize: n.small,
                            marginTop: 5
                        }
                    })
                },
                Ji = $i,
                Ki = n(508),
                Zi = n.n(Ki);

            function el() {
                var e = Object(x.a)(["\nmutation ($token: String, $priceVersion: String) {\n  subStripe(token: $token, priceVersion: $priceVersion) {\n    id\n    hasPremium\n    subscription {\n      id\n      status\n      start\n      end\n      source\n    }\n  }\n}\n"]);
                return el = function() {
                    return e
                }, e
            }

            function tl() {
                var e = Object(x.a)(["\n    fragment SubscriptionFormFragment on User {\n      ...SubscriptionPaypalFragment\n    }\n    ", "\n  "]);
                return tl = function() {
                    return e
                }, e
            }
            var nl = function(e) {
                var t = e.requestSent,
                    n = e.setRequestSent,
                    o = Object(zo.useStripe)(),
                    i = Object(zo.useElements)(),
                    l = Object(C.useNavigation)(),
                    c = Object(a.useState)(""),
                    s = Object(p.a)(c, 2),
                    d = s[0],
                    m = s[1],
                    f = Object(u.useMutation)(al, {
                        onCompleted: function() {
                            return l.navigate("confirmation")
                        },
                        onError: function(e) {
                            n(!1), m(e.graphQLErrors[0].message)
                        }
                    }),
                    b = Object(p.a)(f, 2),
                    y = b[0],
                    v = b[1].loading,
                    g = rl(),
                    h = {
                        style: {
                            base: {
                                color: de.subscriptionText,
                                fontFamily: ie.body,
                                fontSmoothing: "antialiased",
                                fontSize: le.small,
                                "::placeholder": {
                                    color: de.subscriptionCardBase
                                }
                            },
                            invalid: {
                                color: de.subscriptionCardInvalid,
                                iconColor: de.subscriptionCardInvalid
                            }
                        }
                    },
                    E = function(e) {
                        v || y({
                            variables: {
                                token: null === e || void 0 === e ? void 0 : e.id,
                                priceVersion: "monthly"
                            }
                        })
                    },
                    x = function() {
                        var e = Object(O.a)(S.a.mark((function e(a) {
                            var r, l, c;
                            return S.a.wrap((function(e) {
                                for (;;) switch (e.prev = e.next) {
                                    case 0:
                                        if (!t) {
                                            e.next = 2;
                                            break
                                        }
                                        return e.abrupt("return");
                                    case 2:
                                        return n(!0), e.next = 5, o.createToken(i.getElement(zo.CardElement));
                                    case 5:
                                        r = e.sent, l = r.error, c = r.token, l ? (n(!1), m(null === l || void 0 === l ? void 0 : l.message)) : c ? (Ne({
                                            eventName: "stripe_token_received"
                                        }), E(c)) : (n(!1), m("Something went wrong...try again?"));
                                    case 9:
                                    case "end":
                                        return e.stop()
                                }
                            }), e)
                        })));
                        return function(t) {
                            return e.apply(this, arguments)
                        }
                    }();
                return r.a.createElement(B.a, {
                    style: {
                        padding: 5,
                        borderRadius: 5
                    }
                }, !!d && r.a.createElement(P.a, {
                    style: [g.message, {
                        color: de.errorText
                    }]
                }, d), r.a.createElement(B.a, {
                    style: g.cardContainer
                }, r.a.createElement(zo.CardElement, {
                    options: h
                })), r.a.createElement(B.a, {
                    style: g.logoContainer
                }, r.a.createElement(ot.a, {
                    source: Zi.a,
                    style: g.logo
                })), r.a.createElement(L.a, {
                    onPress: x,
                    style: g.subscribe,
                    disabled: v
                }, r.a.createElement(P.a, {
                    style: g.buttonText
                }, "SUPPORT AI DUNGEON!")), !!v && r.a.createElement(bt.a, {
                    size: "small"
                }))
            };
            nl.fragments = {
                user: k()(tl(), Ji.fragments.user)
            };
            var al = k()(el()),
                rl = function() {
                    var e = se(Se()),
                        t = e.fontSizes,
                        n = e.fonts;
                    return Object(g.a)(Object(g.a)({}, e), {}, {
                        subscribe: {
                            marginTop: 30,
                            marginBottom: 15,
                            backgroundColor: "#515255",
                            padding: 20,
                            borderRadius: 5
                        },
                        cardContainer: {
                            backgroundColor: de.subscriptionBackground,
                            padding: 20,
                            borderRadius: 5,
                            borderWidth: 1,
                            borderColor: de.subscriptionText
                        },
                        buttonText: {
                            color: de.text,
                            fontFamily: n.body,
                            textAlign: "center",
                            fontSize: t.medium
                        },
                        logoContainer: {
                            justifyContent: "flex-end",
                            alignItems: "flex-end",
                            flexDirection: "row"
                        },
                        logo: {
                            height: 40,
                            width: 120
                        },
                        message: {
                            fontSize: t.medium,
                            paddingBottom: 16,
                            color: de.subscriptionText,
                            textAlign: "center",
                            justifyContent: "center",
                            alignItems: "center"
                        }
                    })
                },
                ol = nl;

            function il() {
                var e = Object(x.a)(["\n    fragment SubscriptionFormFragment on User {\n      ...SubscriptionPaypalFragment\n    }\n    ", "\n  "]);
                return il = function() {
                    return e
                }, e
            }
            var ll = function(e) {
                var t = e.user,
                    n = Object(a.useState)("CC"),
                    o = Object(p.a)(n, 2),
                    i = o[0],
                    l = o[1],
                    c = Object(a.useState)(!1),
                    u = Object(p.a)(c, 2),
                    s = u[0],
                    d = u[1],
                    m = cl();
                return r.a.createElement(r.a.Fragment, null, r.a.createElement(B.a, {
                    style: {
                        borderColor: de.secondaryBorder,
                        borderWidth: 1,
                        borderRadius: 20,
                        padding: 20,
                        marginTop: 40,
                        marginBottom: 60
                    }
                }, r.a.createElement(B.a, {
                    style: {
                        flexDirection: "row",
                        alignItems: "center",
                        justifyContent: "center",
                        width: "100%",
                        marginBottom: 5
                    }
                }, r.a.createElement(L.a, {
                    onPress: function() {
                        d(!1), l("CC")
                    }
                }, r.a.createElement(B.a, {
                    style: {
                        flexDirection: "row",
                        alignItems: "center",
                        margin: 10
                    }
                }, r.a.createElement(qe, {
                    name: "CC" === i ? "radiobox-marked" : "radiobox-blank",
                    size: 30,
                    color: de.latitudeTeal
                }), r.a.createElement(P.a, {
                    style: {
                        fontSize: le.medium,
                        color: de.subscriptionText
                    }
                }, "Credit Card"))), r.a.createElement(L.a, {
                    onPress: function() {
                        d(!1), l("PP")
                    }
                }, r.a.createElement(B.a, {
                    style: {
                        flexDirection: "row",
                        alignItems: "center",
                        margin: 10
                    }
                }, r.a.createElement(qe, {
                    name: "PP" === i ? "radiobox-marked" : "radiobox-blank",
                    size: 30,
                    color: de.latitudeTeal
                }), r.a.createElement(P.a, {
                    style: {
                        fontSize: le.medium,
                        color: de.subscriptionText
                    }
                }, "PayPal")))), "PP" === i && r.a.createElement(Ji, {
                    requestSent: s,
                    setRequestSent: d,
                    user: t
                }), "CC" === i && r.a.createElement(ol, {
                    requestSent: s,
                    setRequestSent: d
                }), r.a.createElement(B.a, null, r.a.createElement(P.a, {
                    style: m.terms
                }, "By subscribing you acknowledge your agreement to our", r.a.createElement("br", null), r.a.createElement("a", {
                    target: "_blank",
                    rel: "noreferrer noopener",
                    href: "https://aidungeon.io/terms-of-service/"
                }, "Terms of Service"), "."), r.a.createElement(B.a, {
                    style: [m.message, {
                        marginTop: 25
                    }]
                }, r.a.createElement(P.a, null, "All charges will appear on your transaction under"), r.a.createElement(ot.a, {
                    source: ar.a,
                    style: m.LatitudeLogo
                })))))
            };
            ll.fragments = {
                user: k()(il(), Ji.fragments.user)
            };
            var cl = function() {
                    var e = se(Se()),
                        t = e.fontSizes;
                    return Object(g.a)(Object(g.a)({}, e), {}, {
                        message: {
                            fontSize: t.medium,
                            paddingBottom: 16,
                            color: de.subscriptionText,
                            textAlign: "center",
                            justifyContent: "center",
                            alignItems: "center"
                        },
                        terms: {
                            fontSize: t.small,
                            padding: 10,
                            color: de.subscriptionText,
                            textAlign: "center"
                        },
                        LatitudeLogo: {
                            marginTop: 5,
                            height: 22,
                            width: 150
                        }
                    })
                },
                ul = ll;

            function sl() {
                var e = Object(x.a)(["\n  query {\n    user {\n      id\n      username\n      hasPremium\n      subscription {\n        id\n        status\n      }\n      ...SubscriptionFormFragment\n    }\n  }\n  ", "\n"]);
                return sl = function() {
                    return e
                }, e
            }
            var dl = Object(Mo.a)("pk_live_xwaCgF7KAx2rgCBgqtBSHoaf00JdHGmZYR"),
                ml = k()(sl(), ul.fragments.user),
                fl = function() {
                    var e = se(Se()),
                        t = e.fontSizes;
                    return Object(g.a)(Object(g.a)({}, e), {}, {
                        container: {
                            flex: 1,
                            alignItems: "center",
                            width: "100%",
                            height: "100%",
                            justifyContent: "center",
                            backgroundColor: de.subscriptionBackground
                        },
                        button: {
                            marginTop: 30,
                            marginBottom: 15,
                            backgroundColor: de.buttonBackground,
                            padding: 20,
                            borderRadius: 10
                        },
                        planBox: {
                            width: "46%",
                            marginRight: "2%",
                            marginLeft: "2%",
                            height: 160,
                            borderColor: de.secondaryBorder,
                            borderWidth: 2,
                            borderRadius: 20,
                            padding: 20,
                            alignItems: "center",
                            justifyContent: "center"
                        },
                        plan: {
                            color: de.subscriptionText,
                            fontSize: t.medium
                        },
                        detailBox: {
                            padding: 20,
                            maxWidth: 600
                        },
                        hr: {
                            marginBottom: 10
                        },
                        buttonText: {
                            color: de.text,
                            fontFamily: ie.body,
                            textAlign: "center",
                            fontSize: t.medium
                        },
                        title: {
                            fontSize: t.large,
                            color: de.subscriptionText,
                            textAlign: "center"
                        },
                        feature: {
                            color: de.subscriptionText,
                            marginBottom: 15,
                            fontSize: t.medium,
                            paddingLeft: 10
                        },
                        headerBar: {
                            backgroundColor: de.latitudeTeal,
                            fontSize: t.medium,
                            color: de.latitudePurple,
                            paddingLeft: 20,
                            paddingVertical: 20,
                            marginTop: 25,
                            marginBottom: 10
                        }
                    })
                },
                bl = function() {
                    var e, t = Object(C.useNavigation)(),
                        n = Object(u.useQuery)(ml),
                        o = n.data,
                        i = n.refetch,
                        l = n.startPolling,
                        c = null === o || void 0 === o ? void 0 : o.user,
                        s = null === c || void 0 === c || null === (e = c.subscription) || void 0 === e ? void 0 : e.status,
                        d = Ya(),
                        m = d.openOverlay,
                        f = d.closeOverlay,
                        b = Object(a.useState)(null),
                        y = Object(p.a)(b, 2),
                        v = y[0],
                        h = y[1],
                        E = fl();
                    Object(a.useLayoutEffect)((function() {
                        t.setOptions({
                            headerRight: function() {
                                return r.a.createElement(B.a, {
                                    style: [me.latitudeLogoHeader, {
                                        marginTop: N({
                                            default: 25,
                                            iPhoneX: 60
                                        })
                                    }]
                                }, r.a.createElement(ot.a, {
                                    source: or.a,
                                    style: me.latitudeLogo
                                }))
                            }
                        })
                    }), [t]);
                    var x = function() {
                        t.navigate("manageSubscription")
                    };
                    return r.a.createElement($t.a, {
                        ref: h,
                        style: {
                            backgroundColor: de.subscriptionBackground
                        },
                        contentContainerStyle: me.screen
                    }, r.a.createElement(zo.Elements, {
                        stripe: dl
                    }, r.a.createElement(B.a, {
                        style: E.container
                    }, r.a.createElement(B.a, {
                        style: E.detailBox
                    }, r.a.createElement(F.d, {
                        style: Object(g.a)(Object(g.a)({}, E.title), {}, {
                            marginBottom: 0
                        })
                    }, "Become a Premium AI Dungeon Supporter"), r.a.createElement(F.d, {
                        style: E.headerBar
                    }, "What are you Supporting?"), r.a.createElement(F.d, {
                        style: E.feature
                    }, "AI Dungeon is just the beginning. Our vision is to use AI to revolutionize the way games are made. AI will enable games that are alive and dynamic, where your actions impact the world in significant ways and where you are not bound by the imaginations of the developers who created them."), r.a.createElement(F.d, {
                        style: E.feature
                    }, "By becoming a supporter you will be one of the first visionaries helping us blaze the trail into the future of AI powered games."), r.a.createElement(F.d, {
                        style: E.headerBar
                    }, "What are the Perks?"), r.a.createElement(F.d, {
                        style: E.feature
                    }, "Imagine AI Dungeon but 10x better. That's AI Dungeon with the Dragon model."), r.a.createElement(B.a, {
                        style: E.hr
                    }, ["Experience AI Dungeon on the Dragon model. One of the most powerful AI models in the world.", "First access to new developments as they come out", "Audio narration of your adventure", "Change advanced settings like randomness and length", "Help to advance AI powered games", "Cancel anytime"].map((function(e, t) {
                        return r.a.createElement(F.d, {
                            key: t,
                            style: E.feature
                        }, r.a.createElement(qe, {
                            name: "check",
                            color: de.subscriptionCheck,
                            size: 18,
                            style: {
                                paddingRight: 10
                            }
                        }), " ", e)
                    }))), r.a.createElement(F.d, {
                        style: E.headerBar
                    }, "Why a Subscription?"), r.a.createElement(F.d, {
                        style: E.feature
                    }, "AI Dungeon uses advanced AI in a way that no other game ever has. Because of this it costs us money to run the AI every time you play. We need your support to keep the game running."), (!c || !c.username) && r.a.createElement(r.a.Fragment, null, r.a.createElement(F.d, {
                        style: E.feature
                    }, "You must be logged in to subscribe."), r.a.createElement(L.a, {
                        onPress: function() {
                            m("login", {
                                lightMode: !0,
                                onClose: function() {
                                    i(), f()
                                }
                            }), v.scrollTo({
                                y: 0
                            })
                        },
                        style: E.button
                    }, r.a.createElement(F.d, {
                        style: E.buttonText
                    }, "LOGIN"))), !!c && !!c.username && !c.hasPremium && r.a.createElement(B.a, null, r.a.createElement(F.d, {
                        style: E.headerBar
                    }, "Payment Info"), r.a.createElement(F.d, {
                        style: E.feature
                    }, "$9.99 / month subscription that auto-renews monthly until cancelled."), s && "canceled" !== s && r.a.createElement(r.a.Fragment, null, r.a.createElement(F.d, {
                        style: {
                            textAlign: "center"
                        }
                    }, "Please cancel your existing subscription before you subscribe again."), r.a.createElement(L.a, {
                        onPress: x,
                        style: E.button
                    }, r.a.createElement(F.d, {
                        style: E.buttonText
                    }, "Manage Subscription"))), ("canceled" === s || !s) && r.a.createElement(ul, {
                        user: c,
                        startPolling: l
                    })), !!c && c.hasPremium && r.a.createElement(r.a.Fragment, null, r.a.createElement(F.d, {
                        style: E.headerBar
                    }, "Congratulations! You are already a premium user!"), r.a.createElement(L.a, {
                        onPress: x,
                        style: E.button
                    }, r.a.createElement(F.d, {
                        style: E.buttonText
                    }, "Manage Subscription")))))))
                };

            function yl() {
                var e = Object(x.a)(["\nmutation {\n  sendVerifyEmail\n}\n"]);
                return yl = function() {
                    return e
                }, e
            }

            function vl() {
                var e = Object(x.a)(["\nquery {\n  user {\n    id\n    verifiedAt\n  }\n}\n"]);
                return vl = function() {
                    return e
                }, e
            }
            var gl = k()(vl()),
                pl = k()(yl()),
                hl = function() {
                    var e = se(Se()),
                        t = e.userMode,
                        n = e.fontSizes,
                        a = e.fonts;
                    return Object(g.a)(Object(g.a)({}, e), {}, {
                        button: {
                            marginBottom: 25
                        },
                        infoMessageText: {
                            color: t.secondaryText,
                            fontFamily: a.body,
                            fontSize: n.small,
                            lineHeight: 16,
                            textAlign: "center",
                            paddingHorizontal: 10,
                            paddingBottom: 20
                        }
                    })
                },
                El = function() {
                    var e, t = Object(u.useQuery)(gl),
                        n = t.data,
                        o = t.refetch,
                        i = !!(null === n || void 0 === n || null === (e = n.user) || void 0 === e ? void 0 : e.verifiedAt),
                        l = hl(),
                        c = l.containerStyles,
                        s = Object(u.useMutation)(pl, {
                            onError: function() {}
                        }),
                        d = Object(p.a)(s, 2),
                        m = d[0],
                        f = d[1],
                        b = f.called,
                        y = f.loading,
                        v = f.error,
                        g = Object(a.useState)("To protect against DDOS attacks we are currently requiring verification to play the game."),
                        h = Object(p.a)(g, 2),
                        E = h[0],
                        x = h[1],
                        w = b && !y && !v;
                    return Object(a.useEffect)((function() {
                        var e;
                        i ? x("You've successfully verified!") : w ? x("Verification email sent. Please check your inbox to verify your email and continue playing the game.") : (null === v || void 0 === v || null === (e = v.graphQLErrors) || void 0 === e ? void 0 : e.length) > 0 && x(v.graphQLErrors[0].message)
                    }), [w, i, v]), r.a.createElement($t.a, {
                        contentContainerStyle: c.screen
                    }, r.a.createElement(B.a, {
                        style: c.content
                    }, !i && !w && r.a.createElement(vt, {
                        onPress: m,
                        style: l.button,
                        loading: y
                    }, "Verify Email"), !i && w && r.a.createElement(vt, {
                        onPress: function() {
                            x("Your email has not been verified."), o()
                        },
                        style: l.button,
                        loading: y
                    }, "Check Verified"), r.a.createElement(P.a, {
                        style: l.infoMessageText
                    }, E)))
                },
                xl = n(91),
                wl = function() {
                    var e = Object(O.a)(S.a.mark((function e(t) {
                        var n, a, r, o, i, l, c, u;
                        return S.a.wrap((function(e) {
                            for (;;) switch (e.prev = e.next) {
                                case 0:
                                    return n = t.route, a = t.routeParam, "https://aidungeon.page.link/?link=", r = Object.keys(a)[0], o = Object.values(a)[0], i = "?".concat(r, "=").concat(o), l = "https://".concat(n).concat(i), c = encodeURIComponent("https://play.aidungeon.io/main/".concat(n).concat(i)), u = "".concat("https://aidungeon.page.link/?link=").concat(l, "&ofl=").concat(c, "&apn=com.aidungeon&ibi=com.aidungeon.app&isi=1491268416"), e.abrupt("return", {
                                        link: u,
                                        webUrl: "https://play.aidungeon.io/main/".concat(n).concat(i)
                                    });
                                case 9:
                                case "end":
                                    return e.stop()
                            }
                        }), e)
                    })));
                    return function(t) {
                        return e.apply(this, arguments)
                    }
                }(),
                Sl = function() {
                    var e = se(Se()),
                        t = e.userMode,
                        n = e.fontSizes,
                        a = e.fonts;
                    return Object(g.a)(Object(g.a)({}, e), {}, {
                        tagsListContainer: {
                            flexDirection: "row",
                            marginTop: 10,
                            marginBottom: 45
                        },
                        tagsLengthIndicator: {
                            flexBasis: "10%",
                            position: "absolute",
                            right: 0,
                            bottom: 0,
                            paddingBottom: 5,
                            color: t.secondaryText,
                            fontFamily: a.body,
                            fontSize: n.small
                        }
                    })
                },
                Ol = function(e) {
                    var t, n = e.onTagsChange,
                        o = e.nsfw,
                        i = e.onnsfwChange,
                        l = null !== (t = null === e || void 0 === e ? void 0 : e.tags) && void 0 !== t ? t : [],
                        c = Object(a.useState)(""),
                        u = Object(p.a)(c, 2),
                        s = u[0],
                        d = u[1],
                        m = Sl(),
                        f = Se(),
                        b = f.mode,
                        y = f.theme,
                        v = function() {
                            return l.includes("nsfw") ? (null === l || void 0 === l ? void 0 : l.length) - 1 : null === l || void 0 === l ? void 0 : l.length
                        },
                        g = function(e) {
                            return null === e || void 0 === e ? void 0 : e.trim().toLowerCase()
                        },
                        h = function() {
                            if (s) {
                                var e = g(s);
                                E(e)
                            }
                        },
                        E = function(e) {
                            (function(e) {
                                if (l)
                                    for (var t = 0; t < (null === l || void 0 === l ? void 0 : l.length); t++)
                                        if (l[t] === e) return !0;
                                return !1
                            })(e) || ("nsfw" === e ? (l.unshift(e), w(!0)) : v() < 10 && l.push(e)), d(""), n && n(l)
                        },
                        x = function(e) {
                            var t = l.filter((function(t) {
                                return t !== e
                            }));
                            "nsfw" === e && i && i(!1), n && n(t)
                        },
                        w = function(e) {
                            e ? E("nsfw") : x("nsfw"), i && i(e)
                        };
                    return r.a.createElement(B.a, null, r.a.createElement(ht, {
                        label: "Tags",
                        placeholder: "List relevant tags (e.g. mystery, dragons, etc)",
                        returnKeyType: "done",
                        value: s,
                        onChangeText: function(e) {
                            return function(e) {
                                if ("" === (null === e || void 0 === e ? void 0 : e.trim()) || "\n" === e[(null === e || void 0 === e ? void 0 : e.length) - 1] ? d("") : d(e), "," === (null === e || void 0 === e ? void 0 : e.charAt((null === e || void 0 === e ? void 0 : e.length) - 1)) && (null === e || void 0 === e ? void 0 : e.length) > 1) {
                                    var t = g(null === e || void 0 === e ? void 0 : e.substring(0, (null === e || void 0 === e ? void 0 : e.length) - 1));
                                    E(t)
                                }
                            }(e)
                        },
                        onEnter: h,
                        onSubmitEditing: h,
                        textInputStyle: m.textInput,
                        multiline: !0,
                        maxLength: 25,
                        hideMaxLengthIndicator: !0
                    }), r.a.createElement(B.a, {
                        style: m.tagsListContainer
                    }, r.a.createElement(Pi, {
                        tags: l,
                        style: "edit",
                        isEdit: !0,
                        onDelete: function(e) {
                            return x(e)
                        }
                    }), v() > 0 && r.a.createElement(P.a, {
                        style: m.tagsLengthIndicator
                    }, "".concat(v(), "/").concat(10..toString()))), r.a.createElement(si.a, {
                        label: "NSFW",
                        info: "Content contains NSFW (not safe for work) material and will not be shown to users with Safe Mode activated",
                        onChange: function(e) {
                            return w(e)
                        },
                        value: o,
                        mode: b,
                        theme: y
                    }))
                },
                jl = function() {
                    var e = se(Se()),
                        t = e.userMode,
                        n = e.fontSizes,
                        a = e.fonts;
                    return Object(g.a)(Object(g.a)({}, e), {}, {
                        buttonText: {
                            fontFamily: a.body,
                            color: t.text,
                            alignSelf: "center",
                            fontSize: n.xSmall,
                            textTransform: "uppercase"
                        },
                        buttonStyle: {
                            height: 30,
                            width: "auto",
                            opacity: 1,
                            justifyContent: "flex-start",
                            alignItems: "flex-start",
                            alignSelf: "center",
                            marginRight: 20
                        }
                    })
                },
                Cl = function(e) {
                    var t = e.value,
                        n = e.onPress,
                        a = e.rightIconName,
                        o = e.buttonStyles,
                        i = jl();
                    return r.a.createElement(vt, Object.assign({
                        accessibilityLabel: t,
                        accessibilityRole: "button",
                        accessibilityLiveRegion: "polite",
                        onPress: n,
                        textStyle: i.buttonText,
                        style: [i.buttonStyle, o]
                    }, e), t + " ", !!a && r.a.createElement(qe, {
                        type: "awesome",
                        name: a,
                        color: i.userMode.text
                    }))
                };

            function Tl() {
                var e = Object(x.a)(["\n  mutation ($publicId: String) {\n    deleteScenario(publicId: $publicId) {\n      id\n      publicId\n      deletedAt\n    }\n  }\n"]);
                return Tl = function() {
                    return e
                }, e
            }

            function kl() {
                var e = Object(x.a)(["\n  mutation ($publicId: String) {\n    deleteAdventure(publicId: $publicId) {\n      id\n      publicId\n      deletedAt\n    }\n  }\n"]);
                return kl = function() {
                    return e
                }, e
            }

            function Al() {
                var e = Object(x.a)(["\n    fragment DeleteButtonFragment on Searchable {\n      id\n      publicId\n      published\n    }\n  "]);
                return Al = function() {
                    return e
                }, e
            }
            var Il = function(e) {
                var t, n = e.content,
                    a = e.style,
                    o = e.onDelete,
                    i = null === n || void 0 === n || null === (t = n.__typename) || void 0 === t ? void 0 : t.toLowerCase(),
                    l = null === n || void 0 === n ? void 0 : n.publicId,
                    c = (null === n || void 0 === n ? void 0 : n.published) ? " This ".concat(i, " will also be removed from the public content library. ") : "",
                    s = Object(u.useMutation)(Pl, {
                        variables: {
                            publicId: l
                        },
                        onCompleted: function() {
                            o && o()
                        }
                    }),
                    d = Object(p.a)(s, 1)[0],
                    m = Object(u.useMutation)(Ll, {
                        variables: {
                            publicId: l
                        },
                        onCompleted: function() {
                            o && o()
                        }
                    }),
                    f = Object(p.a)(m, 1)[0],
                    b = function() {
                        "adventure" === i && d(), "scenario" === i && f()
                    };
                return r.a.createElement(_r, {
                    iconName: "trash",
                    style: a,
                    type: "awesome",
                    onPress: function() {
                        var e = "This ".concat(i, " will be deleted from your account.").concat(c);
                        return Mn({
                            title: "Delete?",
                            desc: e,
                            acceptText: "Delete",
                            onAccept: b
                        })
                    }
                })
            };
            Il.fragments = {
                searchable: k()(Al())
            };
            var Pl = k()(kl()),
                Ll = k()(Tl()),
                Bl = Il;

            function Fl() {
                var e = Object(x.a)(["\n  mutation ($input: AdventureInput) {\n    updateAdventure(input: $input) {\n      ...AdventureEditFragment\n    }\n  }\n  ", "\n"]);
                return Fl = function() {
                    return e
                }, e
            }

            function zl() {
                var e = Object(x.a)(["\n  query ($publicId: String) {\n    adventure(publicId: $publicId) {\n      ...AdventureEditFragment\n    }\n  }\n  ", "\n"]);
                return zl = function() {
                    return e
                }, e
            }

            function Ml() {
                var e = Object(x.a)(["\nquery {\n  musicThemes\n}\n"]);
                return Ml = function() {
                    return e
                }, e
            }

            function Rl() {
                var e = Object(x.a)(["\nquery {\n  user {\n    id\n    verifiedAt\n    isDeveloper\n  }\n}\n"]);
                return Rl = function() {
                    return e
                }, e
            }

            function Dl() {
                var e = Object(x.a)(["\n    fragment AdventureEditFragment on Adventure {\n      id\n      publicId\n      createdAt\n      deletedAt\n      description\n      enableExperimentalFeatures\n      mode\n      musicTheme\n      nsfw\n      playPublicId\n      published\n      tags\n      thirdPerson\n      title\n      updatedAt\n      ...DeleteButtonFragment\n    }\n    ", "\n  "]);
                return Dl = function() {
                    return e
                }, e
            }
            var Nl = function(e) {
                var t = e.route,
                    n = Object(C.useNavigation)(),
                    o = t.params.publicId,
                    i = Object(u.useQuery)(Vl).data,
                    l = Object(u.useQuery)(Hl, {
                        variables: {
                            publicId: o
                        }
                    }),
                    c = l.data,
                    s = l.loading,
                    d = Object(u.useQuery)(Wl).data,
                    m = null === c || void 0 === c ? void 0 : c.adventure,
                    f = null === i || void 0 === i ? void 0 : i.user,
                    b = null === f || void 0 === f ? void 0 : f.verifiedAt,
                    y = Object(u.useMutation)(Ul),
                    v = Object(p.a)(y, 1)[0],
                    h = function() {
                        return n.canGoBack() ? n.goBack() : n.navigate("myStuff")
                    },
                    E = null === d || void 0 === d ? void 0 : d.musicThemes,
                    x = Object(a.useState)(""),
                    w = Object(p.a)(x, 2),
                    j = w[0],
                    T = w[1],
                    k = Object(a.useState)(""),
                    I = Object(p.a)(k, 2),
                    L = I[0],
                    F = I[1],
                    z = Object(a.useState)([]),
                    M = Object(p.a)(z, 2),
                    R = M[0],
                    D = M[1],
                    V = Object(a.useState)(!1),
                    W = Object(p.a)(V, 2),
                    H = W[0],
                    U = W[1],
                    q = Object(a.useState)(!1),
                    G = Object(p.a)(q, 2),
                    Y = G[0],
                    Q = G[1],
                    $ = Object(a.useState)(!1),
                    _ = Object(p.a)($, 2),
                    X = _[0],
                    J = _[1],
                    K = Object(a.useState)(!1),
                    Z = Object(p.a)(K, 2),
                    ee = Z[0],
                    te = Z[1],
                    ne = Object(a.useState)((null === m || void 0 === m ? void 0 : m.musicTheme) || "none"),
                    ae = Object(p.a)(ne, 2),
                    re = ae[0],
                    oe = ae[1],
                    ie = Object(a.useState)(""),
                    le = Object(p.a)(ie, 2),
                    ce = le[0],
                    ue = le[1],
                    se = {
                        title: j,
                        description: L,
                        tags: R,
                        nsfw: H,
                        published: Y,
                        thirdPerson: X,
                        enableExperimentalFeatures: ee,
                        musicTheme: re,
                        mode: ce
                    },
                    me = Object(a.useState)(null),
                    fe = Object(p.a)(me, 2),
                    be = fe[0],
                    ye = fe[1],
                    ve = Object(a.useState)((function() {})),
                    ge = Object(p.a)(ve, 2),
                    pe = ge[0],
                    he = ge[1],
                    Ee = Ya().openOverlay,
                    xe = ql(),
                    we = Se(),
                    Oe = we.mode,
                    je = we.theme,
                    Ce = xe.containerStyles,
                    Te = function() {
                        var e = Object(O.a)(S.a.mark((function e(t) {
                            var n;
                            return S.a.wrap((function(e) {
                                for (;;) switch (e.prev = e.next) {
                                    case 0:
                                        if (t) {
                                            e.next = 2;
                                            break
                                        }
                                        return e.abrupt("return");
                                    case 2:
                                        return e.next = 4, wl({
                                            route: "play",
                                            routeParam: {
                                                playPublicId: t
                                            }
                                        });
                                    case 4:
                                        n = e.sent, ye(n);
                                    case 6:
                                    case "end":
                                        return e.stop()
                                }
                            }), e)
                        })));
                        return function(t) {
                            return e.apply(this, arguments)
                        }
                    }();
                Object(a.useEffect)((function() {
                    if (be) {
                        he((function() {
                            return function() {
                                Ee("share", {
                                    title: "Invite Friends to Join Your Game",
                                    message: "Go to this link to join my AI Dungeon game!",
                                    url: be
                                })
                            }
                        }))
                    }
                }), [be]), Object(a.useEffect)((function() {
                    T((null === m || void 0 === m ? void 0 : m.title) || ""), F((null === m || void 0 === m ? void 0 : m.description) || ""), D(null === m || void 0 === m ? void 0 : m.tags), U(null === m || void 0 === m ? void 0 : m.nsfw), Q(null === m || void 0 === m ? void 0 : m.published), J(null === m || void 0 === m ? void 0 : m.thirdPerson), te(null === m || void 0 === m ? void 0 : m.enableExperimentalFeatures), ue(null === m || void 0 === m ? void 0 : m.mode), oe(null === m || void 0 === m ? void 0 : m.musicTheme);
                    var e = null === m || void 0 === m ? void 0 : m.playPublicId;
                    e && Te(e)
                }), [m]);
                var ke = function() {
                        return n.navigate("adventurePlay", {
                            publicId: o
                        })
                    },
                    Ae = function() {
                        return n.navigate("adventureView", {
                            publicId: o
                        })
                    };
                Object(a.useLayoutEffect)((function() {
                    n.setOptions({
                        headerLeft: function() {
                            return r.a.createElement(Xr, {
                                onPress: Ie
                            })
                        },
                        headerRight: function() {
                            return r.a.createElement(B.a, {
                                style: {
                                    flexDirection: "row"
                                }
                            }, r.a.createElement(_r, {
                                iconName: "save",
                                type: "awesome",
                                onPress: Ie
                            }), r.a.createElement(Bl, {
                                content: m,
                                onDelete: h
                            }), r.a.createElement(_r, {
                                iconName: "play",
                                type: "awesome",
                                onPress: ke
                            }), r.a.createElement(_r, {
                                iconName: "book",
                                type: "awesome",
                                onPress: Ae,
                                style: {
                                    marginRight: 15
                                }
                            }))
                        }
                    })
                }), [n, m, se]);
                var Ie = function() {
                        var e = Object(O.a)(S.a.mark((function e() {
                            return S.a.wrap((function(e) {
                                for (;;) switch (e.prev = e.next) {
                                    case 0:
                                        if (!s) {
                                            e.next = 2;
                                            break
                                        }
                                        return e.abrupt("return");
                                    case 2:
                                        rt.a.dismiss(), v({
                                            variables: {
                                                input: Object(g.a)({
                                                    publicId: o
                                                }, se)
                                            }
                                        });
                                    case 4:
                                    case "end":
                                        return e.stop()
                                }
                            }), e)
                        })));
                        return function() {
                            return e.apply(this, arguments)
                        }
                    }(),
                    Pe = function() {
                        var e = Object(O.a)(S.a.mark((function e() {
                            return S.a.wrap((function(e) {
                                for (;;) switch (e.prev = e.next) {
                                    case 0:
                                        return e.next = 2, Ie();
                                    case 2:
                                        n.navigate("adventureWorldEntries", {
                                            publicId: o
                                        });
                                    case 3:
                                    case "end":
                                        return e.stop()
                                }
                            }), e)
                        })));
                        return function() {
                            return e.apply(this, arguments)
                        }
                    }(),
                    Le = function() {
                        var e = Object(O.a)(S.a.mark((function e() {
                            return S.a.wrap((function(e) {
                                for (;;) switch (e.prev = e.next) {
                                    case 0:
                                        return e.next = 2, Ie();
                                    case 2:
                                        n.navigate("adventureView", {
                                            publicId: o
                                        });
                                    case 3:
                                    case "end":
                                        return e.stop()
                                }
                            }), e)
                        })));
                        return function() {
                            return e.apply(this, arguments)
                        }
                    }();
                return s ? r.a.createElement(bt.a, {
                    style: {
                        marginTop: 80,
                        justifyContent: "center"
                    },
                    color: "white",
                    size: 120
                }) : r.a.createElement(xl.a, {
                    extraScrollHeight: N({
                        default: 150,
                        iPhone5: 100
                    }),
                    contentContainerStyle: Ce.screen
                }, r.a.createElement(B.a, {
                    style: Ce.content
                }, r.a.createElement(ht, {
                    label: "Title",
                    placeholder: "Some great title...",
                    autoCapitalize: "ios" === A.a.OS ? "sentences" : "words",
                    returnKeyType: "done",
                    value: j,
                    onChangeText: T,
                    containerStyle: xe.textField,
                    maxLength: 70
                }), r.a.createElement(ht, {
                    label: "Description",
                    placeholder: "Provide a brief description to help others get an idea of what to expect when reading or playing your adventure.",
                    autoCapitalize: "sentences",
                    returnKeyType: "done",
                    value: L,
                    onChangeText: F,
                    containerStyle: xe.textField,
                    textInputStyle: xe.description,
                    multiline: !0,
                    maxLength: 400
                }), r.a.createElement(Ol, {
                    tags: null !== R && void 0 !== R ? R : [],
                    onTagsChange: D,
                    nsfw: H,
                    onnsfwChange: U
                }), r.a.createElement(si.a, {
                    label: "Published",
                    info: "Let other players read and remix your adventure.",
                    onChange: function(e) {
                        !b && e ? n.navigate("verify") : Q(e)
                    },
                    value: Y,
                    mode: Oe,
                    theme: je
                }), r.a.createElement(si.a, {
                    label: "3rd Person Only",
                    info: "Switching during an adventure is not recommended.",
                    value: X,
                    onChange: J,
                    mode: Oe,
                    theme: je
                }), r.a.createElement(B.a, {
                    style: xe.textField
                }, r.a.createElement(P.a, {
                    style: xe.labelTitle
                }, "Music Theme"), r.a.createElement(Cl, {
                    value: null !== re && void 0 !== re ? re : "none",
                    onPress: function() {
                        if ("none" !== re) {
                            var e = E.findIndex((function(e) {
                                return e === re
                            })) + 1;
                            e !== (null === E || void 0 === E ? void 0 : E.length) ? oe(E[e]) : oe("none")
                        } else oe(E[0])
                    },
                    buttonStyles: {
                        alignSelf: "flex-start"
                    }
                })), r.a.createElement(P.a, {
                    style: xe.labelTitle
                }, "Mode"), r.a.createElement(P.a, {
                    style: [xe.labelText, {
                        color: xe.userMode.secondaryText
                    }]
                }, "Adventure mode enables death (though you can still undo) and disables alter. Hardcore mode disables undo, retry, and alter. Death is also permanent."), r.a.createElement(Fn, {
                    active: ce,
                    textStyle: xe.buttonText,
                    style: {
                        width: "auto",
                        marginBottom: 45
                    },
                    labels: ["tutorial", "creative", "adventure", "hardcore"],
                    onPressActions: [function() {
                        return ue("tutorial")
                    }, function() {
                        return ue("creative")
                    }, function() {
                        return ue("adventure")
                    }, function() {
                        return ue("hardcore")
                    }]
                }), r.a.createElement(B.a, {
                    style: {
                        maxWidth: 400,
                        width: "100%",
                        alignSelf: "center",
                        flexDirection: "column"
                    }
                }, r.a.createElement(vt, {
                    accessibilityLabel: "World Info",
                    onPress: function() {
                        return Pe({
                            publicId: o
                        })
                    },
                    style: xe.button
                }, "World Info"), r.a.createElement(Or, {
                    start: {
                        x: 0,
                        y: 0
                    },
                    end: {
                        x: 1,
                        y: 0
                    },
                    colors: [xe.userTheme.primary, xe.userTheme.secondary],
                    style: xe.button
                }, r.a.createElement(vt, {
                    accessibilityLabel: "Invite Friends to Play",
                    onPress: pe,
                    textStyle: {
                        color: xe.userTheme.text
                    },
                    style: {
                        backgroundColor: de.clear
                    }
                }, "Invite Friends to Play")), r.a.createElement(B.a, {
                    style: xe.buttonsContainer
                }, Y && r.a.createElement(vt, {
                    accessibilityLabel: "View Published Page",
                    onPress: Le,
                    style: xe.button
                }, "View Published Page")))))
            };
            Nl.fragments = {
                adventure: k()(Dl(), Bl.fragments.searchable)
            };
            var Vl = k()(Rl()),
                Wl = k()(Ml()),
                Hl = k()(zl(), Nl.fragments.adventure),
                Ul = k()(Fl(), Nl.fragments.adventure),
                ql = function() {
                    var e = se(Se()),
                        t = e.userMode,
                        n = e.fonts,
                        a = e.fontSizes;
                    return Object(g.a)(Object(g.a)({}, e), {}, {
                        textField: {
                            marginBottom: 45
                        },
                        buttonText: {
                            fontSize: a.small
                        },
                        description: {
                            minHeight: 200
                        },
                        button: {
                            marginBottom: 15,
                            width: "100%",
                            alignSelf: "center",
                            borderRadius: 5
                        },
                        labelTitle: {
                            fontFamily: n.body,
                            fontSize: a.medium,
                            color: t.text,
                            marginBottom: 10
                        },
                        labelText: {
                            fontFamily: n.body,
                            fontSize: a.small,
                            color: t.text,
                            marginBottom: 20
                        },
                        link: {
                            color: t.secondaryText,
                            textDecoration: "underline"
                        }
                    })
                },
                Gl = Nl,
                Yl = function(e) {
                    return (null === e || void 0 === e ? void 0 : e.length) > 0 ? e.filter((function(e) {
                        return !(null === e || void 0 === e ? void 0 : e.undoneAt)
                    })).filter((function(e) {
                        return !(null === e || void 0 === e ? void 0 : e.deletedAt)
                    })).map((function(e) {
                        var t;
                        return Ql(null !== (t = null === e || void 0 === e ? void 0 : e.text) && void 0 !== t ? t : "")
                    })).filter((function(e) {
                        return "" !== e
                    })) : [""]
                },
                Ql = function(e) {
                    var t, n;
                    return null === e || void 0 === e || null === (t = e.replace(/ +/gm, " ")) || void 0 === t || null === (n = t.replace(/\n\n\n*/gm, "\n\n")) || void 0 === n ? void 0 : n.replace(/\n>/gm, "\n\n>")
                };

            function $l() {
                var e = Object(x.a)(["\n    fragment StoryTextListFragment on GameSettings {\n      ...StoryTextFragment\n    }\n    ", "\n  "]);
                return $l = function() {
                    return e
                }, e
            }
            var _l = function(e) {
                var t, n = e.textList,
                    a = e.settings,
                    o = (null === n || void 0 === n ? void 0 : n.length) > 0 && (null === (t = n.join("").trim()) || void 0 === t ? void 0 : t.length) > 0;
                return r.a.createElement(B.a, null, !!o && (null === n || void 0 === n ? void 0 : n.map((function(e, t) {
                    return r.a.createElement(Dr, {
                        key: t,
                        settings: a,
                        selectable: !0,
                        animateTyping: !1,
                        text: e
                    })
                }))))
            };
            _l.fragments = {
                gameSettings: k()($l(), Dr.fragments.gameSettings)
            };
            var Xl = _l,
                Jl = function e(t) {
                    d.a.timing(t, {
                        toValue: 1,
                        duration: 450,
                        useNativeDriver: !0
                    }).start((function() {
                        d.a.timing(t, {
                            toValue: 0,
                            delay: 300,
                            duration: 450,
                            useNativeDriver: !0
                        }).start((function() {
                            return e(t)
                        }))
                    }))
                },
                Kl = function() {
                    var e = se(Se()),
                        t = e.userMode;
                    return Object(g.a)(Object(g.a)({}, e), {}, {
                        loading: {
                            flexGrow: 1,
                            alignSelf: "center"
                        },
                        loadingRow: {
                            flexDirection: "row"
                        },
                        loadingBlock: {
                            backgroundColor: t.text
                        }
                    })
                },
                Zl = function(e) {
                    var t = e.size,
                        n = void 0 === t ? 30 : t,
                        o = e.style,
                        i = n / 2,
                        l = [Object(a.useRef)(new d.a.Value(0)).current, Object(a.useRef)(new d.a.Value(0)).current, Object(a.useRef)(new d.a.Value(0)).current, Object(a.useRef)(new d.a.Value(0)).current],
                        c = Kl();
                    return Object(a.useEffect)((function() {
                        l && (Jl(l[0]), setTimeout((function() {
                            return Jl(l[1])
                        }), 300), setTimeout((function() {
                            return Jl(l[2])
                        }), 600), setTimeout((function() {
                            return Jl(l[3])
                        }), 900))
                    }), [l]), r.a.createElement(B.a, {
                        style: null !== o && void 0 !== o ? o : c.loading
                    }, l && r.a.createElement(r.a.Fragment, null, r.a.createElement(B.a, {
                        style: [c.loadingRow, {
                            marginBottom: i
                        }]
                    }, r.a.createElement(d.a.View, {
                        style: [c.loadingBlock, {
                            width: n,
                            height: n,
                            marginRight: i,
                            opacity: l[0]
                        }]
                    }), r.a.createElement(d.a.View, {
                        style: [c.loadingBlock, {
                            width: n,
                            height: n,
                            opacity: l[1]
                        }]
                    })), r.a.createElement(B.a, {
                        style: c.loadingRow
                    }, r.a.createElement(d.a.View, {
                        style: [c.loadingBlock, {
                            width: n,
                            height: n,
                            marginRight: i,
                            opacity: l[3]
                        }]
                    }), r.a.createElement(d.a.View, {
                        style: [c.loadingBlock, {
                            width: n,
                            height: n,
                            opacity: l[2]
                        }]
                    }))))
                },
                ec = n(125),
                tc = n.n(ec);

            function nc() {
                var e = Object(x.a)(["\n    fragment CommentButtonFragment on Commentable {\n      id\n      publicId\n      totalComments\n    }\n  "]);
                return nc = function() {
                    return e
                }, e
            }
            var ac = function(e) {
                var t, n = e.content,
                    a = Object(C.useNavigation)(),
                    o = rc(),
                    i = o.textStyles,
                    l = o.userMode,
                    c = null === n || void 0 === n ? void 0 : n.publicId,
                    u = null === n || void 0 === n || null === (t = n.__typename) || void 0 === t ? void 0 : t.toLowerCase(),
                    s = function() {
                        a.navigate("comments", {
                            publicId: c,
                            contentType: u
                        })
                    },
                    d = null === n || void 0 === n ? void 0 : n.totalComments;
                return r.a.createElement(L.a, {
                    style: [o.container, {
                        borderLeftWidth: 1,
                        borderLeftColor: l.text,
                        marginLeft: 10
                    }],
                    onPress: s
                }, r.a.createElement(_r, {
                    iconName: "comment",
                    size: 20,
                    style: {
                        marginLeft: 12,
                        marginRight: 8,
                        marginVertical: 0
                    },
                    onPress: s
                }), r.a.createElement(P.a, {
                    style: i.body
                }, "".concat(null !== d && void 0 !== d ? d : 0)))
            };
            ac.fragments = {
                commentable: k()(nc())
            };
            var rc = function() {
                    var e = se(Se());
                    return Object(g.a)(Object(g.a)({}, e), {}, {
                        container: {
                            display: "flex",
                            flexDirection: "row",
                            alignItems: "center"
                        }
                    })
                },
                oc = ac,
                ic = function() {
                    var e = se(Se());
                    return Object(g.a)(Object(g.a)({}, e), {}, {
                        container: {
                            display: "flex",
                            flexDirection: "row",
                            alignItems: "center"
                        }
                    })
                },
                lc = function(e) {
                    var t = e.content,
                        n = ic(),
                        a = n.userMode,
                        o = Ya().openOverlay,
                        i = Ja().user,
                        l = se(Se()).textStyles;
                    return r.a.createElement(L.a, {
                        onPress: function() {
                            if (!i || !(null === i || void 0 === i ? void 0 : i.username)) return o("login");
                            o("contentCardOptions", {
                                content: t
                            })
                        },
                        style: [n.container, {
                            borderLeftWidth: 1,
                            borderLeftColor: a.text,
                            marginLeft: 10
                        }]
                    }, r.a.createElement(_r, {
                        iconName: "flag",
                        size: 20,
                        style: {
                            marginLeft: 12,
                            marginRight: 8,
                            marginVertical: 0
                        }
                    }), r.a.createElement(P.a, {
                        style: l.body
                    }, "Report"))
                };

            function cc() {
                var e = Object(x.a)(["\nmutation ($input: ContentResponseInput) {\n  voteContent(input: $input) {\n    id\n    userVote\n    totalUpvotes\n  }\n}\n"]);
                return cc = function() {
                    return e
                }, e
            }

            function uc() {
                var e = Object(x.a)(["\n    fragment VoteButtonFragment on Votable {\n      id\n      userVote\n      totalUpvotes\n    }\n  "]);
                return uc = function() {
                    return e
                }, e
            }
            var sc = function(e) {
                var t, n = e.content,
                    a = e.refetch,
                    o = Object(u.useMutation)(dc, {
                        onCompleted: a
                    }),
                    i = Object(p.a)(o, 2),
                    l = i[0],
                    c = i[1].loading,
                    s = Ja().user,
                    d = null === n || void 0 === n || null === (t = n.__typename) || void 0 === t ? void 0 : t.toLowerCase(),
                    m = null === n || void 0 === n ? void 0 : n.id,
                    f = null === n || void 0 === n ? void 0 : n.userVote,
                    b = null === n || void 0 === n ? void 0 : n.totalUpvotes,
                    y = Ya().openOverlay,
                    v = mc(),
                    h = v.textStyles,
                    E = v.userTheme,
                    x = function(e) {
                        var t = e.userVote,
                            n = e.newVote;
                        return "upvote" === t && "upvote" !== n ? b - 1 : "upvote" !== t && "upvote" === n ? b + 1 : b
                    },
                    w = function() {
                        var e = Object(O.a)(S.a.mark((function e(t) {
                            var a, r, o;
                            return S.a.wrap((function(e) {
                                for (;;) switch (e.prev = e.next) {
                                    case 0:
                                        if (null === s || void 0 === s ? void 0 : s.username) {
                                            e.next = 2;
                                            break
                                        }
                                        return e.abrupt("return", y("login"));
                                    case 2:
                                        if (f !== t && !c) {
                                            e.next = 4;
                                            break
                                        }
                                        return e.abrupt("return");
                                    case 4:
                                        a = {
                                            input: {
                                                contentType: d,
                                                contentId: m,
                                                responseType: "vote",
                                                responseValue: t
                                            }
                                        }, r = x({
                                            userVote: f,
                                            newVote: t
                                        }), o = {
                                            __typename: "Mutation",
                                            voteContent: Object(g.a)(Object(g.a)({}, n), {}, {
                                                userVote: t,
                                                totalUpvotes: r
                                            })
                                        }, l({
                                            variables: a,
                                            optimisticResponse: o
                                        });
                                    case 8:
                                    case "end":
                                        return e.stop()
                                }
                            }), e)
                        })));
                        return function(t) {
                            return e.apply(this, arguments)
                        }
                    }();
                return r.a.createElement(B.a, {
                    style: v.container
                }, r.a.createElement(_r, {
                    iconName: "arrow-up-bold",
                    size: 25,
                    color: "upvote" === f ? E.primary : null,
                    onPress: "upvote" === f ? function() {
                        return w("novote")
                    } : function() {
                        return w("upvote")
                    },
                    style: {
                        marginHorizontal: 2,
                        marginVertical: 0
                    }
                }), r.a.createElement(P.a, {
                    style: h.body
                }, null !== b && void 0 !== b ? b : 0))
            };
            sc.fragments = {
                votable: k()(uc())
            };
            var dc = k()(cc()),
                mc = function() {
                    var e = se(Se());
                    return Object(g.a)(Object(g.a)({}, e), {}, {
                        container: {
                            display: "flex",
                            flexDirection: "row",
                            alignItems: "center"
                        }
                    })
                },
                fc = sc;

            function bc() {
                var e = Object(x.a)(["\n    fragment ContentHeadingFragment on Searchable {\n      id\n      title\n      description\n      tags\n      published\n      publicId\n      actionCount\n      \n      createdAt\n      updatedAt\n      deletedAt\n\n      user {\n        id\n        username\n        hasPremium\n        avatar\n        isDeveloper  \n      }\n      ...VoteButtonFragment\n      ...CommentButtonFragment\n    }\n    ", "\n    ", "\n  "]);
                return bc = function() {
                    return e
                }, e
            }
            var yc = function(e) {
                var t, n, a, o, i, l = e.content,
                    c = Object(C.useNavigation)(),
                    u = Ja().user,
                    s = null === l || void 0 === l ? void 0 : l.user,
                    d = vc(),
                    m = d.containerStyles,
                    f = (null === s || void 0 === s ? void 0 : s.avatar) && "none" !== (null === s || void 0 === s ? void 0 : s.avatar),
                    b = f ? null : null === s || void 0 === s || null === (t = s.username) || void 0 === t || null === (n = t.charAt(0)) || void 0 === n ? void 0 : n.toUpperCase(),
                    y = f ? {
                        uri: z + (null === s || void 0 === s ? void 0 : s.avatar)
                    } : null,
                    v = null === s || void 0 === s ? void 0 : s.isDeveloper,
                    g = null === s || void 0 === s ? void 0 : s.hasPremium,
                    p = (null === s || void 0 === s ? void 0 : s.username) === (null === u || void 0 === u ? void 0 : u.username);
                return l ? r.a.createElement(B.a, null, !!s && r.a.createElement(L.a, {
                    onPress: function() {
                        return c.navigate("profile", {
                            username: null === s || void 0 === s ? void 0 : s.username
                        })
                    },
                    style: d.userContainer,
                    accessibilityLabel: "Profile",
                    accessibilityRole: "button"
                }, !!y && r.a.createElement(F.a, {
                    rounded: !0,
                    size: "small",
                    source: y,
                    containerStyle: {
                        backgroundColor: d.userTheme.primary
                    },
                    titleStyle: {
                        color: d.userTheme.text
                    }
                }), !y && !!b && r.a.createElement(F.a, {
                    rounded: !0,
                    size: "small",
                    title: b,
                    containerStyle: {
                        backgroundColor: d.userTheme.primary
                    },
                    titleStyle: {
                        color: d.userTheme.text
                    }
                }), r.a.createElement(P.a, {
                    style: d.usernameText
                }, null === s || void 0 === s ? void 0 : s.username), g && !v && r.a.createElement(qe, {
                    name: "medal",
                    size: 20,
                    color: d.userTheme.primary,
                    style: {
                        marginLeft: 5
                    }
                }), v && r.a.createElement(qe, {
                    name: "crown",
                    size: 20,
                    color: d.userTheme.primary,
                    style: {
                        marginLeft: 5
                    }
                })), r.a.createElement(P.a, {
                    style: d.titleText
                }, null !== (a = l.title) && void 0 !== a ? a : "Untitled"), !(!l.description && !l.summary) && r.a.createElement(P.a, {
                    style: d.summaryText
                }, null !== (o = l.description) && void 0 !== o ? o : l.summary), (null === (i = l.tags) || void 0 === i ? void 0 : i.length) > 0 && r.a.createElement(Pi, {
                    tags: l.tags,
                    style: "header",
                    isEdit: !1
                }), !!l.published && !p && r.a.createElement(P.a, {
                    style: d.publishedText
                }, l.published ? "Published" : "Not Published"), !!l.createdAt && r.a.createElement(P.a, {
                    style: d.subText
                }, "Created: ", tc()(l.createdAt).format("MMMM Do [at] h:mmA")), !!l.updatedAt && r.a.createElement(P.a, {
                    style: d.subText
                }, "Updated: ", tc()(l.updatedAt).format("MMMM Do [at] h:mmA")), !!l.deletedAt && r.a.createElement(P.a, {
                    style: d.subText
                }, "Deleted: ", tc()(l.deletedAt).format("MMMM Do [at] h:mmA")), !!l.actionCount && r.a.createElement(P.a, {
                    style: d.subText
                }, "Actions: ", l.actionCount), r.a.createElement(B.a, {
                    style: [d.divider, {
                        marginTop: 20
                    }]
                }), r.a.createElement(B.a, {
                    style: m.row
                }, r.a.createElement(fc, {
                    content: l
                }), r.a.createElement(oc, {
                    content: l
                }), r.a.createElement(lc, {
                    content: l
                })), r.a.createElement(B.a, {
                    style: [d.divider, {
                        marginBottom: 20
                    }]
                })) : null
            };
            yc.fragments = {
                searchable: k()(bc(), fc.fragments.votable, oc.fragments.commentable)
            };
            var vc = function() {
                    var e = se(Se()),
                        t = e.userMode,
                        n = e.fontSizes,
                        a = e.fonts;
                    return Object(g.a)(Object(g.a)({}, e), {}, {
                        userContainer: {
                            flexDirection: "row",
                            alignItems: "center",
                            marginBottom: 20
                        },
                        usernameText: {
                            fontFamily: a.header,
                            fontSize: n.small,
                            color: t.text,
                            marginLeft: 10
                        },
                        titleText: {
                            color: t.text,
                            fontFamily: a.header,
                            fontSize: n.medium,
                            marginBottom: 20
                        },
                        publishedText: {
                            color: t.text,
                            fontFamily: a.body,
                            fontSize: n.small,
                            marginBottom: 5
                        },
                        summaryText: {
                            color: t.text,
                            fontSize: n.small,
                            fontFamily: a.body,
                            marginBottom: 20
                        },
                        subText: {
                            color: t.secondaryText,
                            fontFamily: a.body,
                            fontSize: n.xSmall
                        },
                        divider: {
                            width: "100%",
                            borderColor: t.text,
                            borderBottomWidth: .5,
                            backgroundColor: t.background
                        }
                    })
                },
                gc = yc;

            function pc() {
                var e = Object(x.a)(["\n  query ($publicId: String) {\n    user {\n      id\n      gameSettings {\n        accessibilityMode\n        ...StoryTextListFragment\n      }\n    }\n    adventure(publicId: $publicId) {\n      id\n      userId\n      publicId\n      actions {\n        id\n        text\n      }\n      ...ContentHeadingFragment\n    }\n  }\n  ", "\n  ", "\n"]);
                return pc = function() {
                    return e
                }, e
            }
            var hc = k()(pc(), gc.fragments.searchable, Xl.fragments.gameSettings),
                Ec = function() {
                    var e = se(Se()),
                        t = e.userMode;
                    return Object(g.a)(Object(g.a)({}, e), {}, {
                        loadingIndicator: {
                            marginTop: 50,
                            alignSelf: "center"
                        },
                        divider: {
                            width: "100%",
                            borderColor: t.border,
                            borderBottomWidth: 1,
                            backgroundColor: t.background
                        }
                    })
                },
                xc = function(e) {
                    var t, n, o, i, l = e.route,
                        c = Object(C.useNavigation)(),
                        s = (null === l || void 0 === l || null === (t = l.params) || void 0 === t ? void 0 : t.publicId) || (null === l || void 0 === l || null === (n = l.params) || void 0 === n ? void 0 : n.playPublicId),
                        d = null === l || void 0 === l || null === (o = l.params) || void 0 === o ? void 0 : o.scroll,
                        m = Ya().openOverlay,
                        f = Ec(),
                        b = f.containerStyles,
                        y = Object(u.useQuery)(hc, {
                            variables: {
                                publicId: s
                            }
                        }).data,
                        v = null === y || void 0 === y ? void 0 : y.user,
                        g = null === y || void 0 === y || null === (i = y.user) || void 0 === i ? void 0 : i.gameSettings,
                        h = null === g || void 0 === g ? void 0 : g.accessibilityMode,
                        E = null === y || void 0 === y ? void 0 : y.adventure,
                        x = !!v && !!E && (null === v || void 0 === v ? void 0 : v.id) === (null === E || void 0 === E ? void 0 : E.userId),
                        w = Object(a.useState)(null),
                        j = Object(p.a)(w, 2),
                        T = j[0],
                        k = j[1],
                        I = Object(a.useState)(!0),
                        P = Object(p.a)(I, 2),
                        L = P[0],
                        F = P[1],
                        z = Object(a.useState)(null),
                        M = Object(p.a)(z, 2),
                        R = M[0],
                        D = M[1],
                        N = Object(a.useState)((function() {})),
                        V = Object(p.a)(N, 2),
                        W = V[0],
                        H = V[1],
                        U = Object(a.useState)(null),
                        q = Object(p.a)(U, 2),
                        G = q[0],
                        Y = q[1],
                        Q = function() {
                            return null === G || void 0 === G ? void 0 : G.scrollToEnd({
                                animated: !0
                            })
                        },
                        $ = function() {
                            var e = Object(O.a)(S.a.mark((function e(t) {
                                var n;
                                return S.a.wrap((function(e) {
                                    for (;;) switch (e.prev = e.next) {
                                        case 0:
                                            if (t) {
                                                e.next = 2;
                                                break
                                            }
                                            return e.abrupt("return");
                                        case 2:
                                            return e.next = 4, wl({
                                                route: "adventureView",
                                                routeParam: {
                                                    playPublicId: t
                                                }
                                            });
                                        case 4:
                                            n = e.sent, D(n);
                                        case 6:
                                        case "end":
                                            return e.stop()
                                    }
                                }), e)
                            })));
                            return function(t) {
                                return e.apply(this, arguments)
                            }
                        }();
                    Object(a.useEffect)((function() {
                        d && Q && Q()
                    }), [d, Q]), Object(a.useEffect)((function() {
                        if (R) {
                            H((function() {
                                return function() {
                                    Ne({
                                        eventName: "share_clicked"
                                    }), m("share", {
                                        message: "Checkout this AI generated content I had!",
                                        url: R
                                    })
                                }
                            }))
                        }
                    }), [R]), Object(a.useEffect)((function() {
                        return c.addListener("blur", Object(O.a)(S.a.mark((function e() {
                            return S.a.wrap((function(e) {
                                for (;;) switch (e.prev = e.next) {
                                    case 0:
                                        "web" === A.a.OS && window.history.pushState({}, "", "/");
                                    case 1:
                                    case "end":
                                        return e.stop()
                                }
                            }), e)
                        }))))
                    }), [c]), Object(a.useEffect)((function() {
                        var e = Yl(null === E || void 0 === E ? void 0 : E.actions);
                        k(e), F(!1);
                        var t = null === E || void 0 === E ? void 0 : E.publicId;
                        t && $(t)
                    }), [E]);
                    var _ = function() {
                            return c.navigate("adventurePlay", {
                                publicId: s
                            })
                        },
                        X = function() {
                            return c.navigate("adventureEdit", {
                                publicId: s
                            })
                        },
                        J = function() {
                            return c.canGoBack() ? c.goBack() : c.navigate("myStuff")
                        };
                    return Object(a.useLayoutEffect)((function() {
                        c.setOptions({
                            headerRight: function() {
                                return r.a.createElement(B.a, {
                                    style: {
                                        flexDirection: "row"
                                    }
                                }, x && r.a.createElement(_r, {
                                    iconName: "edit",
                                    type: "awesome",
                                    onPress: X,
                                    accessibilityLabel: "Edit"
                                }), x && r.a.createElement(Bl, {
                                    content: E,
                                    onDelete: J
                                }), x && r.a.createElement(_r, {
                                    iconName: "play",
                                    type: "awesome",
                                    onPress: _,
                                    accessibilityLabel: "Play"
                                }), r.a.createElement(_r, {
                                    iconName: "share-variant",
                                    style: {
                                        marginRight: 15
                                    },
                                    onPress: W
                                }))
                            }
                        })
                    }), [E, c, W]), E ? r.a.createElement(B.a, {
                        style: [{
                            backgroundColor: f.userMode.background
                        }, b.basic]
                    }, r.a.createElement($t.a, {
                        extraScrollHeight: 100,
                        nestedScrollEnabled: !0,
                        contentContainerStyle: b.screen,
                        ref: Y
                    }, !!L && r.a.createElement(Zl, {
                        style: f.loadingIndicator
                    }), !L && r.a.createElement(B.a, {
                        style: b.content
                    }, r.a.createElement(gc, {
                        content: E
                    }), !!h && r.a.createElement(Xl, {
                        textList: T,
                        settings: g
                    }), !h && r.a.createElement(Dr, {
                        text: T.join(""),
                        animateTyping: !1,
                        settings: g
                    })))) : r.a.createElement(bt.a, {
                        style: {
                            marginTop: 80,
                            justifyContent: "center"
                        },
                        color: "white",
                        size: 120
                    })
                },
                wc = function() {
                    var e = se(Se()),
                        t = e.userMode,
                        n = e.fontSizes,
                        a = e.fonts;
                    return Object(g.a)(Object(g.a)({}, e), {}, {
                        container: {
                            flexGrow: 1,
                            flexDirection: "row",
                            marginVertical: 20,
                            justifyContent: "space-between",
                            width: "100%"
                        },
                        switch: {
                            marginHorizontal: 5,
                            marginVertical: 10
                        },
                        icon: {
                            width: 50,
                            marginRight: 10,
                            justifyContent: "flex-end",
                            alignSelf: "flex-end"
                        },
                        title: {},
                        label: {
                            marginLeft: 5,
                            marginRight: 15,
                            fontFamily: a.body,
                            fontSize: n.medium,
                            color: t.text,
                            alignSelf: "center"
                        },
                        autoGenerated: {
                            marginTop: -16,
                            fontFamily: a.body,
                            fontSize: n.small,
                            color: t.secondaryText
                        },
                        entry: {
                            marginBottom: 0,
                            width: "80%",
                            marginVertical: 5,
                            alignSelf: "flex-start"
                        },
                        keys: {
                            marginBottom: 0,
                            width: "65%",
                            marginVertical: 5,
                            alignSelf: "flex-start"
                        },
                        labelText: {
                            fontFamily: a.body,
                            fontSize: n.small,
                            color: t.text
                        }
                    })
                },
                Sc = function(e) {
                    var t = e.item,
                        n = e.onDelete,
                        a = e.onChange,
                        o = e.inAdventureMode,
                        i = wc(),
                        l = Se(),
                        c = l.mode,
                        u = l.theme;
                    return r.a.createElement(B.a, {
                        style: i.container
                    }, r.a.createElement(B.a, {
                        style: {
                            flexDirection: "column",
                            width: "100%"
                        }
                    }, r.a.createElement(B.a, {
                        style: {
                            flexDirection: "row",
                            width: "100%",
                            justifyContent: "space-between"
                        }
                    }, r.a.createElement(B.a, {
                        style: {
                            flexDirection: "row"
                        }
                    }, r.a.createElement(P.a, {
                        style: i.label
                    }, "Keys: "), r.a.createElement(ht, {
                        placeholder: "king, kingdom, Larion",
                        value: t.keys,
                        onChangeText: function(e) {
                            t.keys = e, a(t)
                        },
                        containerStyle: i.keys,
                        maxLength: 100,
                        hideMaxLengthIndicator: !0
                    })), r.a.createElement(_r, {
                        style: i.icon,
                        size: 30,
                        iconName: "close",
                        onPress: n
                    })), r.a.createElement(B.a, {
                        style: {
                            flexDirection: "row",
                            width: "100%"
                        }
                    }, r.a.createElement(P.a, {
                        style: i.label
                    }, "Entry:"), r.a.createElement(B.a, {
                        style: i.entry
                    }, r.a.createElement(ht, {
                        placeholder: "The King of Larion is a stern man who is feared by people across the kingdom.",
                        value: t.entry,
                        onChangeText: function(e) {
                            t.entry = e, a(t)
                        },
                        textInputStyle: {
                            minHeight: 100
                        },
                        multiline: !0,
                        maxLength: 500,
                        hideMaxLengthIndicator: !0
                    }), !!t.autoGenerated && r.a.createElement(P.a, {
                        style: i.autoGenerated
                    }, "This entry was generated by the AI."))), !o && !t.autoGenerated && r.a.createElement(B.a, {
                        style: i.switch
                    }, r.a.createElement(si.a, {
                        label: "Show World Info",
                        info: "If turned on, it will be shown during gameplay. If turned off, it will be hidden.",
                        onChange: function() {
                            t.isNotHidden = !t.isNotHidden, a(t)
                        },
                        value: null === t || void 0 === t ? void 0 : t.isNotHidden,
                        mode: c,
                        theme: u
                    }))))
                };

            function Oc() {
                var e = Object(x.a)(["\nmutation ($publicId: String, $worldEntries: JSONObject) {\n  updateAdventureWorldInfo(publicId: $publicId, worldEntries: $worldEntries) {\n    id\n    publicId\n    worldEntries\n  }\n}\n"]);
                return Oc = function() {
                    return e
                }, e
            }

            function jc() {
                var e = Object(x.a)(["\nquery ($publicId: String) {\n  adventure(publicId: $publicId) {\n    id\n    publicId\n    worldEntries\n  }\n}\n"]);
                return jc = function() {
                    return e
                }, e
            }
            var Cc = function(e) {
                    var t = e.filter((function(e) {
                            return e.entry && e.keys && !0 === e.isNotHidden && !e.isDeleted
                        })),
                        n = "data:text/json;charset=utf-8," + encodeURIComponent(JSON.stringify(t, null, 2)),
                        a = document.createElement("a");
                    a.setAttribute("href", n), a.setAttribute("download", "worldEntries.json"), document.body.appendChild(a), a.click(), a.remove()
                },
                Tc = function(e, t) {
                    var n = document.createElement("input");
                    n.setAttribute("style", "position: absolute; left: -1000px;"), n.setAttribute("type", "file"), n.setAttribute("accept", "application/json"), n.addEventListener("blur", (function(e) {
                        return n.remove()
                    })), n.addEventListener("change", (function(a) {
                        var r = new FileReader;
                        r.onload = function(a) {
                            var r = Object(mr.a)(e);
                            try {
                                JSON.parse(a.target.result).slice(0, 1e3).forEach((function(e) {
                                    if ("object" === typeof e && e.keys && e.entry) {
                                        var t = {
                                            id: e.id || Math.random().toString(),
                                            isNotHidden: !0,
                                            keys: e.keys.slice(0, 1e3),
                                            entry: e.entry.slice(0, 1e3)
                                        };
                                        e.autoGenerated && (t.autoGenerated = !0), e.count && (t.count = e.count), e.lastSeen && (t.lastSeen = e.lastSeen), e.metadata && (t.metadata = e.metadata);
                                        var n = r.findIndex((function(e) {
                                            return e.id === t.id
                                        }));
                                        n > -1 && r.splice(n, 1), r.push(t)
                                    }
                                }))
                            } catch (o) {
                                alert("Unable to parse uploaded file")
                            }
                            n.remove(), t(r)
                        }, r.readAsText(a.target.files[0])
                    })), document.body.appendChild(n), n.focus(), n.click()
                },
                kc = k()(jc()),
                Ac = k()(Oc()),
                Ic = function() {
                    var e = se(Se()),
                        t = e.userMode,
                        n = e.fontSizes,
                        a = e.fonts;
                    return Object(g.a)(Object(g.a)({}, e), {}, {
                        container: {
                            flexGrow: 1,
                            maxWidth: 800,
                            marginHorizontal: "auto",
                            paddingTop: 30,
                            paddingHorizontal: 20,
                            backgroundColor: t.background
                        },
                        row: {
                            flexGrow: 1,
                            flexDirection: "row",
                            marginVertical: 5,
                            marginBottom: 60,
                            justifyContent: "flex-end",
                            width: "100%"
                        },
                        text: {
                            fontFamily: a.body,
                            fontSize: n.small,
                            color: t.text
                        },
                        title: {
                            fontFamily: a.body,
                            fontSize: n.large,
                            color: t.text
                        },
                        keysLabel: {
                            width: "20%",
                            marginLeft: 5,
                            fontFamily: a.body,
                            fontSize: n.medium,
                            color: t.text
                        },
                        entriesLabel: {
                            width: "65%",
                            marginLeft: 25,
                            fontFamily: a.body,
                            fontSize: n.medium,
                            color: t.text
                        }
                    })
                },
                Pc = function(e) {
                    var t = e.route,
                        n = Object(C.useNavigation)(),
                        o = t.params.publicId,
                        i = Object(u.useQuery)(kc, {
                            variables: {
                                publicId: o
                            }
                        }).data,
                        l = Object(u.useMutation)(Ac),
                        c = Object(p.a)(l, 1)[0],
                        s = Object(a.useState)([{}]),
                        d = Object(p.a)(s, 2),
                        m = d[0],
                        f = d[1],
                        b = Ic(),
                        y = Object(a.useState)(null),
                        v = Object(p.a)(y, 2),
                        g = v[0],
                        h = v[1],
                        E = function() {
                            var e = Object(O.a)(S.a.mark((function e() {
                                return S.a.wrap((function(e) {
                                    for (;;) switch (e.prev = e.next) {
                                        case 0:
                                            m.push({
                                                id: Math.random().toString(),
                                                keys: "",
                                                entry: "",
                                                isNotHidden: !0
                                            }), f(Object(mr.a)(m)), null === g || void 0 === g || g.scrollToEnd({
                                                animated: !0
                                            });
                                        case 3:
                                        case "end":
                                            return e.stop()
                                    }
                                }), e)
                            })));
                            return function() {
                                return e.apply(this, arguments)
                            }
                        }(),
                        x = null === i || void 0 === i ? void 0 : i.adventure,
                        w = function() {
                            return Tc(m, f)
                        },
                        j = function() {
                            return Cc(m)
                        },
                        T = function() {
                            return c({
                                variables: {
                                    publicId: o,
                                    worldEntries: m
                                }
                            })
                        };
                    return Object(a.useEffect)((function() {
                        (null === x || void 0 === x ? void 0 : x.worldEntries) && f(x.worldEntries)
                    }), [x]), Object(a.useLayoutEffect)((function() {
                        n.setOptions({
                            headerLeft: function() {
                                return r.a.createElement(Xr, {
                                    onPress: T
                                })
                            },
                            headerRight: function() {
                                return r.a.createElement(B.a, {
                                    style: {
                                        flexDirection: "row"
                                    }
                                }, "web" === A.a.OS && r.a.createElement(_r, {
                                    iconName: "upload",
                                    type: "awesome",
                                    onPress: w,
                                    style: {
                                        padding: 6
                                    },
                                    accessibilityLabel: "Upload"
                                }), "web" === A.a.OS && r.a.createElement(_r, {
                                    iconName: "download",
                                    type: "awesome",
                                    onPress: j,
                                    style: {
                                        padding: 8
                                    },
                                    accessibilityLabel: "Download"
                                }), r.a.createElement(_r, {
                                    iconName: "floppy",
                                    onPress: T,
                                    style: {
                                        marginRight: 15
                                    },
                                    accessibilityLabel: "Save"
                                }))
                            }
                        })
                    }), [n, m]), x ? r.a.createElement(xl.a, {
                        extraScrollHeight: 200,
                        contentContainerStyle: b.containerStyles.screen,
                        innerRef: h,
                        style: b.container
                    }, r.a.createElement(B.a, {
                        style: {
                            marginBottom: 32
                        }
                    }, r.a.createElement(P.a, {
                        style: b.title
                    }, "World Info"), r.a.createElement(P.a, {
                        style: b.text
                    }, "Here you can add world info entries (comma separated keys and an entry) to shape what the AI knows about the world and hidden info the player doesn't see.\n\nAn entry is included in what's fed into the AI if one of the keys is detected (case doesn't matter) in the last output or input.")), m && m.map((function(e, t) {
                        return !0 === e.isNotHidden && !e.isDeleted && r.a.createElement(Sc, {
                            key: t,
                            onDelete: function() {
                                m[t].isDeleted = !0, f(Object(mr.a)(m))
                            },
                            item: e,
                            onChange: function(e) {
                                m[t] = e, f(Object(mr.a)(m))
                            },
                            inAdventureMode: !0
                        })
                    })).filter((function(e) {
                        return e
                    })), r.a.createElement(B.a, {
                        style: b.row
                    }, r.a.createElement(vt, {
                        accessibilityLabel: "Add World Info",
                        onPress: E,
                        style: b.button
                    }, "Add world info"))) : null
                };

            function Lc() {
                var e = Object(x.a)(["\n    fragment CommentCardFragment on Comment {\n      id\n      commentText\n      createdAt\n      deletedAt\n      contentId\n      user {\n        id\n        username\n        avatar\n        hasPremium\n        isDeveloper\n        isCurrentUser\n      }\n      ...VoteButtonFragment\n    }\n    ", "\n  "]);
                return Lc = function() {
                    return e
                }, e
            }
            var Bc = function(e) {
                var t, n, a, o, i, l, c, u, s, d = e.comment,
                    m = e.refetch,
                    f = e.content,
                    b = Object(C.useNavigation)(),
                    y = Fc(),
                    v = y.containerStyles,
                    g = null === d || void 0 === d ? void 0 : d.id,
                    p = Ja().user,
                    h = Ya().openOverlay,
                    E = (null === p || void 0 === p ? void 0 : p.id) === (null === d || void 0 === d || null === (t = d.user) || void 0 === t ? void 0 : t.id),
                    x = (null === p || void 0 === p ? void 0 : p.id) === (null === f || void 0 === f ? void 0 : f.userId);
                return r.a.createElement(B.a, {
                    style: y.comment
                }, r.a.createElement(B.a, {
                    style: y.header
                }, r.a.createElement(L.a, {
                    onPress: function() {
                        return e = d.user.username, b.navigate("profile", {
                            username: e
                        });
                        var e
                    },
                    style: y.userContainer,
                    accessibilityLabel: "Profile",
                    accessibilityRole: "button"
                }, (null === d || void 0 === d || null === (n = d.user) || void 0 === n ? void 0 : n.avatar) && "none" !== d.user.avatar && r.a.createElement(F.a, {
                    rounded: !0,
                    size: "small",
                    source: {
                        uri: z + d.user.avatar
                    },
                    containerStyle: {
                        backgroundColor: y.userTheme.primary
                    }
                }), !((null === d || void 0 === d || null === (a = d.user) || void 0 === a ? void 0 : a.avatar) && "none" !== d.user.avatar) && r.a.createElement(F.a, {
                    rounded: !0,
                    size: "small",
                    title: null === (o = d.user) || void 0 === o || null === (i = o.username) || void 0 === i || null === (l = i.charAt(0)) || void 0 === l ? void 0 : l.toUpperCase(),
                    containerStyle: {
                        backgroundColor: y.userTheme.primary
                    },
                    titleStyle: {
                        color: y.userTheme.text
                    }
                }), r.a.createElement(P.a, {
                    style: y.commentUsernameText
                }, d.user.username), (null === (c = d.user) || void 0 === c ? void 0 : c.hasPremium) && !(null === (u = d.user) || void 0 === u ? void 0 : u.isDeveloper) && r.a.createElement(qe, {
                    name: "medal",
                    size: 20,
                    color: y.userTheme.primary,
                    style: {
                        marginLeft: 5
                    }
                }), (null === (s = d.user) || void 0 === s ? void 0 : s.isDeveloper) && r.a.createElement(qe, {
                    name: "crown",
                    size: 20,
                    color: y.userTheme.primary,
                    style: {
                        marginLeft: 5
                    }
                })), r.a.createElement(L.a, {
                    onPress: function() {
                        if (!p || !(null === p || void 0 === p ? void 0 : p.username)) return h("login");
                        h("commentCardOptions", {
                            id: g,
                            isCommentOwner: E,
                            isContentOwner: x,
                            refetch: m
                        })
                    },
                    accessibilityRole: "button"
                }, r.a.createElement(qe, {
                    style: y.headerIcon,
                    type: "awesome",
                    name: "ellipsis-h",
                    size: 20
                }))), r.a.createElement(P.a, {
                    style: y.commentContentText
                }, d.commentText), r.a.createElement(B.a, {
                    style: [v.row, {
                        marginTop: 5,
                        marginVertical: 0
                    }]
                }, r.a.createElement(fc, {
                    content: d,
                    refetch: m
                }), r.a.createElement(P.a, {
                    style: y.commentDateText
                }, tc()(d.createdAt).format("MMMM Do [at] h:mmA"))))
            };
            Bc.fragments = {
                comment: k()(Lc(), fc.fragments.votable)
            };
            var Fc = function() {
                    var e = se(Se()),
                        t = e.userMode,
                        n = e.fontSizes,
                        a = e.fonts;
                    return Object(g.a)(Object(g.a)({}, e), {}, {
                        comment: {
                            borderColor: t.secondaryBackground,
                            borderTopWidth: 2,
                            borderLeftWidth: 2,
                            borderRightWidth: 2,
                            padding: 20
                        },
                        userContainer: {
                            flexDirection: "row",
                            alignItems: "center",
                            marginBottom: 10
                        },
                        header: {
                            display: "flex",
                            flexDirection: "row",
                            justifyContent: "space-between"
                        },
                        commentUsernameText: {
                            fontFamily: a.body,
                            fontSize: n.small,
                            color: t.text,
                            marginLeft: 10
                        },
                        commentContentText: {
                            color: t.text,
                            fontSize: n.small,
                            fontFamily: a.body,
                            marginBottom: 5
                        },
                        commentDateText: {
                            color: t.secondaryText,
                            fontFamily: a.body,
                            fontSize: n.xSmall,
                            marginLeft: 20
                        }
                    })
                },
                zc = Bc;

            function Mc() {
                var e = Object(x.a)(["\n  mutation ($input: CommentInput) {\n    createComment(input: $input) {\n      id\n      totalComments \n      comments {\n        ...CommentCardFragment\n      }\n    }\n  }\n  ", "\n"]);
                return Mc = function() {
                    return e
                }, e
            }

            function Rc() {
                var e = Object(x.a)(["\n  query ($contentType: String, $publicId: String) {\n    \n    user {\n      id\n      username\n      verifiedAt\n    }\n    comments(contentType: $contentType, publicId: $publicId) {\n      id\n      totalComments\n      userId\n      comments {\n        ...CommentCardFragment\n      }\n    }\n  }\n  ", "\n"]);
                return Rc = function() {
                    return e
                }, e
            }
            var Dc = k()(Rc(), zc.fragments.comment),
                Nc = k()(Mc(), zc.fragments.comment),
                Vc = function() {
                    var e = se(Se()),
                        t = e.userMode,
                        n = e.fontSizes,
                        a = e.fonts;
                    return Object(g.a)(Object(g.a)({}, e), {}, {
                        userContainer: {
                            flexDirection: "row",
                            alignItems: "center",
                            marginBottom: 10
                        },
                        submitCommentContainer: {
                            width: "100%",
                            paddingBottom: 30,
                            backgroundColor: t.background
                        },
                        submitCommentTextField: {
                            marginBottom: 25,
                            marginTop: 5
                        },
                        commentsContainer: {
                            borderColor: t.secondaryBackground,
                            borderBottomWidth: 2
                        },
                        commentsHeadingText: {
                            fontFamily: a.body,
                            fontSize: n.medium,
                            color: t.text,
                            marginVertical: 25
                        },
                        comment: {
                            borderColor: t.secondaryBackground,
                            borderTopWidth: 2,
                            borderLeftWidth: 2,
                            borderRightWidth: 2,
                            padding: 20
                        },
                        commentUsernameText: {
                            fontFamily: a.body,
                            fontSize: n.small,
                            color: t.text,
                            marginLeft: 10
                        },
                        commentDateText: {
                            color: t.secondaryText,
                            fontFamily: a.body,
                            fontSize: n.xSmall,
                            marginLeft: 20
                        },
                        commentContentText: {
                            color: t.text,
                            fontSize: n.small,
                            fontFamily: a.body,
                            marginBottom: 5
                        }
                    })
                },
                Wc = function(e) {
                    var t, n, o = e.route,
                        i = Object(C.useNavigation)(),
                        l = o.params,
                        c = l.publicId,
                        s = l.contentType,
                        d = Object(a.useState)(""),
                        m = Object(p.a)(d, 2),
                        f = m[0],
                        b = m[1],
                        y = Object(u.useQuery)(Dc, {
                            variables: {
                                publicId: c,
                                contentType: s
                            }
                        }),
                        v = y.data,
                        g = y.refetch,
                        h = null === v || void 0 === v ? void 0 : v.user,
                        E = null === v || void 0 === v ? void 0 : v.comments,
                        x = null === E || void 0 === E ? void 0 : E.comments,
                        w = Object(u.useMutation)(Nc),
                        j = Object(p.a)(w, 1)[0],
                        T = null !== (t = null === E || void 0 === E ? void 0 : E.totalComments) && void 0 !== t ? t : 0,
                        k = Vc(),
                        A = k.containerStyles,
                        I = Ya().openOverlay,
                        L = function() {
                            var e = Object(O.a)(S.a.mark((function e() {
                                return S.a.wrap((function(e) {
                                    for (;;) switch (e.prev = e.next) {
                                        case 0:
                                            if (h && h.username) {
                                                e.next = 2;
                                                break
                                            }
                                            return e.abrupt("return", I("login"));
                                        case 2:
                                            if (!!(null === h || void 0 === h ? void 0 : h.verifiedAt)) {
                                                e.next = 5;
                                                break
                                            }
                                            return e.abrupt("return", i.navigate("verify"));
                                        case 5:
                                            if (f) {
                                                e.next = 7;
                                                break
                                            }
                                            return e.abrupt("return");
                                        case 7:
                                            j({
                                                variables: {
                                                    input: {
                                                        publicId: c,
                                                        contentType: s,
                                                        commentText: f
                                                    }
                                                },
                                                optimisticResponse: {
                                                    __typename: "Mutation",
                                                    createComment: {
                                                        id: null === E || void 0 === E ? void 0 : E.id,
                                                        __typename: "Commentable",
                                                        totalComments: T + 1,
                                                        comments: [{
                                                            __typename: "Comment",
                                                            id: null,
                                                            commentText: f,
                                                            createdAt: new Date,
                                                            user: h
                                                        }].concat(x)
                                                    }
                                                }
                                            }), b("");
                                        case 9:
                                        case "end":
                                            return e.stop()
                                    }
                                }), e)
                            })));
                            return function() {
                                return e.apply(this, arguments)
                            }
                        }();
                    return v ? r.a.createElement(B.a, {
                        style: [{
                            backgroundColor: k.userMode.background
                        }, A.basic]
                    }, r.a.createElement($t.a, {
                        contentContainerStyle: A.screen
                    }, r.a.createElement(B.a, {
                        style: A.content
                    }, r.a.createElement(B.a, {
                        style: k.submitCommentContainer
                    }, r.a.createElement(ht, {
                        multiline: !0,
                        placeholder: "Write a comment...",
                        onChangeText: b,
                        value: f,
                        textInputStyle: k.submitCommentTextField
                    }), r.a.createElement(vt, {
                        onPress: L
                    }, "Submit Comment")), r.a.createElement(B.a, {
                        style: k.commentsContainer
                    }, r.a.createElement(P.a, {
                        style: k.commentsHeadingText
                    }, "Comments (", null !== (n = null === x || void 0 === x ? void 0 : x.length) && void 0 !== n ? n : 0, ")"), null === x || void 0 === x ? void 0 : x.map((function(e, t) {
                        return r.a.createElement(zc, {
                            key: t,
                            comment: e,
                            content: E,
                            refetch: g
                        })
                    })))))) : null
                };

            function Hc() {
                var e = Object(x.a)(["\nmutation ($input: UserInput) {\n  updateUser(input: $input) {\n    id\n    avatar\n    username\n    bio\n  }\n}\n"]);
                return Hc = function() {
                    return e
                }, e
            }

            function Uc() {
                var e = Object(x.a)(["\nquery {\n  user {\n    id\n    bio\n    avatar\n    username\n    hasPremium\n    isDeveloper\n  }\n}\n"]);
                return Uc = function() {
                    return e
                }, e
            }
            var qc = k()(Uc()),
                Gc = k()(Hc()),
                Yc = function() {
                    var e = se(Se()),
                        t = e.userMode,
                        n = e.userTheme,
                        a = e.fonts,
                        r = e.fontSizes;
                    return Object(g.a)(Object(g.a)({}, e), {}, {
                        row: {
                            flexDirection: "row",
                            alignItems: "center",
                            marginVertical: 20
                        },
                        avatar: {
                            marginHorizontal: 10,
                            backgroundColor: n.primary
                        },
                        textField: {
                            marginBottom: 45
                        },
                        userInfo: {
                            flexDirection: "column",
                            marginHorizontal: 10
                        },
                        username: {
                            fontFamily: a.header,
                            fontSize: r.medium,
                            color: t.text
                        },
                        badge: {
                            flexDirection: "row",
                            alignItems: "center"
                        },
                        bio: {
                            minHeight: 100
                        },
                        button: {
                            marginTop: 25,
                            maxWidth: 400,
                            alignSelf: "center"
                        },
                        text: {
                            fontFamily: a.body,
                            fontSize: r.small,
                            color: t.text
                        }
                    })
                },
                Qc = function(e) {
                    e.route;
                    var t, n, o = Object(C.useNavigation)(),
                        i = Object(u.useQuery)(qc).data,
                        l = null === i || void 0 === i ? void 0 : i.user,
                        c = null === l || void 0 === l ? void 0 : l.username,
                        s = Object(u.useMutation)(Gc),
                        d = Object(p.a)(s, 1)[0],
                        m = Object(a.useState)(""),
                        f = Object(p.a)(m, 2),
                        b = f[0],
                        y = f[1],
                        v = Yc(),
                        h = v.userTheme,
                        E = v.containerStyles,
                        x = v.userMode,
                        w = v.textStyles,
                        j = function() {
                            return o.canGoBack() ? o.goBack() : o.navigate("profile", {
                                username: c
                            })
                        };
                    Object(a.useEffect)((function() {
                        y((null === l || void 0 === l ? void 0 : l.bio) || "")
                    }), [l]), Object(a.useLayoutEffect)((function() {
                        o.setOptions({
                            headerLeft: function() {
                                return r.a.createElement(P.a, {
                                    accessibilityRole: "button",
                                    accessibilityLabel: "Cancel",
                                    style: [{
                                        padding: 8,
                                        marginLeft: 20
                                    }, w.body, {
                                        color: x.secondaryText
                                    }],
                                    onPress: function() {
                                        Ne({
                                            eventName: "edit_profile_clicked",
                                            variation: "cancel_clicked"
                                        }), j()
                                    }
                                }, "Cancel")
                            },
                            headerRight: function() {
                                return r.a.createElement(P.a, {
                                    accessibilityLabel: "Save",
                                    accessibilityRole: "button",
                                    style: [{
                                        padding: 8,
                                        marginRight: 20
                                    }, w.body, {
                                        color: x.secondaryText
                                    }],
                                    onPress: Object(O.a)(S.a.mark((function e() {
                                        return S.a.wrap((function(e) {
                                            for (;;) switch (e.prev = e.next) {
                                                case 0:
                                                    return e.next = 2, I();
                                                case 2:
                                                    Ne({
                                                        eventName: "edit_profile_clicked",
                                                        variation: "save_clicked"
                                                    }), j();
                                                case 4:
                                                case "end":
                                                    return e.stop()
                                            }
                                        }), e)
                                    })))
                                }, "Save")
                            }
                        })
                    }), [b, o]);
                    var T = (null === l || void 0 === l ? void 0 : l.avatar) && "none" !== (null === l || void 0 === l ? void 0 : l.avatar),
                        k = null === l || void 0 === l ? void 0 : l.isDeveloper,
                        A = function() {
                            o.navigate("updateAvatar")
                        },
                        I = function() {
                            var e = Object(O.a)(S.a.mark((function e() {
                                var t;
                                return S.a.wrap((function(e) {
                                    for (;;) switch (e.prev = e.next) {
                                        case 0:
                                            t = {
                                                bio: b
                                            }, d({
                                                variables: {
                                                    input: Object(g.a)({}, t)
                                                }
                                            });
                                        case 2:
                                        case "end":
                                            return e.stop()
                                    }
                                }), e)
                            })));
                            return function() {
                                return e.apply(this, arguments)
                            }
                        }();
                    return r.a.createElement(xl.a, {
                        extraScrollHeight: N({
                            default: 150,
                            iPhone5: 100
                        }),
                        contentContainerStyle: E.screen
                    }, r.a.createElement(B.a, {
                        style: v.row
                    }, !!T && r.a.createElement(F.a, {
                        rounded: !0,
                        size: "large",
                        source: {
                            uri: z + (null === l || void 0 === l ? void 0 : l.avatar)
                        },
                        onPress: A,
                        containerStyle: v.avatar
                    }), !T && r.a.createElement(F.a, {
                        rounded: !0,
                        size: "large",
                        title: null === l || void 0 === l || null === (t = l.username) || void 0 === t || null === (n = t.charAt(0)) || void 0 === n ? void 0 : n.toUpperCase(),
                        onPress: A,
                        containerStyle: v.avatar,
                        titleStyle: {
                            color: h.text
                        }
                    }), r.a.createElement(B.a, {
                        style: v.userInfo
                    }, r.a.createElement(P.a, {
                        style: v.username
                    }, null === l || void 0 === l ? void 0 : l.username), !!(null === l || void 0 === l ? void 0 : l.hasPremium) && !k && r.a.createElement(B.a, {
                        style: v.badge
                    }, r.a.createElement(qe, {
                        name: "medal",
                        size: 20,
                        color: h.primary,
                        style: {
                            marginRight: 5
                        }
                    }), r.a.createElement(P.a, {
                        style: [v.text, {
                            color: h.primary
                        }]
                    }, "Supporter")), k && r.a.createElement(B.a, {
                        style: v.badge
                    }, r.a.createElement(qe, {
                        name: "crown",
                        size: 20,
                        color: h.primary,
                        style: {
                            marginRight: 5
                        }
                    }), r.a.createElement(P.a, {
                        style: [v.text, {
                            color: h.primary
                        }]
                    }, "Developer")))), r.a.createElement(B.a, {
                        style: E.content
                    }, r.a.createElement(ht, {
                        placeholder: "Add a Profile Bio.",
                        autoCapitalize: "sentences",
                        returnKeyType: "done",
                        value: b,
                        onChangeText: y,
                        containerStyle: v.textField,
                        textInputStyle: v.bio,
                        multiline: !0,
                        maxLength: 160
                    })), r.a.createElement(vt, {
                        onPress: function() {
                            o.navigate("changeUsername"), Ne({
                                eventName: "edit_profile_clicked",
                                variation: "change_username_clicked"
                            })
                        },
                        style: v.button
                    }, "Change Username"))
                };

            function $c() {
                var e = Object(x.a)(["\n    fragment SaveButtonFragment on Savable {\n      id\n      isSaved\n    }\n  "]);
                return $c = function() {
                    return e
                }, e
            }

            function _c() {
                var e = Object(x.a)(["\nmutation ($input: ContentResponseInput) {\n  saveContent(input: $input) {\n    id\n    isSaved\n  }\n}\n"]);
                return _c = function() {
                    return e
                }, e
            }
            var Xc = function(e) {
                    var t, n = e.content,
                        o = null === n || void 0 === n || null === (t = n.__typename) || void 0 === t ? void 0 : t.toLowerCase(),
                        i = null === n || void 0 === n ? void 0 : n.id,
                        l = Object(u.useMutation)(Jc),
                        c = Object(p.a)(l, 2),
                        s = c[0],
                        d = c[1].loading,
                        m = Ja().user,
                        f = Object(a.useState)(null === n || void 0 === n ? void 0 : n.isSaved),
                        b = Object(p.a)(f, 2),
                        y = b[0],
                        v = b[1],
                        g = Ya().openOverlay,
                        h = Kc(),
                        E = h.userTheme;
                    Object(a.useEffect)((function() {
                        v(null === n || void 0 === n ? void 0 : n.isSaved)
                    }), [n]);
                    var x = function() {
                        var e = Object(O.a)(S.a.mark((function e() {
                            var t;
                            return S.a.wrap((function(e) {
                                for (;;) switch (e.prev = e.next) {
                                    case 0:
                                        if (m && m.username) {
                                            e.next = 2;
                                            break
                                        }
                                        return e.abrupt("return", g("login"));
                                    case 2:
                                        if (!d) {
                                            e.next = 4;
                                            break
                                        }
                                        return e.abrupt("return");
                                    case 4:
                                        v(t = !y), s({
                                            variables: {
                                                input: {
                                                    contentType: o,
                                                    contentId: i,
                                                    responseType: "save",
                                                    responseValue: t ? "save" : "unsave"
                                                }
                                            }
                                        });
                                    case 8:
                                    case "end":
                                        return e.stop()
                                }
                            }), e)
                        })));
                        return function() {
                            return e.apply(this, arguments)
                        }
                    }();
                    return r.a.createElement(B.a, {
                        style: h.container
                    }, r.a.createElement(_r, {
                        iconName: "bookmark",
                        size: 25,
                        color: y ? E.primary : null,
                        onPress: x,
                        style: {
                            marginHorizontal: 2,
                            marginVertical: 0
                        }
                    }))
                },
                Jc = k()(_c());
            Xc.fragments = {
                savable: k()($c())
            };
            var Kc = function() {
                    var e = se(Se());
                    return Object(g.a)(Object(g.a)({}, e), {}, {
                        container: {
                            display: "flex",
                            flexDirection: "row",
                            alignItems: "center"
                        }
                    })
                },
                Zc = Xc;

            function eu() {
                var e = Object(x.a)(["\n    fragment ContentCardFragment on Searchable {\n      id\n      publicId\n      userId\n      title\n      description\n      tags\n      createdAt\n      updatedAt\n      deletedAt\n      actionCount\n      published\n      user {\n        id\n        username\n        avatar\n        isDeveloper\n        hasPremium\n      }\n      ...CommentButtonFragment\n      ...DeleteButtonFragment\n      ...SaveButtonFragment\n      ...VoteButtonFragment\n    }\n    ", "\n    ", "\n    ", "\n    ", "\n  "]);
                return eu = function() {
                    return e
                }, e
            }
            var tu = function(e) {
                var t, n, a, o = e.content,
                    i = e.context,
                    l = e.cardStyle,
                    c = Object(C.useNavigation)(),
                    u = null === o || void 0 === o ? void 0 : o.user,
                    s = null === u || void 0 === u ? void 0 : u.username,
                    d = null === o || void 0 === o ? void 0 : o.publicId,
                    m = null === o || void 0 === o || null === (t = o.__typename) || void 0 === t ? void 0 : t.toLowerCase(),
                    f = Ya().openOverlay,
                    b = Se(),
                    y = b.mode,
                    v = b.theme,
                    g = nu(),
                    p = g.containerStyles,
                    h = g.textStyles,
                    E = Ja().user,
                    x = !!E && !!o && (null === E || void 0 === E ? void 0 : E.id) === (null === o || void 0 === o ? void 0 : o.userId),
                    w = function() {
                        "adventure" === m && c.navigate("adventureView", {
                            publicId: d
                        }), "scenario" === m && c.navigate("scenarioView", {
                            publicId: d
                        })
                    };
                if (!o) return null;
                var S = (null === u || void 0 === u ? void 0 : u.avatar) && "none" !== (null === u || void 0 === u ? void 0 : u.avatar) ? {
                        uri: z + (null === u || void 0 === u ? void 0 : u.avatar)
                    } : null,
                    O = null === u || void 0 === u ? void 0 : u.isDeveloper,
                    j = null === u || void 0 === u ? void 0 : u.hasPremium,
                    T = O ? "dev" : j ? "subscriber" : null;
                return (null === o || void 0 === o ? void 0 : o.deletedAt) ? null : r.a.createElement(L.a, {
                    onPress: function() {
                        if ("MyStuff" === i) return w();
                        w()
                    },
                    style: ["horizontal" === i ? p.horizontalCard : p.card, g.card, l],
                    accessibilityRole: "button"
                }, r.a.createElement(B.a, {
                    style: p.basic
                }, r.a.createElement(B.a, {
                    style: g.header
                }, r.a.createElement(si.b, {
                    username: null === u || void 0 === u ? void 0 : u.username,
                    avatarSource: S,
                    mode: y,
                    onPress: function() {
                        return c.navigate("profile", {
                            username: s
                        })
                    },
                    userType: T,
                    theme: v
                }), "MyStuff" !== i && "Profile" !== i && r.a.createElement(L.a, {
                    onPress: function() {
                        if (!E || !(null === E || void 0 === E ? void 0 : E.username)) return f("login");
                        f("contentCardOptions", {
                            content: o
                        })
                    },
                    accessibilityRole: "button"
                }, r.a.createElement(qe, {
                    style: g.headerIcon,
                    type: "awesome",
                    name: "ellipsis-h",
                    size: 20
                }))), r.a.createElement(P.a, {
                    style: h.cardTitle
                }, null !== (n = o.title) && void 0 !== n ? n : "Untitled"), r.a.createElement(P.a, {
                    numberOfLines: 4,
                    style: [h.body, {
                        marginBottom: 15
                    }]
                }, o.description), (null === (a = o.tags) || void 0 === a ? void 0 : a.length) > 0 && r.a.createElement(B.a, null, r.a.createElement(Pi, {
                    tags: o.tags,
                    style: "card",
                    isEdit: !1
                })), "MyStuff" === i && r.a.createElement(P.a, {
                    style: g.subText
                }, "Status: ", o.published ? "Published" : "Not Published"), !!o.createdAt && r.a.createElement(P.a, {
                    style: g.subText
                }, "Created: ", tc()(o.createdAt).format("MMMM Do [at] h:mmA")), !!o.updatedAt && o.createdAt !== o.updatedAt && r.a.createElement(P.a, {
                    style: g.subText
                }, "Updated: ", tc()(o.updatedAt).format("MMMM Do [at] h:mmA")), !!o.deletedAt && r.a.createElement(P.a, {
                    style: g.subText
                }, "Deleted: ", tc()(o.deletedAt).format("MMMM Do [at] h:mmA")), "adventure" === m && r.a.createElement(P.a, {
                    style: g.subText
                }, "Actions: ", o.actionCount || 0), r.a.createElement(B.a, {
                    style: [p.row, {
                        marginTop: 15,
                        marginVertical: 0
                    }]
                }, r.a.createElement(B.a, {
                    style: [p.row, {
                        marginVertical: 0
                    }]
                }, r.a.createElement(fc, {
                    content: o
                }), r.a.createElement(oc, {
                    content: o
                })), x && r.a.createElement(_r, {
                    iconName: "edit",
                    type: "awesome",
                    onPress: function() {
                        "adventure" === m && c.navigate("adventureEdit", {
                            publicId: d
                        }), "scenario" === m && c.navigate("scenarioEdit", {
                            publicId: d
                        })
                    }
                }), x && r.a.createElement(Bl, {
                    content: o
                }), r.a.createElement(_r, {
                    iconName: "play",
                    type: "awesome",
                    onPress: function() {
                        "adventure" === m && c.navigate("adventurePlay", {
                            publicId: d
                        }), "scenario" === m && c.navigate("scenarioPlay", {
                            publicId: d
                        })
                    }
                }), r.a.createElement(_r, {
                    iconName: "book",
                    type: "awesome",
                    onPress: w
                }), r.a.createElement(Zc, {
                    content: o
                }))))
            };
            tu.fragments = {
                searchable: k()(eu(), oc.fragments.commentable, Bl.fragments.searchable, Zc.fragments.savable, fc.fragments.votable)
            };
            var nu = function() {
                    var e = se(Se()),
                        t = e.userMode,
                        n = e.fontSizes,
                        a = e.fonts;
                    return Object(g.a)(Object(g.a)({}, e), {}, {
                        card: {
                            borderRadius: 0,
                            marginVertical: 0,
                            borderTopWidth: 2,
                            borderRightWidth: N({
                                default: 0,
                                web: 2,
                                tabletLarge: 2
                            }),
                            borderLeftWidth: N({
                                default: 0,
                                web: 2,
                                tabletLarge: 2
                            }),
                            borderColor: e.userMode.secondaryBackground,
                            backgroundColor: t.background
                        },
                        header: {
                            display: "flex",
                            flexDirection: "row",
                            justifyContent: "space-between"
                        },
                        headerIcon: {
                            alignSelf: "center",
                            paddingHorizontal: 5
                        },
                        userContainer: {
                            flexDirection: "row",
                            alignItems: "center"
                        },
                        usernameText: {
                            fontFamily: a.header,
                            fontSize: n.small,
                            color: t.text,
                            marginLeft: 10
                        },
                        subText: {
                            color: t.secondaryText,
                            fontFamily: a.body,
                            fontSize: n.xSmall
                        },
                        metricsContainer: {
                            flexDirection: "row",
                            alignItems: "center",
                            marginBottom: 10
                        },
                        metricText: {
                            color: t.text,
                            fontFamily: a.body,
                            fontSize: n.small,
                            marginRight: 15
                        }
                    })
                },
                au = tu;

            function ru() {
                var e = Object(x.a)(["\n    fragment ContentListFragment on Searchable {\n      ...ContentCardFragment\n    }\n    ", "\n  "]);
                return ru = function() {
                    return e
                }, e
            }
            var ou = function(e) {
                var t = e.items,
                    n = e.context,
                    a = e.noContentMessage,
                    o = null === t || void 0 === t ? void 0 : t.filter((function(e) {
                        return !e.deletedAt
                    })),
                    i = (null === o || void 0 === o ? void 0 : o.length) > 0,
                    l = iu();
                return r.a.createElement(r.a.Fragment, null, null === o || void 0 === o ? void 0 : o.map((function(e, t) {
                    return r.a.createElement(au, {
                        key: t,
                        content: e,
                        context: n,
                        cardStyle: (null === o || void 0 === o ? void 0 : o.length) === t + 1 && {
                            borderBottomWidth: N({
                                default: 0,
                                web: 2,
                                tabletLarge: 2
                            })
                        }
                    })
                })), !!a && !i && r.a.createElement(P.a, {
                    style: l.description
                }, a))
            };
            ou.fragments = {
                searchable: k()(ru(), au.fragments.searchable)
            };
            var iu = function() {
                    var e = se(Se()),
                        t = e.userMode,
                        n = e.fontSizes,
                        a = e.fonts;
                    return Object(g.a)(Object(g.a)({}, e), {}, {
                        description: {
                            fontFamily: a.body,
                            fontSize: n.medium,
                            color: t.text,
                            textAlign: "center",
                            margin: 10
                        }
                    })
                },
                lu = ou,
                cu = function() {
                    var e = se(Se()),
                        t = e.userMode,
                        n = e.fontSizes,
                        a = e.fonts;
                    return Object(g.a)(Object(g.a)({}, e), {}, {
                        icon: {
                            alignSelf: "center",
                            justifyContent: "center",
                            paddingLeft: 10,
                            maxWidth: 40
                        },
                        labelText: {
                            fontFamily: a.body,
                            fontSize: n.small,
                            color: t.text,
                            marginBottom: 10
                        },
                        textInputBox: {
                            flexGrow: 1,
                            flexDirection: "row",
                            backgroundColor: t.secondaryBackground,
                            borderRadius: 25,
                            marginHorizontal: N({
                                default: 2,
                                web: 10,
                                webWide: 0
                            }),
                            marginTop: 10,
                            paddingHorizontal: 5
                        },
                        textInput: {
                            flexGrow: 1,
                            fontFamily: a.body,
                            fontSize: n.small,
                            color: t.text,
                            paddingVertical: N({
                                default: 15,
                                iPhone5: 5,
                                android: 5
                            }),
                            paddingLeft: 10
                        },
                        multilineInput: {
                            paddingTop: 16,
                            textAlignVertical: "top"
                        },
                        errorText: {
                            color: t.alertText,
                            fontFamily: a.body,
                            fontSize: n.small,
                            marginTop: 5
                        },
                        textInputLengthText: {
                            color: t.secondaryText,
                            position: "absolute",
                            right: 0,
                            bottom: -25,
                            fontFamily: a.body,
                            fontSize: n.small
                        }
                    })
                },
                uu = function(e) {
                    var t, n = e.value,
                        o = e.label,
                        i = e.multiline,
                        l = e.placeholder,
                        c = e.onChangeText,
                        u = void 0 === c ? function() {} : c,
                        s = e.onEnter,
                        d = void 0 === s ? function() {} : s,
                        m = e.maxLength,
                        f = e.hideMaxLengthIndicator,
                        b = e.error,
                        y = e.style,
                        v = e.containerStyle,
                        g = e.textInputLengthTextStyle,
                        h = e.errorTextStyle,
                        E = Object(We.a)(e, ["value", "label", "multiline", "placeholder", "onChangeText", "onEnter", "maxLength", "hideMaxLengthIndicator", "error", "style", "containerStyle", "textInputLengthTextStyle", "errorTextStyle"]),
                        x = Object(a.useState)(null !== (t = null === n || void 0 === n ? void 0 : n.length) && void 0 !== t ? t : 0),
                        w = Object(p.a)(x, 2),
                        S = w[0],
                        O = w[1],
                        j = cu(),
                        C = j.containerStyles,
                        T = function(e) {
                            (null === e || void 0 === e ? void 0 : e.length) > m || (O(null === e || void 0 === e ? void 0 : e.length), u(e))
                        };
                    return r.a.createElement(B.a, {
                        style: [C.child, v]
                    }, !!o && r.a.createElement(P.a, {
                        style: j.labelText
                    }, o), r.a.createElement(B.a, {
                        style: j.textInputBox
                    }, r.a.createElement(qe, {
                        style: j.icon,
                        iconName: "search",
                        size: 20,
                        type: "awesome"
                    }), r.a.createElement(gt.a, Object.assign({
                        multiline: i,
                        accessibilityLabel: "".concat(o, ". ").concat(l),
                        placeholderTextColor: j.userMode.secondaryText,
                        placeholder: l,
                        onChangeText: T,
                        onKeyPress: function(e) {
                            var t = e.key,
                                a = e.nativeEvent;
                            !d || "Enter" !== t && "Enter" !== a.key || d(n)
                        },
                        style: [j.textInput, i ? j.multilineInput : null, y],
                        value: n,
                        onEndEditing: function() {
                            return d(n)
                        }
                    }, E)), r.a.createElement(_r, {
                        onPress: function() {
                            T(""), d("")
                        },
                        style: j.icon,
                        iconName: "close",
                        size: 20
                    })), !!m && !f && r.a.createElement(P.a, {
                        style: [j.textInputLengthText, g]
                    }, S, "/", m), "string" === typeof b && (null === b || void 0 === b ? void 0 : b.length) > 0 && r.a.createElement(P.a, {
                        style: [j.errorText, h]
                    }, b))
                },
                su = function() {
                    var e = se(Se()),
                        t = e.userMode,
                        n = e.fontSizes,
                        a = e.fonts;
                    return Object(g.a)(Object(g.a)({}, e), {}, {
                        buttonText: {
                            fontFamily: a.body,
                            color: t.text,
                            alignSelf: "center",
                            fontSize: n.xSmall,
                            textTransform: "uppercase"
                        },
                        filterView: {
                            borderTopWidth: 1,
                            paddingHorizontal: 15,
                            paddingVertical: 5,
                            borderColor: t.secondaryBackground
                        },
                        highlightButtonText: {
                            fontFamily: a.body,
                            alignSelf: "center",
                            fontSize: n.xSmall,
                            textTransform: "uppercase"
                        },
                        filterButton: {
                            height: 30,
                            width: "auto",
                            justifyContent: "flex-start",
                            alignItems: "flex-start",
                            marginRight: 20
                        }
                    })
                },
                du = function(e) {
                    var t = e.changeSection,
                        n = e.context,
                        o = e.onSend,
                        i = e.refetch,
                        l = e.rotateSortOrder,
                        c = e.rotateTimeRange,
                        u = e.searchTerm,
                        s = e.setFilter,
                        d = e.sortOrderLabel,
                        m = e.timeRangeLabel,
                        f = Object(a.useState)(u),
                        b = Object(p.a)(f, 2),
                        y = b[0],
                        v = b[1],
                        g = su(),
                        h = g.containerStyles,
                        E = Object(a.useState)(!1),
                        x = Object(p.a)(E, 2),
                        w = x[0],
                        S = x[1],
                        O = Object(a.useState)("all"),
                        j = Object(p.a)(O, 2),
                        C = j[0],
                        T = j[1],
                        k = Object(a.useState)("all"),
                        A = Object(p.a)(k, 2),
                        I = A[0],
                        L = A[1],
                        F = Object(a.useState)("MyStuff" === n ? "adventure" : "scenario"),
                        z = Object(p.a)(F, 2),
                        M = z[0],
                        R = z[1],
                        D = Object(a.useState)("all"),
                        N = Object(p.a)(D, 2),
                        V = N[0],
                        W = N[1];
                    Object(a.useEffect)((function() {
                        "multiplayer" === C && s({
                            thirdPerson: !0
                        }), "singleplayer" === C && s({
                            thirdPerson: !1
                        }), "all" === C && s({
                            thirdPerson: null
                        })
                    }), [C]), Object(a.useEffect)((function() {
                        "published" === I && s({
                            published: !0
                        }), "unpublished" === I && s({
                            published: !1
                        }), "all" === I && s({
                            published: null
                        })
                    }), [I]), Object(a.useEffect)((function() {
                        "all" === V && s({
                            savedContentType: null
                        }), "adventure" === V && s({
                            savedContentType: "adventure"
                        }), "scenario" === V && s({
                            savedContentType: "scenario"
                        })
                    }), [V]), Object(a.useEffect)((function() {
                        return t(M)
                    }), [M]);
                    var H = ["Scenarios", "Adventures"],
                        U = [function() {
                            return R("scenario")
                        }, function() {
                            return R("adventure")
                        }];
                    return "MyStuff" === n && (H.push("Saved"), U.push((function() {
                        return R("saved")
                    }))), r.a.createElement(B.a, {
                        style: h.column
                    }, r.a.createElement(B.a, {
                        style: [h.row, {
                            marginTop: 20
                        }]
                    }, r.a.createElement(uu, {
                        returnKeyType: "done",
                        onEnter: o,
                        placeholder: "Search title, description, and tags...",
                        onChangeText: v,
                        value: y
                    })), r.a.createElement(B.a, {
                        style: [h.row, {
                            marginTop: 0
                        }]
                    }, r.a.createElement(_r, {
                        iconName: "tune",
                        onPress: function() {
                            return S(!w)
                        },
                        size: 20
                    }), r.a.createElement(_r, {
                        iconName: "refresh",
                        onPress: i,
                        size: 20,
                        style: {
                            marginRight: 15
                        }
                    })), !!w && r.a.createElement(B.a, {
                        style: g.filterView
                    }, r.a.createElement(B.a, {
                        style: h.column
                    }, "saved" === M && r.a.createElement(B.a, {
                        style: [h.row, {
                            marginTop: 0
                        }]
                    }, r.a.createElement(P.a, {
                        style: g.buttonText
                    }, "Saved Type:    "), r.a.createElement(Cl, {
                        value: V,
                        onPress: function() {
                            return W("all" === V ? "adventure" : "adventure" === V ? "scenario" : "all")
                        },
                        rightIconName: "arrows-v"
                    })), r.a.createElement(B.a, {
                        style: [h.row, {
                            marginTop: 0
                        }]
                    }, r.a.createElement(P.a, {
                        style: g.buttonText
                    }, "Game Type:    "), r.a.createElement(Cl, {
                        value: C,
                        onPress: function() {
                            return T("all" === C ? "multiplayer" : "multiplayer" === C ? "singleplayer" : "all")
                        },
                        rightIconName: "arrows-v"
                    })), r.a.createElement(B.a, {
                        style: [h.row, {
                            marginTop: 0
                        }]
                    }, r.a.createElement(P.a, {
                        style: g.buttonText
                    }, "Time Frame:    "), r.a.createElement(Cl, {
                        value: m,
                        onPress: c,
                        rightIconName: "arrows-v"
                    })), r.a.createElement(B.a, {
                        style: [h.row, {
                            marginTop: 5
                        }]
                    }, r.a.createElement(P.a, {
                        style: g.buttonText
                    }, "Sort:    "), r.a.createElement(Cl, {
                        value: d,
                        onPress: l,
                        rightIconName: "arrows-v"
                    })), "MyStuff" === n && r.a.createElement(B.a, {
                        style: [h.row, {
                            marginTop: 5
                        }]
                    }, r.a.createElement(P.a, {
                        style: g.buttonText
                    }, "Status:    "), r.a.createElement(Cl, {
                        value: I,
                        onPress: function() {
                            return L("all" === I ? "published" : "published" === I ? "unpublished" : "all")
                        },
                        rightIconName: "arrows-v"
                    })))), r.a.createElement(cn, {
                        startIndex: "MyStuff" === n ? 1 : 0,
                        labels: H,
                        onPressActions: U
                    }))
                };

            function mu() {
                var e = Object(x.a)(["\n  query ($input: SearchInput) {\n    search(input: $input) {\n      ...ContentListFragment\n    }\n  }\n  ", "\n"]);
                return mu = function() {
                    return e
                }, e
            }
            var fu = k()(mu(), lu.fragments.searchable),
                bu = function() {
                    var e = se(Se());
                    return Object(g.a)(Object(g.a)({}, e), {}, {
                        loadingIndicator: {
                            marginLeft: "auto",
                            marginRight: "auto",
                            marginTop: 20,
                            marginBottom: 60
                        }
                    })
                },
                yu = function() {
                    var e = Object(a.useState)("scenario"),
                        t = Object(p.a)(e, 2),
                        n = t[0],
                        o = t[1],
                        i = Object(a.useState)(""),
                        l = Object(p.a)(i, 2),
                        c = l[0],
                        s = l[1],
                        d = Object(a.useState)("totalUpvotes"),
                        m = Object(p.a)(d, 2),
                        f = m[0],
                        b = m[1],
                        y = Object(a.useState)(1),
                        v = Object(p.a)(y, 2),
                        h = v[0],
                        E = v[1],
                        x = Object(a.useState)(!1),
                        w = Object(p.a)(x, 2),
                        S = w[0],
                        O = w[1],
                        j = Object(a.useState)({}),
                        C = Object(p.a)(j, 2),
                        T = C[0],
                        k = C[1],
                        A = {
                            input: {
                                contentType: n,
                                searchTerm: c,
                                thirdPerson: T.thirdPerson,
                                sortOrder: f,
                                timeRange: h
                            }
                        },
                        I = bu(),
                        P = I.containerStyles,
                        L = I.userMode,
                        F = Object(u.useQuery)(fu, {
                            variables: A,
                            onCompleted: function() {
                                return O(!1)
                            },
                            notifyOnNetworkStatusChange: !0
                        }),
                        z = F.data,
                        M = F.loading,
                        R = F.refetch,
                        D = F.fetchMore,
                        N = null === z || void 0 === z ? void 0 : z.search;
                    return r.a.createElement(B.a, {
                        style: [{
                            backgroundColor: L.background,
                            marginTop: 60
                        }, P.basic]
                    }, r.a.createElement($t.a, {
                        onScroll: function(e) {
                            (function(e) {
                                var t = e.layoutMeasurement,
                                    n = e.contentOffset,
                                    a = e.contentSize;
                                return t.height + n.y >= a.height - 20
                            })(e.nativeEvent) && (M || D({
                                variables: {
                                    input: Object(g.a)(Object(g.a)({}, A.input), {}, {
                                        offset: null === N || void 0 === N ? void 0 : N.length
                                    })
                                },
                                updateQuery: function(e, t) {
                                    var n = t.fetchMoreResult;
                                    if (!n) return e;
                                    var a = [].concat(Object(mr.a)(e.search), Object(mr.a)(n.search)),
                                        r = Object(mr.a)(new Set(a.map((function(e) {
                                            return null === e || void 0 === e ? void 0 : e.id
                                        })))).map((function(e) {
                                            return a.find((function(t) {
                                                return (null === t || void 0 === t ? void 0 : t.id) === e
                                            }))
                                        }));
                                    return Object(g.a)(Object(g.a)({}, e), {}, {
                                        search: r
                                    })
                                }
                            }))
                        },
                        scrollEventThrottle: 1e3,
                        contentContainerStyle: Object(g.a)(Object(g.a)({}, P.screen), {}, {
                            paddingTop: 12
                        })
                    }, r.a.createElement(B.a, {
                        style: [P.content, {
                            width: "100%",
                            marginTop: 0
                        }]
                    }, r.a.createElement(du, {
                        changeSection: function(e) {
                            O(!0), o(e)
                        },
                        context: "Explore",
                        onSend: function(e) {
                            O(!0), s(e), E(null)
                        },
                        refetch: function() {
                            return R()
                        },
                        rotateSortOrder: function() {
                            switch (O(!0), f) {
                                case "createdAt":
                                    return b("trending");
                                case "trending":
                                    return b("totalUpvotes");
                                case "totalUpvotes":
                                    return b("createdAt")
                            }
                        },
                        rotateTimeRange: function() {
                            switch (O(!0), h) {
                                case 1:
                                    return E(7);
                                case 7:
                                    return E(30);
                                case 30:
                                    return E(null);
                                case null:
                                    return E(1)
                            }
                        },
                        searchTerm: c,
                        setFilter: k,
                        sortOrderLabel: function() {
                            switch (f) {
                                case "createdAt":
                                    return "New";
                                case "totalUpvotes":
                                    return "Top";
                                case "trending":
                                    return "Trending"
                            }
                        }(),
                        timeRangeLabel: function() {
                            switch (h) {
                                case 1:
                                    return "Today";
                                case 7:
                                    return "Last 7 Days";
                                case 30:
                                    return "Last 30 Days";
                                case null:
                                    return "All Time"
                            }
                        }()
                    }), !(S && M) && r.a.createElement(lu, {
                        type: n,
                        items: N,
                        context: "Explore",
                        noContentMessage: M ? "" : c && 0 === (null === N || void 0 === N ? void 0 : N.length) ? "Nothing found with search term ".concat(c, ".") : "adventure" === n ? "No Adventures found." : "scenario" === n ? "No Scenarios found." : void 0
                    }), !(!M && !S) && r.a.createElement(Zl, {
                        style: I.loadingIndicator
                    }))))
                };

            function vu() {
                var e = Object(x.a)(["\n  query {\n    featured {\n      ...ContentListFragment\n    }\n  }\n  ", "\n"]);
                return vu = function() {
                    return e
                }, e
            }
            var gu = k()(vu(), lu.fragments.searchable),
                pu = function() {
                    var e = se(Se()),
                        t = e.userMode,
                        n = e.fontSizes,
                        a = e.fonts;
                    return Object(g.a)(Object(g.a)({}, e), {}, {
                        title: {
                            fontFamily: a.body,
                            color: t.text,
                            alignSelf: "center",
                            fontSize: n.large,
                            marginBottom: 15
                        },
                        content: {
                            flexGrow: 1,
                            display: "flex",
                            alignItems: "stretch",
                            justifyContent: "flex-start",
                            width: "90%",
                            marginVertical: 10
                        }
                    })
                },
                hu = function() {
                    var e, t = Object(u.useQuery)(gu),
                        n = t.data,
                        a = t.loading,
                        o = null !== (e = null === n || void 0 === n ? void 0 : n.featured) && void 0 !== e ? e : [],
                        i = pu(),
                        l = i.containerStyles,
                        c = i.userMode,
                        s = null === o || void 0 === o ? void 0 : o.map((function(e) {
                            return {
                                sort: Math.random(),
                                value: e
                            }
                        })).sort((function(e, t) {
                            return e.sort - t.sort
                        })).map((function(e) {
                            return e.value
                        }));
                    return r.a.createElement(B.a, {
                        style: [{
                            backgroundColor: c.background,
                            marginTop: 60
                        }, l.basic]
                    }, r.a.createElement(P.a, {
                        style: i.title
                    }, "Featured Scenarios"), r.a.createElement($t.a, {
                        contentContainerStyle: Object(g.a)(Object(g.a)({}, l.screen), {}, {
                            paddingTop: 12
                        })
                    }, r.a.createElement(B.a, {
                        style: [l.content, {
                            width: "100%",
                            marginTop: 0
                        }]
                    }, r.a.createElement(lu, {
                        type: "scenario",
                        items: s,
                        context: "Explore"
                    }), !!a && r.a.createElement(Zl, {
                        style: i.loadingIndicator
                    }))))
                },
                Eu = function() {
                    var e = se(Se()),
                        t = e.userMode,
                        n = e.fontSizes,
                        a = e.fonts;
                    return Object(g.a)(Object(g.a)({}, e), {}, {
                        container: {
                            flex: 1,
                            flexDirection: "row",
                            justifyContent: "flex-start",
                            alignItems: "center",
                            marginVertical: 5
                        },
                        labelText: {
                            fontFamily: a.body,
                            fontSize: n.small,
                            color: t.text
                        }
                    })
                },
                xu = function(e) {
                    var t = e.title,
                        n = e.onDelete,
                        a = e.onOpenScenario,
                        o = Eu();
                    return r.a.createElement(B.a, {
                        style: o.container
                    }, r.a.createElement(_r, {
                        iconName: "close",
                        onPress: n
                    }), r.a.createElement(L.a, {
                        onPress: a
                    }, r.a.createElement(P.a, {
                        style: o.labelText
                    }, null !== t && void 0 !== t ? t : "Untitled")))
                };

            function wu() {
                var e = Object(x.a)(["\n  mutation ($title: String, $publicId: String) {\n    createScenarioOption(title: $title, publicId: $publicId) {\n      ...ScenarioOptionsFragment\n    }\n  }\n  ", "\n"]);
                return wu = function() {
                    return e
                }, e
            }

            function Su() {
                var e = Object(x.a)(["\n  mutation ($publicId: String) {\n    deleteScenario(publicId: $publicId) {\n      id\n      publicId\n      deletedAt\n    }\n  }\n"]);
                return Su = function() {
                    return e
                }, e
            }

            function Ou() {
                var e = Object(x.a)(["\n  query ($publicId: String) {\n    scenario(publicId: $publicId) {\n      ...ScenarioOptionsFragment\n    }\n  }\n  ", "\n"]);
                return Ou = function() {
                    return e
                }, e
            }

            function ju() {
                var e = Object(x.a)(["\n    fragment ScenarioOptionsFragment on Scenario {\n      id\n      title\n      publicId\n      options {\n        id\n        publicId\n        title\n      }\n    }\n "]);
                return ju = function() {
                    return e
                }, e
            }
            var Cu = function(e) {
                var t = e.scenario,
                    n = e.update,
                    a = Object(C.useNavigation)(),
                    o = null === t || void 0 === t ? void 0 : t.options,
                    i = null === t || void 0 === t ? void 0 : t.publicId,
                    l = null === t || void 0 === t ? void 0 : t.title,
                    c = Object(u.useMutation)(Au, {
                        update: function(e, t) {
                            var n = t.data.createScenarioOption,
                                a = e.readQuery({
                                    query: Tu,
                                    variables: {
                                        publicId: i
                                    }
                                }).scenario;
                            a.options = a.options.concat([n]), e.writeQuery({
                                query: Tu,
                                variables: {
                                    publicId: i
                                },
                                data: {
                                    scenario: a
                                }
                            })
                        }
                    }),
                    s = Object(p.a)(c, 1)[0],
                    d = Object(u.useMutation)(ku, {
                        update: function(e, t) {
                            var n = t.data.deleteScenario,
                                a = e.readQuery({
                                    query: Tu,
                                    variables: {
                                        publicId: i
                                    }
                                }).scenario;
                            a.options = a.options.filter((function(e) {
                                return (null === e || void 0 === e ? void 0 : e.publicId) !== (null === n || void 0 === n ? void 0 : n.publicId)
                            })), e.writeQuery({
                                query: Tu,
                                variables: {
                                    publicId: i
                                },
                                data: {
                                    scenario: a
                                }
                            })
                        }
                    }),
                    m = Object(p.a)(d, 1)[0],
                    f = Iu(),
                    b = function() {
                        var e = Object(O.a)(S.a.mark((function e() {
                            return S.a.wrap((function(e) {
                                for (;;) switch (e.prev = e.next) {
                                    case 0:
                                        if (t) {
                                            e.next = 2;
                                            break
                                        }
                                        return e.abrupt("return");
                                    case 2:
                                        s({
                                            variables: {
                                                title: "Untitled option for ".concat(l),
                                                publicId: i
                                            }
                                        });
                                    case 3:
                                    case "end":
                                        return e.stop()
                                }
                            }), e)
                        })));
                        return function() {
                            return e.apply(this, arguments)
                        }
                    }(),
                    y = function() {
                        var e = Object(O.a)(S.a.mark((function e(t) {
                            var n;
                            return S.a.wrap((function(e) {
                                for (;;) switch (e.prev = e.next) {
                                    case 0:
                                        n = t.publicId, m({
                                            variables: {
                                                publicId: n
                                            }
                                        });
                                    case 2:
                                    case "end":
                                        return e.stop()
                                }
                            }), e)
                        })));
                        return function(t) {
                            return e.apply(this, arguments)
                        }
                    }(),
                    v = function() {
                        var e = Object(O.a)(S.a.mark((function e(t) {
                            var r;
                            return S.a.wrap((function(e) {
                                for (;;) switch (e.prev = e.next) {
                                    case 0:
                                        return r = t.publicId, e.next = 3, n();
                                    case 3:
                                        a.push("scenarioEdit", {
                                            publicId: r
                                        });
                                    case 4:
                                    case "end":
                                        return e.stop()
                                }
                            }), e)
                        })));
                        return function(t) {
                            return e.apply(this, arguments)
                        }
                    }();
                return r.a.createElement(B.a, {
                    style: f.optionSection
                }, null === o || void 0 === o ? void 0 : o.map((function(e, t) {
                    return r.a.createElement(xu, {
                        key: t,
                        title: null === e || void 0 === e ? void 0 : e.title,
                        onOpenScenario: function() {
                            return v({
                                publicId: null === e || void 0 === e ? void 0 : e.publicId
                            })
                        },
                        onDelete: function() {
                            return y({
                                publicId: null === e || void 0 === e ? void 0 : e.publicId
                            })
                        }
                    })
                })), r.a.createElement(B.a, {
                    style: f.newOptionSection
                }, r.a.createElement(_r, {
                    iconName: "plus",
                    onPress: b
                }), r.a.createElement(P.a, {
                    style: f.labelText
                }, "Add a new scenario option (to build a menu like the scenarios on the home page)")))
            };
            Cu.fragments = {
                scenario: k()(ju())
            };
            var Tu = k()(Ou(), Cu.fragments.scenario),
                ku = k()(Su()),
                Au = k()(wu(), Cu.fragments.scenario),
                Iu = function() {
                    var e = se(Se()),
                        t = e.userMode,
                        n = e.fontSizes,
                        a = e.fonts;
                    return Object(g.a)(Object(g.a)({}, e), {}, {
                        optionSection: {
                            flexGrow: 1,
                            flexDirection: "column",
                            marginBottom: 30
                        },
                        newOptionSection: {
                            flexGrow: 1,
                            flexDirection: "row",
                            alignItems: "center",
                            justifyContent: "flex-start",
                            marginVertical: 5
                        },
                        labelText: {
                            fontFamily: a.body,
                            fontSize: n.small,
                            color: t.text
                        }
                    })
                },
                Pu = Cu;

            function Lu() {
                var e = Object(x.a)(["\n  mutation ($publicId: String) {\n    duplicateScenario(publicId: $publicId) {\n      ...ScenarioEditFragment\n    }\n  }\n  ", "\n"]);
                return Lu = function() {
                    return e
                }, e
            }

            function Bu() {
                var e = Object(x.a)(["\n  mutation ($input: ScenarioInput) {\n    updateScenario(input: $input) {\n      ...ScenarioEditFragment\n    }\n  }\n  ", "\n"]);
                return Bu = function() {
                    return e
                }, e
            }

            function Fu() {
                var e = Object(x.a)(["\nquery {\n  musicThemes\n}\n"]);
                return Fu = function() {
                    return e
                }, e
            }

            function zu() {
                var e = Object(x.a)(["\n  query ($publicId: String) {\n    scenario(publicId: $publicId) {\n      ...ScenarioEditFragment\n    }\n  }\n  ", "\n"]);
                return zu = function() {
                    return e
                }, e
            }

            function Mu() {
                var e = Object(x.a)(["\nquery {\n  user {\n    id\n    verifiedAt\n  }\n}\n"]);
                return Mu = function() {
                    return e
                }, e
            }

            function Ru() {
                var e = Object(x.a)(["\n    fragment ScenarioEditFragment on Scenario {\n      id\n      publicId\n      createdAt\n      deletedAt\n      description\n      memory\n      authorsNote\n      mode\n      musicTheme\n      nsfw\n      prompt\n      published\n      quests\n      tags\n      thirdPerson\n      title\n      updatedAt\n      options {\n        id\n        publicId\n        title\n      }\n      ...DeleteButtonFragment\n    }\n    ", "\n "]);
                return Ru = function() {
                    return e
                }, e
            }
            var Du = function(e) {
                var t, n = e.route,
                    o = Object(C.useNavigation)(),
                    i = n.params.publicId,
                    l = Object(u.useQuery)(Nu).data,
                    c = null === l || void 0 === l ? void 0 : l.user,
                    s = !!(null === c || void 0 === c ? void 0 : c.verifiedAt),
                    d = Object(u.useQuery)(Vu, {
                        variables: {
                            publicId: i
                        }
                    }),
                    m = d.data,
                    f = d.loading,
                    b = Object(u.useQuery)(Wu).data,
                    y = null === m || void 0 === m ? void 0 : m.scenario,
                    v = null === b || void 0 === b ? void 0 : b.musicThemes,
                    h = Object(a.useState)(""),
                    E = Object(p.a)(h, 2),
                    x = E[0],
                    w = E[1],
                    j = Object(a.useState)(""),
                    T = Object(p.a)(j, 2),
                    k = T[0],
                    I = T[1],
                    L = Object(a.useState)(""),
                    F = Object(p.a)(L, 2),
                    z = F[0],
                    M = F[1],
                    R = Object(a.useState)(""),
                    D = Object(p.a)(R, 2),
                    V = D[0],
                    W = D[1],
                    H = Object(a.useState)(""),
                    U = Object(p.a)(H, 2),
                    q = U[0],
                    G = U[1],
                    Y = Object(a.useState)(""),
                    Q = Object(p.a)(Y, 2),
                    $ = Q[0],
                    _ = Q[1],
                    X = Object(a.useState)((null === y || void 0 === y ? void 0 : y.musicTheme) || "none"),
                    J = Object(p.a)(X, 2),
                    K = J[0],
                    Z = J[1],
                    ee = Object(a.useState)([]),
                    te = Object(p.a)(ee, 2),
                    ne = te[0],
                    ae = te[1],
                    re = Object(a.useState)(!1),
                    oe = Object(p.a)(re, 2),
                    ie = oe[0],
                    le = oe[1],
                    ce = Object(a.useState)(!1),
                    ue = Object(p.a)(ce, 2),
                    se = ue[0],
                    de = ue[1],
                    me = Object(a.useState)(!1),
                    fe = Object(p.a)(me, 2),
                    be = fe[0],
                    ye = fe[1],
                    ve = Object(a.useState)("creative"),
                    ge = Object(p.a)(ve, 2),
                    pe = ge[0],
                    he = ge[1],
                    Ee = {
                        title: x,
                        description: k,
                        prompt: z,
                        memory: V,
                        authorsNote: q,
                        quests: $,
                        musicTheme: K,
                        tags: ne,
                        nsfw: ie,
                        published: se,
                        thirdPerson: be,
                        mode: pe
                    },
                    xe = Object(u.useMutation)(Hu),
                    we = Object(p.a)(xe, 1)[0],
                    Oe = function() {
                        return o.canGoBack() ? o.goBack() : o.navigate("myStuff")
                    },
                    je = Object(u.useMutation)(Uu, {
                        variables: {
                            publicId: i
                        },
                        onCompleted: function(e) {
                            var t = e.duplicateScenario;
                            o.navigate("scenarioEdit", {
                                publicId: t.publicId
                            })
                        }
                    }),
                    Ce = Object(p.a)(je, 1)[0],
                    Te = qu(),
                    ke = Se(),
                    Ae = ke.mode,
                    Ie = ke.theme,
                    Pe = Te.containerStyles;
                Object(a.useEffect)((function() {
                    var e;
                    w((null === y || void 0 === y ? void 0 : y.title) || ""), I((null === y || void 0 === y ? void 0 : y.description) || ""), M((null === y || void 0 === y ? void 0 : y.prompt) || ""), W((null === y || void 0 === y ? void 0 : y.memory) || ""), G((null === y || void 0 === y ? void 0 : y.authorsNote) || ""), _((null === y || void 0 === y || null === (e = y.quests) || void 0 === e ? void 0 : e.map((function(e) {
                        return e.quest
                    })).join("\n")) || ""), Z(null === y || void 0 === y ? void 0 : y.musicTheme), ae(null === y || void 0 === y ? void 0 : y.tags), le(null === y || void 0 === y ? void 0 : y.nsfw), de(null === y || void 0 === y ? void 0 : y.published), ye(null === y || void 0 === y ? void 0 : y.thirdPerson), he((null === y || void 0 === y ? void 0 : y.mode) || "creative")
                }), [y, null === y || void 0 === y || null === (t = y.options) || void 0 === t ? void 0 : t.length]), Object(a.useLayoutEffect)((function() {
                    o.setOptions({
                        headerLeft: function() {
                            return r.a.createElement(Xr, {
                                onPress: Le
                            })
                        },
                        headerRight: function() {
                            return r.a.createElement(B.a, {
                                style: {
                                    flexDirection: "row"
                                }
                            }, r.a.createElement(_r, {
                                iconName: "save",
                                type: "awesome",
                                onPress: Le
                            }), r.a.createElement(Bl, {
                                content: y,
                                onDelete: Oe
                            }), r.a.createElement(_r, {
                                iconName: "copy",
                                type: "awesome",
                                onPress: ze
                            }), r.a.createElement(_r, {
                                iconName: "play",
                                type: "awesome",
                                onPress: Be
                            }), r.a.createElement(_r, {
                                iconName: "book",
                                type: "awesome",
                                onPress: Fe,
                                style: {
                                    marginRight: 15
                                }
                            }))
                        }
                    })
                }), [o, c, Ee]);
                var Le = function() {
                        if (!f && m) {
                            rt.a.dismiss();
                            var e = null === $ || void 0 === $ ? void 0 : $.split("\n").filter((function(e) {
                                return "" !== e
                            })).map((function(e) {
                                return {
                                    quest: e
                                }
                            }));
                            we({
                                variables: {
                                    input: Object(g.a)(Object(g.a)({
                                        publicId: i
                                    }, Ee), {}, {
                                        quests: e
                                    })
                                }
                            })
                        }
                    },
                    Be = function() {
                        var e = Object(O.a)(S.a.mark((function e() {
                            return S.a.wrap((function(e) {
                                for (;;) switch (e.prev = e.next) {
                                    case 0:
                                        return e.next = 2, Le();
                                    case 2:
                                        o.navigate("scenarioPlay", {
                                            publicId: i
                                        });
                                    case 3:
                                    case "end":
                                        return e.stop()
                                }
                            }), e)
                        })));
                        return function() {
                            return e.apply(this, arguments)
                        }
                    }(),
                    Fe = function() {
                        var e = Object(O.a)(S.a.mark((function e() {
                            return S.a.wrap((function(e) {
                                for (;;) switch (e.prev = e.next) {
                                    case 0:
                                        return e.next = 2, Le();
                                    case 2:
                                        o.navigate("scenarioView", {
                                            publicId: i
                                        });
                                    case 3:
                                    case "end":
                                        return e.stop()
                                }
                            }), e)
                        })));
                        return function() {
                            return e.apply(this, arguments)
                        }
                    }(),
                    ze = function() {
                        var e = Object(O.a)(S.a.mark((function e() {
                            return S.a.wrap((function(e) {
                                for (;;) switch (e.prev = e.next) {
                                    case 0:
                                        return e.next = 2, Le();
                                    case 2:
                                        Ce();
                                    case 3:
                                    case "end":
                                        return e.stop()
                                }
                            }), e)
                        })));
                        return function() {
                            return e.apply(this, arguments)
                        }
                    }(),
                    Me = function() {
                        var e = Object(O.a)(S.a.mark((function e() {
                            return S.a.wrap((function(e) {
                                for (;;) switch (e.prev = e.next) {
                                    case 0:
                                        return e.next = 2, Le();
                                    case 2:
                                        o.navigate("scenarioView", {
                                            publicId: i
                                        });
                                    case 3:
                                    case "end":
                                        return e.stop()
                                }
                            }), e)
                        })));
                        return function() {
                            return e.apply(this, arguments)
                        }
                    }(),
                    Re = function() {
                        var e = Object(O.a)(S.a.mark((function e() {
                            return S.a.wrap((function(e) {
                                for (;;) switch (e.prev = e.next) {
                                    case 0:
                                        return e.next = 2, Le();
                                    case 2:
                                        o.navigate("scenarioScripts", {
                                            publicId: i
                                        });
                                    case 3:
                                    case "end":
                                        return e.stop()
                                }
                            }), e)
                        })));
                        return function() {
                            return e.apply(this, arguments)
                        }
                    }(),
                    De = function() {
                        var e = Object(O.a)(S.a.mark((function e() {
                            return S.a.wrap((function(e) {
                                for (;;) switch (e.prev = e.next) {
                                    case 0:
                                        return e.next = 2, Le();
                                    case 2:
                                        o.navigate("scenarioWorldEntries", {
                                            publicId: i
                                        });
                                    case 3:
                                    case "end":
                                        return e.stop()
                                }
                            }), e)
                        })));
                        return function() {
                            return e.apply(this, arguments)
                        }
                    }();
                return y ? r.a.createElement(xl.a, {
                    extraScrollHeight: N({
                        default: 150,
                        iPhone5: 100
                    }),
                    contentContainerStyle: Pe.screen
                }, r.a.createElement(B.a, {
                    style: Pe.content
                }, r.a.createElement(ht, {
                    label: "Title",
                    placeholder: "Larry Saves The Princess",
                    autoCapitalize: "ios" === A.a.OS ? "sentences" : "words",
                    value: x,
                    onChangeText: w,
                    containerStyle: Te.textField,
                    maxLength: 70
                }), r.a.createElement(ht, {
                    label: "Description",
                    placeholder: "Provide a brief description to help others get an idea of what to expect when playing your scenario.",
                    autoCapitalize: "sentences",
                    value: k,
                    onChangeText: I,
                    containerStyle: Te.textField,
                    textInputStyle: Te.textInput,
                    multiline: !0,
                    maxLength: 400
                }), r.a.createElement(ht, {
                    label: "Prompt",
                    placeholder: 'Enter the starting prompt for this scenario. For example: "You are ${character.name}, a knight in the kingdom of ${Enter a country...}"\n\n"${character.name}" is a special placeholder that prompts the user with "Enter your character\'s name..."',
                    autoCapitalize: "sentences",
                    value: z,
                    onChangeText: M,
                    containerStyle: Te.textField,
                    textInputStyle: Te.textInput,
                    multiline: !0,
                    maxLength: 2e3
                }), r.a.createElement(ht, {
                    label: "Memory",
                    placeholder: "Enter anything you want the AI to remember during the adventure, but don't want to show the player. (Equivalent to the /remember command).",
                    autoCapitalize: "sentences",
                    value: V,
                    onChangeText: W,
                    containerStyle: Te.textField,
                    textInputStyle: Te.textInput,
                    multiline: !0,
                    maxLength: 1e3
                }), r.a.createElement(Ti, null, r.a.createElement(ht, {
                    label: "Author's Note",
                    placeholder: "Style hint: 'Use a very descriptive writing style'",
                    autoCapitalize: "sentences",
                    value: q,
                    onChangeText: G,
                    containerStyle: Te.textField,
                    maxLength: 150
                })), r.a.createElement(ht, {
                    label: "Quests",
                    placeholder: 'Add quests to be completed by the user. Put each quest on a separate line. An example of a quest could be: "slay the black dragon".',
                    autoCapitalize: "sentences",
                    value: $,
                    onChangeText: _,
                    containerStyle: Te.textField,
                    textInputStyle: Te.textInput,
                    multiline: !0,
                    maxLength: 1e3
                }), r.a.createElement(Pu, {
                    scenario: y,
                    update: Le
                }), r.a.createElement(B.a, {
                    style: Te.textField
                }, r.a.createElement(P.a, {
                    style: Te.labelTitle
                }, "Music Theme"), r.a.createElement(Cl, {
                    value: K,
                    onPress: function() {
                        if ("none" !== K) {
                            var e = v.findIndex((function(e) {
                                return e === K
                            })) + 1;
                            e !== (null === v || void 0 === v ? void 0 : v.length) ? Z(v[e]) : Z("none")
                        } else Z(v[0])
                    },
                    buttonStyles: {
                        alignSelf: "flex-start"
                    }
                })), r.a.createElement(Ol, {
                    tags: null !== ne && void 0 !== ne ? ne : [],
                    nsfw: ie,
                    onTagsChange: ae,
                    onnsfwChange: le
                }), r.a.createElement(si.a, {
                    label: "Published",
                    info: "Let other players play your scenario.",
                    value: se,
                    onChange: function(e) {
                        !s && e ? o.navigate("verify") : de(e)
                    },
                    mode: Ae,
                    theme: Ie
                }), r.a.createElement(si.a, {
                    label: " 3rd Person Only",
                    info: "Recommended for multiplayer scenarios.",
                    value: be,
                    onChange: ye,
                    mode: Ae,
                    theme: Ie
                }), r.a.createElement(P.a, {
                    style: Te.labelTitle
                }, "Mode"), r.a.createElement(P.a, {
                    style: [Te.labelText, {
                        color: Te.userMode.secondaryText
                    }]
                }, "Adventure mode enables death (though you can still undo) and disables alter. Hardcore mode disables undo, retry, and alter. Death is also permanent."), r.a.createElement(Fn, {
                    active: pe,
                    textStyle: Te.buttonText,
                    style: {
                        width: "auto",
                        marginBottom: 45
                    },
                    labels: ["creative", "adventure", "hardcore"],
                    onPressActions: [function() {
                        return he("creative")
                    }, function() {
                        return he("adventure")
                    }, function() {
                        return he("hardcore")
                    }]
                }), "web" === A.a.OS && r.a.createElement(Ti, null, r.a.createElement(vt, {
                    accessibilityLabel: "Scripts",
                    onPress: Re,
                    style: Te.button
                }, "Scripts")), r.a.createElement(vt, {
                    accessibilityLabel: "World Info",
                    onPress: De,
                    style: Te.button
                }, "World Info"), r.a.createElement(B.a, {
                    style: Te.buttonsContainer
                }, se && r.a.createElement(vt, {
                    accessibilityLabel: "View Published Page",
                    onPress: Me,
                    style: Te.button
                }, "View Published Page")))) : r.a.createElement(bt.a, {
                    style: {
                        marginTop: 80,
                        justifyContent: "center"
                    },
                    color: "white",
                    size: 120
                })
            };
            Du.fragments = {
                scenario: k()(Ru(), Bl.fragments.searchable)
            };
            var Nu = k()(Mu()),
                Vu = k()(zu(), Du.fragments.scenario),
                Wu = k()(Fu()),
                Hu = k()(Bu(), Du.fragments.scenario),
                Uu = k()(Lu(), Du.fragments.scenario),
                qu = function() {
                    var e = se(Se()),
                        t = e.userMode,
                        n = e.fontSizes,
                        a = e.fonts;
                    return Object(g.a)(Object(g.a)({}, e), {}, {
                        textField: {
                            marginBottom: 45
                        },
                        textInput: {
                            minHeight: 200,
                            maxHeight: N({
                                default: 400,
                                iPhone5: 150
                            })
                        },
                        buttonText: {
                            fontSize: n.small
                        },
                        button: {
                            marginBottom: 30,
                            maxWidth: 800,
                            alignSelf: "center"
                        },
                        labelTitle: {
                            fontFamily: a.body,
                            fontSize: n.medium,
                            color: t.text,
                            marginBottom: 10
                        },
                        labelText: {
                            fontFamily: a.body,
                            fontSize: n.small,
                            color: t.text
                        }
                    })
                },
                Gu = Du;

            function Yu() {
                var e = Object(x.a)(["\nmutation {\n  refreshSearchIndex\n}\n"]);
                return Yu = function() {
                    return e
                }, e
            }

            function Qu() {
                var e = Object(x.a)(["\n  mutation {\n    createScenario {\n      ...ScenarioEditFragment\n    }\n  }\n  ", "\n"]);
                return Qu = function() {
                    return e
                }, e
            }

            function $u() {
                var e = Object(x.a)(["\n  query ($input: SearchInput) {\n    user {\n      id\n      search(input: $input) {\n        ...ContentListFragment\n      }\n    }\n  }\n  ", "\n"]);
                return $u = function() {
                    return e
                }, e
            }

            function _u() {
                var e = Object(x.a)(["\nquery {\n  user {\n    id\n    username\n    indexNeededCount\n  }\n}\n"]);
                return _u = function() {
                    return e
                }, e
            }
            var Xu = k()(_u()),
                Ju = k()($u(), lu.fragments.searchable),
                Ku = k()(Qu(), Gu.fragments.scenario),
                Zu = k()(Yu()),
                es = function() {
                    var e = se(Se()),
                        t = e.userMode,
                        n = e.fontSizes,
                        a = e.fonts;
                    return Object(g.a)(Object(g.a)({}, e), {}, {
                        loadingIndicator: {
                            marginLeft: "auto",
                            marginRight: "auto",
                            marginTop: 20,
                            marginBottom: 60
                        },
                        button: {
                            backgroundColor: e.userTheme.primary,
                            marginTop: 10,
                            width: "auto",
                            marginHorizontal: N({
                                default: 10,
                                web: 10,
                                webWide: 0
                            }),
                            borderRadius: 25
                        },
                        text: {
                            marginVertical: 8,
                            fontFamily: a.body,
                            fontSize: n.small,
                            color: t.text,
                            marginBottom: 5,
                            marginRight: 10
                        }
                    })
                },
                ts = function() {
                    var e, t = Object(C.useNavigation)(),
                        n = Object(a.useState)("adventure"),
                        o = Object(p.a)(n, 2),
                        i = o[0],
                        l = o[1],
                        c = Object(a.useState)(""),
                        s = Object(p.a)(c, 2),
                        d = s[0],
                        m = s[1],
                        f = Object(a.useState)("createdAt"),
                        b = Object(p.a)(f, 2),
                        y = b[0],
                        v = b[1],
                        h = Object(a.useState)(null),
                        E = Object(p.a)(h, 2),
                        x = E[0],
                        w = E[1],
                        j = Object(a.useState)(!1),
                        T = Object(p.a)(j, 2),
                        k = T[0],
                        A = T[1],
                        I = Object(a.useState)({}),
                        L = Object(p.a)(I, 2),
                        F = L[0],
                        z = L[1],
                        M = Object(a.useState)(!1),
                        R = Object(p.a)(M, 2),
                        D = R[0],
                        N = R[1],
                        V = Ya(),
                        W = V.openOverlay,
                        H = V.closeOverlay,
                        U = {
                            input: {
                                contentType: "saved" === i ? F.savedContentType : i,
                                searchTerm: d,
                                sortOrder: y,
                                timeRange: x,
                                thirdPerson: F.thirdPerson,
                                published: F.published,
                                saved: Boolean("saved" === i)
                            }
                        },
                        q = es(),
                        G = q.containerStyles,
                        Y = q.textStyles,
                        Q = Object(u.useQuery)(Xu, {
                            pollInterval: 5e3
                        }),
                        $ = Q.data,
                        _ = Q.stopPolling,
                        X = Object(u.useQuery)(Ju, {
                            variables: U,
                            onCompleted: function() {
                                return A(!1)
                            },
                            notifyOnNetworkStatusChange: !0
                        }),
                        J = X.data,
                        K = X.loading,
                        Z = X.refetch,
                        ee = X.fetchMore,
                        te = null === $ || void 0 === $ ? void 0 : $.user,
                        ne = null === J || void 0 === J || null === (e = J.user) || void 0 === e ? void 0 : e.search;
                    Object(a.useEffect)((function() {
                        te && !(null === te || void 0 === te ? void 0 : te.username) && W("login", {
                            clickableClose: !1,
                            title: "Login or register to enable automatic saving and loading of your adventures from any device.",
                            onClose: function() {
                                t.navigate("home"), H()
                            }
                        })
                    }), [te]), Object(a.useEffect)((function() {
                        return t.addListener("blur", Object(O.a)(S.a.mark((function e() {
                            return S.a.wrap((function(e) {
                                for (;;) switch (e.prev = e.next) {
                                    case 0:
                                        H();
                                    case 1:
                                    case "end":
                                        return e.stop()
                                }
                            }), e)
                        }))))
                    }), [t]), Object(a.useEffect)((function() {
                        return t.addListener("focus", Object(O.a)(S.a.mark((function e() {
                            return S.a.wrap((function(e) {
                                for (;;) switch (e.prev = e.next) {
                                    case 0:
                                        te && !(null === te || void 0 === te ? void 0 : te.username) && W("login", {
                                            clickableClose: !1,
                                            title: "Login or register to enable automatic saving and loading of your adventures from any device.",
                                            onClose: function() {
                                                t.navigate("home"), H()
                                            }
                                        });
                                    case 1:
                                    case "end":
                                        return e.stop()
                                }
                            }), e)
                        }))))
                    }), [t]);
                    var ae = Object(u.useMutation)(Ku, {
                            onCompleted: function(e) {
                                var n;
                                _(), Z(), t.navigate("scenarioEdit", {
                                    publicId: null === (n = e.createScenario) || void 0 === n ? void 0 : n.publicId
                                })
                            },
                            update: function(e, t) {
                                var n = t.data.createScenario,
                                    a = Ju,
                                    r = e.readQuery({
                                        query: a,
                                        variables: U
                                    });
                                r.user.search = [n].concat(r.user.search), e.writeQuery({
                                    query: a,
                                    variables: U,
                                    data: r
                                })
                            }
                        }),
                        re = Object(p.a)(ae, 1)[0],
                        oe = null === te || void 0 === te ? void 0 : te.indexNeededCount,
                        ie = Object(u.useMutation)(Zu),
                        le = Object(p.a)(ie, 2),
                        ce = le[0],
                        ue = le[1].called;
                    Object(a.useEffect)((function() {
                        oe > 0 && !ue && ce(), 0 === oe && (_(), Z())
                    }), [oe]), Object(a.useEffect)((function() {
                        N(!1)
                    }), [i]);
                    return te ? r.a.createElement(B.a, {
                        style: [{
                            backgroundColor: q.userMode.background,
                            marginTop: 60
                        }, G.basic]
                    }, r.a.createElement($t.a, {
                        onScroll: function(e) {
                            (function(e) {
                                var t = e.layoutMeasurement,
                                    n = e.contentOffset,
                                    a = e.contentSize;
                                return t.height + n.y >= a.height - 20
                            })(e.nativeEvent) && (K || D || ee({
                                variables: {
                                    input: Object(g.a)(Object(g.a)({}, U.input), {}, {
                                        offset: null === ne || void 0 === ne ? void 0 : ne.length
                                    })
                                },
                                updateQuery: function(e, t) {
                                    var n, a = t.fetchMoreResult;
                                    if (!a) return e;
                                    if (!(null === (n = a.user.search) || void 0 === n ? void 0 : n.length)) return N(!0), e;
                                    var r = [].concat(Object(mr.a)(e.user.search), Object(mr.a)(a.user.search)),
                                        o = Object(mr.a)(new Set(r.map((function(e) {
                                            return null === e || void 0 === e ? void 0 : e.id
                                        })))).map((function(e) {
                                            return r.find((function(t) {
                                                return (null === t || void 0 === t ? void 0 : t.id) === e
                                            }))
                                        }));
                                    return Object(g.a)(Object(g.a)({}, e), {}, {
                                        user: Object(g.a)(Object(g.a)({}, e.user), {}, {
                                            search: o
                                        })
                                    })
                                }
                            }))
                        },
                        scrollEventThrottle: 1e3,
                        contentContainerStyle: Object(g.a)(Object(g.a)({}, G.screen), {}, {
                            paddingTop: 2
                        })
                    }, r.a.createElement(B.a, {
                        style: [G.content, {
                            width: "100%",
                            marginTop: 0
                        }]
                    }, "scenario" === i && r.a.createElement(vt, {
                        textStyle: {
                            color: q.userTheme.text
                        },
                        style: q.button,
                        onPress: re
                    }, "Create Scenario"), r.a.createElement(B.a, {
                        style: {
                            flexDirection: "column"
                        }
                    }, oe > 0 && r.a.createElement(P.a, {
                        style: [q.text, {
                            flex: 1
                        }]
                    }, "Refreshing your search index. ", oe, " left to go!")), r.a.createElement(du, {
                        changeSection: function(e) {
                            i !== e && A(!0), l(e)
                        },
                        context: "MyStuff",
                        onSend: function(e) {
                            A(!0), m(e), w(null)
                        },
                        refetch: function() {
                            return Z()
                        },
                        rotateSortOrder: function() {
                            switch (A(!0), y) {
                                case "createdAt":
                                    return v("totalUpvotes");
                                case "totalUpvotes":
                                    return v("createdAt")
                            }
                        },
                        rotateTimeRange: function() {
                            switch (A(!0), x) {
                                case 1:
                                    return w(7);
                                case 7:
                                    return w(30);
                                case 30:
                                    return w(null);
                                case null:
                                    return w(1)
                            }
                        },
                        searchTerm: d,
                        setFilter: z,
                        sortOrderLabel: function() {
                            switch (y) {
                                case "createdAt":
                                    return "New";
                                case "totalUpvotes":
                                    return "Top"
                            }
                        }(),
                        timeRangeLabel: function() {
                            switch (x) {
                                case 1:
                                    return "Today";
                                case 7:
                                    return "Last 7 Days";
                                case 30:
                                    return "Last 30 Days";
                                case null:
                                    return "All Time"
                            }
                        }()
                    }), !(k && K) && r.a.createElement(lu, {
                        type: i,
                        items: ne,
                        context: "MyStuff",
                        noContentMessage: K ? "" : d && 0 === (null === ne || void 0 === ne ? void 0 : ne.length) ? "Nothing found for search term ".concat(d) : "adventure" === i ? "You have no adventures. To create an adventure, play a scenario from the home page or Explore." : "scenario" === i ? "You have no scenarios. To create a scenario, use the button above." : "saved" === i ? "You have no saved scenarios or adventures." : void 0
                    }), !(!K && !k) && r.a.createElement(Zl, {
                        style: q.loadingIndicator
                    }), D && r.a.createElement(B.a, {
                        style: {
                            alignSelf: "center",
                            marginTop: 32
                        }
                    }, r.a.createElement(P.a, {
                        style: Y.smallBody
                    }, "All of your ".concat("saved" === i ? "saved items" : "".concat(i, "s"), " have been loaded!")))))) : null
                };

            function ns() {
                var e = Object(x.a)(["\n  query ($input: SearchInput) {\n    search(input: $input) {\n      ...ContentListFragment\n    }\n  }\n  ", "\n"]);
                return ns = function() {
                    return e
                }, e
            }
            var as = k()(ns(), lu.fragments.searchable),
                rs = function() {
                    var e = se(Se());
                    return Object(g.a)(Object(g.a)({}, e), {}, {
                        loadingIndicator: {
                            marginLeft: "auto",
                            marginRight: "auto",
                            marginTop: 20,
                            marginBottom: 60
                        }
                    })
                },
                os = function() {
                    var e = Object(a.useState)("following"),
                        t = Object(p.a)(e, 1)[0],
                        n = Object(a.useState)("scenario"),
                        o = Object(p.a)(n, 1)[0],
                        i = Object(a.useState)(!1),
                        l = Object(p.a)(i, 2),
                        c = l[0],
                        s = l[1],
                        d = {
                            input: {
                                contentType: o
                            }
                        },
                        m = rs(),
                        f = m.containerStyles,
                        b = m.userMode,
                        y = Object(u.useQuery)(as, {
                            variables: d,
                            onCompleted: function() {
                                return s(!1)
                            },
                            notifyOnNetworkStatusChange: !0
                        }),
                        v = y.data,
                        h = y.loading,
                        E = y.fetchMore,
                        x = null === v || void 0 === v ? void 0 : v.search;
                    return r.a.createElement(B.a, {
                        style: [{
                            backgroundColor: b.background,
                            marginTop: 60
                        }, f.basic]
                    }, r.a.createElement($t.a, {
                        onScroll: function(e) {
                            (function(e) {
                                var t = e.layoutMeasurement,
                                    n = e.contentOffset,
                                    a = e.contentSize;
                                return t.height + n.y >= a.height - 20
                            })(e.nativeEvent) && (h || E({
                                variables: {
                                    input: Object(g.a)(Object(g.a)({}, d.input), {}, {
                                        offset: null === x || void 0 === x ? void 0 : x.length
                                    })
                                },
                                updateQuery: function(e, t) {
                                    var n = t.fetchMoreResult;
                                    if (!n) return e;
                                    var a = [].concat(Object(mr.a)(e.search), Object(mr.a)(n.search)),
                                        r = Object(mr.a)(new Set(a.map((function(e) {
                                            return null === e || void 0 === e ? void 0 : e.id
                                        })))).map((function(e) {
                                            return a.find((function(t) {
                                                return (null === t || void 0 === t ? void 0 : t.id) === e
                                            }))
                                        }));
                                    return Object(g.a)(Object(g.a)({}, e), {}, {
                                        search: r
                                    })
                                }
                            }))
                        },
                        scrollEventThrottle: 1e3,
                        contentContainerStyle: Object(g.a)(Object(g.a)({}, f.screen), {}, {
                            paddingTop: 12
                        })
                    }, r.a.createElement(B.a, {
                        style: [f.content, {
                            width: "100%",
                            marginTop: 0
                        }]
                    }, r.a.createElement(cn, {
                        startIndex: 0,
                        labels: ["Following", "Hot", "New", "Top"],
                        onPressActions: [function() {
                            return t("following")
                        }, function() {
                            return t("hot")
                        }, function() {
                            return t("new")
                        }, function() {
                            return t("top")
                        }]
                    }), !(c && h) && r.a.createElement(lu, {
                        type: o,
                        items: x,
                        context: "Explore",
                        noContentMessage: h ? "" : "No posts found."
                    }), !(!h && !c) && r.a.createElement(Zl, {
                        style: m.loadingIndicator
                    }))))
                },
                is = n(509),
                ls = n.n(is);
            n(754), n(755);

            function cs() {
                var e = Object(x.a)(["\nmutation ($func: String, $sharedLibrary: String, $input: JSONObject) {\n  testCustomFunction(func: $func, sharedLibrary: $sharedLibrary, input: $input)\n}\n"]);
                return cs = function() {
                    return e
                }, e
            }

            function us() {
                var e = Object(x.a)(["\nmutation ($publicId: String, $gameCode: JSONObject) {\n  updateScenarioScripts(publicId: $publicId, gameCode: $gameCode) {\n    id\n    publicId\n    gameCode\n  }\n}\n"]);
                return us = function() {
                    return e
                }, e
            }

            function ss() {
                var e = Object(x.a)(["\nquery ($publicId: String) {\n  scenario(publicId: $publicId) {\n    id\n    publicId\n    gameCode\n    quests\n    worldEntries\n    memory\n  }\n}\n"]);
                return ss = function() {
                    return e
                }, e
            }
            var ds = "\n// Checkout the repo examples to get an idea of other ways you can use scripting \n// https://github.com/AIDungeon/Scripting/blob/master/examples\n\nconst modifier = (text) => {\n  let modifiedText = text\n  const lowered = text.toLowerCase()\n    \n  // The text passed in is either the user's input or players output to modify.\n  if(lowered.includes('you become king') || lowered.includes('you are now king')) {    \n    // You can modify the state variable to keep track of state throughout the adventure\n    state.isKing = true\n    \n    // Setting state.memory.context will cause that to be used instead of the user set memory\n    state.memory = { context: 'You are now the king.' }\n\n    // You can modify world info entries using the below commands\n    // addWorldEntry(keys, entry)\n    // removeWorldEntry(index)\n    // updateWorldEntry(index, keys, entry)\n\n    // You can read world info keys with worldEntries \n    const entries = worldEntries\n    \n    // Setting state.message will set an info message that will be displayed in the game\n    // This can be useful for debugging\n    state.message = JSON.stringify(entries)\n    \n    // You can log things to the side console when testing with console.log\n    console.log('Player is now king')\n    \n    modifiedText = text + '\\nYou are now the king!'\n  }\n  \n  // You must return an object with the text property defined.\n  return { text: modifiedText }\n}\n\n// Don't modify this part\nmodifier(text)\n",
                ms = k()(ss()),
                fs = k()(us()),
                bs = k()(cs()),
                ys = function() {
                    var e = se(Se()),
                        t = e.userMode,
                        n = e.fontSizes,
                        a = e.fonts;
                    return Object(g.a)(Object(g.a)({}, e), {}, {
                        editor: {
                            width: "100%",
                            marginBottom: 20,
                            marginTop: 20
                        },
                        editorSection: {
                            flexDirection: "row",
                            height: "60%",
                            width: "100%"
                        },
                        textInput: {
                            fontFamily: a.body,
                            fontSize: n.small,
                            color: t.text,
                            paddingVertical: N({
                                default: 15,
                                iPhone5: 10,
                                android: 10
                            }),
                            paddingHorizontal: 15,
                            backgroundColor: t.secondaryBackground,
                            borderRadius: 5,
                            width: "100%",
                            paddingTop: 16,
                            textAlignVertical: "top"
                        },
                        testSection: {
                            width: "80%",
                            alignSelf: "center",
                            marginTop: 20
                        },
                        logContainer: {
                            borderLeftWidth: 1,
                            width: "45%",
                            maxWidth: 350,
                            height: 400,
                            backgroundColor: de.scenarioLogBackground,
                            borderColor: de.scenarioLogBorder
                        },
                        logHeader: {
                            paddingVertical: 10,
                            paddingHorizontal: 10,
                            fontFamily: a.body,
                            fontSize: n.medium,
                            color: t.text
                        },
                        logLine: {
                            paddingHorizontal: 10,
                            fontFamily: a.body,
                            fontSize: n.small,
                            color: t.text,
                            marginBottom: 10
                        },
                        labelText: {
                            fontFamily: a.body,
                            fontSize: n.medium,
                            color: t.text,
                            marginBottom: 10,
                            justifyscenario: "center"
                        },
                        testRow: {
                            flexDirection: "row",
                            marginVertical: 10,
                            justifyscenario: "space-between"
                        },
                        icon: {
                            alignSelf: "center",
                            justifyscenario: "center",
                            marginHorizontal: 10,
                            height: "100%"
                        }
                    })
                },
                vs = function(e) {
                    var t, n, o, i = e.route,
                        l = Object(C.useNavigation)(),
                        c = i.params.publicId,
                        s = Ya().openOverlay,
                        d = Object(u.useQuery)(ms, {
                            variables: {
                                publicId: c
                            }
                        }).data,
                        m = null === d || void 0 === d ? void 0 : d.scenario,
                        f = Object(u.useMutation)(fs),
                        b = Object(p.a)(f, 1)[0],
                        y = Object(u.useMutation)(bs),
                        v = Object(p.a)(y, 2),
                        g = v[0],
                        h = v[1].data,
                        E = Object(a.useState)(ds),
                        x = Object(p.a)(E, 2),
                        w = x[0],
                        j = x[1],
                        T = Object(a.useState)('\n// Checkout the repo examples to get an idea of other ways you can use scripting\n// https://github.com/AIDungeon/Scripting/blob/master/examples\n\n// info.memoryLength is the length of the memory section of text.\n// info.maxChars is the maximum length that text can be. The server will truncate the text you return to this length.\n\n// This modifier re-implements Author\'s Note as an example.\nconst modifier = (text) => {\n  const memory = info.memoryLength ? text.slice(0, info.memoryLength) : \'\'\n  const context = info.memoryLength ? text.slice(info.memoryLength + 1) : text\n  const lines = context.split("\\n")\n  if (lines.length > 2) {\n    // Uncomment to use this!\n    // const authorsNote = "Everyone in this story is an AI programmer."\n    // lines.splice(-3, 0, `[Author\'s note: ${authorsNote}]`)\n  }\n  // Make sure the new context isn\'t too long, or it will get truncated by the server.\n  const combinedLines = lines.join("\\n").slice(-(info.maxChars - info.memoryLength))\n  const finalText = [memory, combinedLines].join("")\n  return { text: finalText }\n}\n\n// Don\'t modify this part\nmodifier(text)\n'),
                        k = Object(p.a)(T, 2),
                        A = k[0],
                        I = k[1],
                        L = Object(a.useState)("// Any functions you define here will be available in your other modifier scripts.\n\nfunction bringJoy(string) {\n  return string.replace(/\\b(sad|angry)\\b/g, 'happy')\n}\n"),
                        F = Object(p.a)(L, 2),
                        z = F[0],
                        M = F[1],
                        R = Object(a.useState)(ds),
                        D = Object(p.a)(R, 2),
                        N = D[0],
                        V = D[1],
                        W = Object(a.useState)("Shared Library"),
                        H = Object(p.a)(W, 2),
                        U = H[0],
                        q = H[1],
                        G = Object(a.useState)("{}"),
                        Y = Object(p.a)(G, 2),
                        Q = Y[0],
                        $ = Y[1],
                        _ = Object(a.useState)(""),
                        X = Object(p.a)(_, 2),
                        J = X[0],
                        K = X[1],
                        Z = Object(a.useState)(""),
                        ee = Object(p.a)(Z, 2),
                        te = ee[0],
                        ne = ee[1],
                        ae = Object(a.useState)(""),
                        re = Object(p.a)(ae, 2),
                        oe = re[0],
                        ie = re[1],
                        le = Object(a.useState)(""),
                        ce = Object(p.a)(le, 2),
                        ue = ce[0],
                        se = ce[1],
                        de = ys(),
                        me = de.containerStyles;
                    Object(a.useEffect)((function() {
                        var e, t, n, a, r, o, i, l;
                        (null === m || void 0 === m || null === (e = m.gameCode) || void 0 === e ? void 0 : e.sharedLibrary) && M(null === m || void 0 === m || null === (r = m.gameCode) || void 0 === r ? void 0 : r.sharedLibrary);
                        (null === m || void 0 === m || null === (t = m.gameCode) || void 0 === t ? void 0 : t.onInput) && j(null === m || void 0 === m || null === (o = m.gameCode) || void 0 === o ? void 0 : o.onInput);
                        (null === m || void 0 === m || null === (n = m.gameCode) || void 0 === n ? void 0 : n.onModelContext) && I(null === m || void 0 === m || null === (i = m.gameCode) || void 0 === i ? void 0 : i.onModelContext);
                        (null === m || void 0 === m || null === (a = m.gameCode) || void 0 === a ? void 0 : a.onOutput) && V(null === m || void 0 === m || null === (l = m.gameCode) || void 0 === l ? void 0 : l.onOutput)
                    }), [m]);
                    var fe = function() {
                            return yn.a.openURL("https://github.com/AIDungeon/Scripting")
                        },
                        be = function() {
                            return s("lastModelInput", {
                                publicId: c
                            })
                        };
                    Object(a.useLayoutEffect)((function() {
                        var e = function() {
                            var e = Object(O.a)(S.a.mark((function e() {
                                var t;
                                return S.a.wrap((function(e) {
                                    for (;;) switch (e.prev = e.next) {
                                        case 0:
                                            (t = null === m || void 0 === m ? void 0 : m.gameCode) || (t = {}), t.sharedLibrary = z, t.onInput = w, t.onModelContext = A, t.onOutput = N, b({
                                                variables: {
                                                    publicId: c,
                                                    gameCode: t
                                                }
                                            });
                                        case 7:
                                        case "end":
                                            return e.stop()
                                    }
                                }), e)
                            })));
                            return function() {
                                return e.apply(this, arguments)
                            }
                        }();
                        l.setOptions({
                            headerLeft: function() {
                                return r.a.createElement(Xr, {
                                    onPress: e
                                })
                            },
                            headerRight: function() {
                                return r.a.createElement(B.a, {
                                    style: {
                                        flexDirection: "row"
                                    }
                                }, r.a.createElement(_r, {
                                    iconName: "help",
                                    style: {
                                        marginRight: 15
                                    },
                                    onPress: fe,
                                    accessibilityLabel: "Help"
                                }), r.a.createElement(_r, {
                                    iconName: "brain",
                                    style: {
                                        marginRight: 15
                                    },
                                    onPress: be,
                                    accessibilityLabel: "Last Model Input"
                                }), r.a.createElement(_r, {
                                    iconName: "floppy",
                                    style: {
                                        marginRight: 15
                                    },
                                    onPress: e,
                                    accessibilityLabel: "Save"
                                }))
                            }
                        })
                    }), [l, z, w, A, N]);
                    return m ? r.a.createElement(B.a, {
                        style: [{
                            paddingTop: 100
                        }, me.screen]
                    }, r.a.createElement(cn, {
                        startIndex: 0,
                        labels: ["Shared Library", "Input Modifier", "Context Modifier", "Output Modifier"],
                        onPressActions: [function() {
                            return q("Shared Library")
                        }, function() {
                            return q("Input Modifier")
                        }, function() {
                            return q("Context Modifier")
                        }, function() {
                            return q("Output Modifier")
                        }]
                    }), r.a.createElement(B.a, {
                        style: de.editorSection
                    }, r.a.createElement(ls.a, {
                        mode: "javascript",
                        theme: "terminal",
                        value: "Shared Library" === U ? z : "Input Modifier" === U ? w : "Context Modifier" === U ? A : N,
                        style: de.editor,
                        width: "100%",
                        height: "400",
                        onChange: "Shared Library" === U ? M : "Input Modifier" === U ? j : "Context Modifier" === U ? I : V,
                        name: "Input Editor",
                        editorProps: {
                            $blockScrolling: !0
                        },
                        setOptions: {
                            tabSize: 2,
                            useWorker: !1
                        }
                    }), "Shared Library" !== U && r.a.createElement($t.a, {
                        style: de.logContainer
                    }, r.a.createElement(P.a, {
                        style: de.logHeader
                    }, "Console Logs"), (null === h || void 0 === h || null === (t = h.testCustomFunction) || void 0 === t ? void 0 : t.log) && (null === h || void 0 === h || null === (n = h.testCustomFunction) || void 0 === n || null === (o = n.log) || void 0 === o ? void 0 : o.map((function(e, t) {
                        return r.a.createElement(P.a, {
                            key: t,
                            index: t,
                            style: de.logLine
                        }, e)
                    }))))), "Shared Library" !== U && r.a.createElement(xl.a, {
                        style: {
                            width: "100%"
                        }
                    }, r.a.createElement(B.a, {
                        style: de.testSection
                    }, r.a.createElement(P.a, {
                        style: de.labelText
                    }, "Test ".concat(U)), r.a.createElement(B.a, {
                        style: de.testRow
                    }, r.a.createElement(P.a, {
                        style: de.labelText
                    }, "State  "), r.a.createElement(gt.a, {
                        label: "State",
                        placeholder: "State Dict",
                        value: Q,
                        onChangeText: $,
                        style: de.textInput,
                        containerStyle: {
                            width: "90%",
                            height: 100
                        }
                    })), r.a.createElement(B.a, {
                        style: de.testRow
                    }, r.a.createElement(P.a, {
                        style: de.labelText
                    }, "Text  "), r.a.createElement(gt.a, {
                        multiline: !0,
                        placeholder: "Test Input",
                        label: "Test ".concat(U),
                        value: "Input Modifier" === U ? J : "Context Modifier" === U ? te : oe,
                        onChangeText: "Input Modifier" === U ? K : "Context Modifier" === U ? ne : ie,
                        style: de.textInput,
                        containerStyle: {
                            width: "90%"
                        }
                    }), r.a.createElement(_r, {
                        accessibilityLabel: "Test Script",
                        iconName: "play",
                        type: "awesome",
                        style: de.icon,
                        onPress: function() {
                            try {
                                se("");
                                var e = JSON.parse(Q);
                                g("Input Modifier" === U ? {
                                    variables: {
                                        func: w,
                                        sharedLibrary: z,
                                        input: {
                                            memory: null === m || void 0 === m ? void 0 : m.memory,
                                            worldEntries: null === m || void 0 === m ? void 0 : m.worldEntries,
                                            quests: null === m || void 0 === m ? void 0 : m.quests,
                                            text: J,
                                            state: e
                                        }
                                    }
                                } : "Context Modifier" === U ? {
                                    variables: {
                                        func: A,
                                        sharedLibrary: z,
                                        input: {
                                            memory: null === m || void 0 === m ? void 0 : m.memory,
                                            worldEntries: null === m || void 0 === m ? void 0 : m.worldEntries,
                                            quests: null === m || void 0 === m ? void 0 : m.quests,
                                            text: te,
                                            state: e
                                        }
                                    }
                                } : {
                                    variables: {
                                        func: N,
                                        sharedLibrary: z,
                                        input: {
                                            memory: null === m || void 0 === m ? void 0 : m.memory,
                                            worldEntries: null === m || void 0 === m ? void 0 : m.worldEntries,
                                            quests: null === m || void 0 === m ? void 0 : m.quests,
                                            text: oe,
                                            state: e
                                        }
                                    }
                                })
                            } catch (t) {
                                se(t.message)
                            }
                        }
                    })), (null === h || void 0 === h ? void 0 : h.testCustomFunction) && !(null === h || void 0 === h ? void 0 : h.testCustomFunction.error) && r.a.createElement(r.a.Fragment, null, r.a.createElement(P.a, {
                        style: de.labelText
                    }, "Modifier Result:"), r.a.createElement(P.a, {
                        style: de.labelText
                    }, "Text: " + h.testCustomFunction.text), r.a.createElement(P.a, {
                        style: de.labelText
                    }, "State:\n" + JSON.stringify(h.testCustomFunction.state, null, 2))), (ue || (null === h || void 0 === h ? void 0 : h.testCustomFunction) && (null === h || void 0 === h ? void 0 : h.testCustomFunction.error)) && r.a.createElement(r.a.Fragment, null, r.a.createElement(P.a, {
                        style: de.labelText
                    }, "Error:"), r.a.createElement(P.a, {
                        style: de.labelText
                    }, ue || h.testCustomFunction.error))))) : null
                };

            function gs() {
                var e = Object(x.a)(["\n  query ($publicId: String) {\n    scenario(publicId: $publicId) {\n      id\n      userId\n      publicId\n      prompt\n      ...ContentHeadingFragment\n    }\n  }\n  ", "\n"]);
                return gs = function() {
                    return e
                }, e
            }

            function ps() {
                var e = Object(x.a)(["\n  query {\n    user {\n      id\n      gameSettings {\n        ...StoryTextFragment\n      }\n    }\n  }\n  ", "\n"]);
                return ps = function() {
                    return e
                }, e
            }
            var hs = k()(ps(), Dr.fragments.gameSettings),
                Es = k()(gs(), gc.fragments.searchable),
                xs = function() {
                    var e = se(Se()),
                        t = e.userMode,
                        n = e.fontSizes,
                        a = e.fonts;
                    return Object(g.a)(Object(g.a)({}, e), {}, {
                        loadingIndicator: {
                            marginTop: 50,
                            alignSelf: "center"
                        },
                        scenarioSettingText: {
                            fontFamily: a.body,
                            fontSize: n.medium,
                            color: t.text,
                            marginBottom: 10
                        },
                        scenarioText: {
                            marginBottom: 30
                        }
                    })
                },
                ws = function(e) {
                    var t, n, o = e.route,
                        i = Object(a.useState)(null),
                        l = Object(p.a)(i, 2),
                        c = l[0],
                        s = l[1],
                        d = Object(a.useState)((function() {})),
                        m = Object(p.a)(d, 2),
                        f = m[0],
                        b = m[1],
                        y = Object(C.useNavigation)(),
                        v = (null === o || void 0 === o || null === (t = o.params) || void 0 === t ? void 0 : t.publicId) || (null === o || void 0 === o || null === (n = o.params) || void 0 === n ? void 0 : n.playPublicId),
                        g = Ya().openOverlay,
                        h = xs(),
                        E = h.containerStyles,
                        x = Object(u.useQuery)(hs),
                        w = x.data,
                        j = x.loading,
                        T = Object(u.useQuery)(Es, {
                            variables: {
                                publicId: v
                            }
                        }).data,
                        k = null === w || void 0 === w ? void 0 : w.user,
                        I = null === k || void 0 === k ? void 0 : k.gameSettings,
                        L = null === T || void 0 === T ? void 0 : T.scenario,
                        F = !!k && !!L && (null === k || void 0 === k ? void 0 : k.id) === (null === L || void 0 === L ? void 0 : L.userId),
                        z = function() {
                            var e = Object(O.a)(S.a.mark((function e(t) {
                                var n;
                                return S.a.wrap((function(e) {
                                    for (;;) switch (e.prev = e.next) {
                                        case 0:
                                            if (t) {
                                                e.next = 2;
                                                break
                                            }
                                            return e.abrupt("return");
                                        case 2:
                                            return e.next = 4, wl({
                                                route: "scenarioView",
                                                routeParam: {
                                                    publicId: t
                                                }
                                            });
                                        case 4:
                                            n = e.sent, s(n);
                                        case 6:
                                        case "end":
                                            return e.stop()
                                    }
                                }), e)
                            })));
                            return function(t) {
                                return e.apply(this, arguments)
                            }
                        }();
                    Object(a.useEffect)((function() {
                        if (c) {
                            b((function() {
                                return function() {
                                    if (Ne({
                                            eventName: "share_clicked"
                                        }), !k) return g("login");
                                    g("share", {
                                        message: "Try out this AI generated adventure I made!",
                                        url: c
                                    })
                                }
                            }))
                        }
                    }), [c]), Object(a.useEffect)((function() {
                        if (null === L || void 0 === L ? void 0 : L.publicId) {
                            var e = null === L || void 0 === L ? void 0 : L.publicId;
                            e && z(e)
                        }
                    }), [T, j]), Object(a.useEffect)((function() {
                        return y.addListener("blur", Object(O.a)(S.a.mark((function e() {
                            return S.a.wrap((function(e) {
                                for (;;) switch (e.prev = e.next) {
                                    case 0:
                                        "web" === A.a.OS && window.history.pushState({}, "", "/");
                                    case 1:
                                    case "end":
                                        return e.stop()
                                }
                            }), e)
                        }))))
                    }), [y]);
                    var M = function() {
                            if (!k) return g("login");
                            y.navigate("scenarioPlay", {
                                publicId: v
                            })
                        },
                        R = function() {
                            return y.navigate("scenarioEdit", {
                                publicId: v
                            })
                        },
                        D = function() {
                            return y.canGoBack() ? y.goBack() : y.navigate("myStuff")
                        };
                    return Object(a.useLayoutEffect)((function() {
                        y.setOptions({
                            headerRight: function() {
                                return r.a.createElement(B.a, {
                                    style: {
                                        flexDirection: "row"
                                    }
                                }, F && r.a.createElement(_r, {
                                    iconName: "edit",
                                    type: "awesome",
                                    onPress: R,
                                    accessibilityLabel: "Edit"
                                }), F && r.a.createElement(Bl, {
                                    content: L,
                                    onDelete: D
                                }), r.a.createElement(_r, {
                                    iconName: "play",
                                    type: "awesome",
                                    onPress: M,
                                    accessibilityLabel: "Play"
                                }), r.a.createElement(_r, {
                                    iconName: "share-variant",
                                    onPress: f,
                                    style: {
                                        marginRight: 15
                                    },
                                    accessibilityLabel: "Share"
                                }))
                            }
                        })
                    }), [k, y, f]), L ? r.a.createElement(B.a, {
                        style: [{
                            backgroundColor: h.userMode.background
                        }, E.basic]
                    }, r.a.createElement(xl.a, {
                        extraScrollHeight: 100,
                        nestedScrollEnabled: !0,
                        contentContainerStyle: E.screen
                    }, !!j && r.a.createElement(Zl, {
                        style: h.loadingIndicator
                    }), !j && r.a.createElement(B.a, {
                        style: E.content
                    }, r.a.createElement(gc, {
                        content: L
                    }), r.a.createElement(P.a, {
                        style: h.scenarioSettingText
                    }, "Scenario Setting"), r.a.createElement(Dr, {
                        settings: I,
                        animateTyping: !1,
                        style: h.scenarioText,
                        text: null === L || void 0 === L ? void 0 : L.prompt
                    })))) : r.a.createElement(bt.a, {
                        style: {
                            marginTop: 80,
                            justifyContent: "center"
                        },
                        color: "white",
                        size: 120
                    })
                };

            function Ss() {
                var e = Object(x.a)(["\nmutation ($publicId: String, $worldEntries: JSONObject) {\n  updateScenarioWorldInfo(publicId: $publicId, worldEntries: $worldEntries) {\n    id\n    publicId\n    worldEntries\n  }\n}\n"]);
                return Ss = function() {
                    return e
                }, e
            }

            function Os() {
                var e = Object(x.a)(["\nquery ($publicId: String) {\n  scenario(publicId: $publicId) {\n    id\n    publicId\n    worldEntries\n  }\n}\n"]);
                return Os = function() {
                    return e
                }, e
            }
            var js = function(e) {
                    var t = e.filter((function(e) {
                            return e.entry && e.keys && !e.isDeleted
                        })),
                        n = "data:text/json;charset=utf-8," + encodeURIComponent(JSON.stringify(t, null, 2)),
                        a = document.createElement("a");
                    a.setAttribute("href", n), a.setAttribute("download", "worldEntries.json"), document.body.appendChild(a), a.click(), a.remove()
                },
                Cs = function(e, t) {
                    var n = document.createElement("input");
                    n.setAttribute("style", "position: absolute; left: -1000px;"), n.setAttribute("type", "file"), n.setAttribute("accept", "application/json"), n.addEventListener("blur", (function(e) {
                        return n.remove()
                    })), n.addEventListener("change", (function(a) {
                        var r = new FileReader;
                        r.onload = function(a) {
                            var r = Object(mr.a)(e);
                            try {
                                JSON.parse(a.target.result).slice(0, 1e3).forEach((function(e) {
                                    if ("object" === typeof e && e.keys && e.entry) {
                                        var t = {
                                            id: e.id || Math.random().toString(),
                                            isNotHidden: e.isNotHidden || !1,
                                            keys: e.keys.slice(0, 1e3),
                                            entry: e.entry.slice(0, 1e3)
                                        };
                                        e.metadata && (t.metadata = e.metadata);
                                        var n = r.findIndex((function(e) {
                                            return e.id === t.id
                                        }));
                                        n > -1 && r.splice(n, 1), r.push(t)
                                    }
                                }))
                            } catch (o) {
                                alert("Unable to parse uploaded file")
                            }
                            n.remove(), t(r)
                        }, r.readAsText(a.target.files[0])
                    })), document.body.appendChild(n), n.focus(), n.click()
                },
                Ts = k()(Os()),
                ks = k()(Ss()),
                As = function() {
                    var e = se(Se()),
                        t = e.userMode,
                        n = e.fontSizes,
                        a = e.fonts;
                    return Object(g.a)(Object(g.a)({}, e), {}, {
                        container: {
                            flexGrow: 1,
                            maxWidth: 800,
                            marginHorizontal: "auto",
                            paddingTop: 30,
                            paddingHorizontal: 20,
                            backgroundColor: t.background
                        },
                        row: {
                            flexGrow: 1,
                            flexDirection: "row",
                            marginVertical: 5,
                            marginBottom: 60,
                            justifyContent: "flex-end",
                            width: "100%"
                        },
                        text: {
                            fontFamily: a.body,
                            fontSize: n.small,
                            color: t.text
                        },
                        title: {
                            fontFamily: a.body,
                            fontSize: n.large,
                            color: t.text
                        },
                        keysLabel: {
                            width: "20%",
                            marginLeft: 5,
                            fontFamily: a.body,
                            fontSize: n.medium,
                            color: t.text
                        },
                        entriesLabel: {
                            width: "65%",
                            marginLeft: 25,
                            fontFamily: a.body,
                            fontSize: n.medium,
                            color: t.text
                        }
                    })
                },
                Is = function(e) {
                    var t = e.route,
                        n = Object(C.useNavigation)(),
                        o = t.params.publicId,
                        i = Object(u.useQuery)(Ts, {
                            variables: {
                                publicId: o
                            }
                        }).data,
                        l = null === i || void 0 === i ? void 0 : i.scenario,
                        c = Object(u.useMutation)(ks),
                        s = Object(p.a)(c, 1)[0],
                        d = Object(a.useState)([{}]),
                        m = Object(p.a)(d, 2),
                        f = m[0],
                        b = m[1],
                        y = As(),
                        v = y.containerStyles,
                        g = Object(a.useState)(null),
                        h = Object(p.a)(g, 2),
                        E = h[0],
                        x = h[1],
                        w = function() {
                            var e = Object(O.a)(S.a.mark((function e() {
                                return S.a.wrap((function(e) {
                                    for (;;) switch (e.prev = e.next) {
                                        case 0:
                                            f.push({
                                                id: Math.random().toString(),
                                                keys: "",
                                                entry: ""
                                            }), b(Object(mr.a)(f)), null === E || void 0 === E || E.scrollToEnd({
                                                animated: !0
                                            });
                                        case 3:
                                        case "end":
                                            return e.stop()
                                    }
                                }), e)
                            })));
                            return function() {
                                return e.apply(this, arguments)
                            }
                        }(),
                        j = function() {
                            return Cs(f, b)
                        },
                        T = function() {
                            return js(f)
                        },
                        k = function() {
                            var e = Object(O.a)(S.a.mark((function e() {
                                return S.a.wrap((function(e) {
                                    for (;;) switch (e.prev = e.next) {
                                        case 0:
                                            return e.next = 2, s({
                                                variables: {
                                                    publicId: o,
                                                    worldEntries: f
                                                }
                                            });
                                        case 2:
                                            return e.abrupt("return", e.sent);
                                        case 3:
                                        case "end":
                                            return e.stop()
                                    }
                                }), e)
                            })));
                            return function() {
                                return e.apply(this, arguments)
                            }
                        }();
                    return Object(a.useEffect)((function() {
                        (null === l || void 0 === l ? void 0 : l.worldEntries) && b(l.worldEntries)
                    }), [l]), Object(a.useLayoutEffect)((function() {
                        n.setOptions({
                            headerLeft: function() {
                                return r.a.createElement(Xr, {
                                    onPress: k
                                })
                            },
                            headerRight: function() {
                                return r.a.createElement(B.a, {
                                    style: {
                                        flexDirection: "row"
                                    }
                                }, "web" === A.a.OS && r.a.createElement(_r, {
                                    iconName: "upload",
                                    type: "awesome",
                                    onPress: j,
                                    style: {
                                        padding: 6
                                    },
                                    accessibilityLabel: "Upload"
                                }), "web" === A.a.OS && r.a.createElement(_r, {
                                    iconName: "download",
                                    type: "awesome",
                                    onPress: T,
                                    style: {
                                        padding: 8
                                    },
                                    accessibilityLabel: "Download"
                                }), r.a.createElement(_r, {
                                    iconName: "floppy",
                                    onPress: k,
                                    style: {
                                        marginRight: 15
                                    },
                                    accessibilityLabel: "Save"
                                }))
                            }
                        })
                    }), [n, f]), l ? r.a.createElement(xl.a, {
                        extraScrollHeight: 200,
                        contentContainerStyle: v.screen,
                        innerRef: x
                    }, r.a.createElement(B.a, {
                        style: v.content
                    }, r.a.createElement(B.a, {
                        style: {
                            marginBottom: 32
                        }
                    }, r.a.createElement(P.a, {
                        style: y.title
                    }, "World Info"), r.a.createElement(P.a, {
                        style: y.text
                    }, "Here you can add world info entries (comma separated keys and an entry) to shape what the AI knows about the world and hidden info the player doesn't see.\n\nAn entry is included in what's fed into the AI if one of the keys is detected (case doesn't matter) in the last output or input.")), f && f.map((function(e, t) {
                        return !e.isDeleted && r.a.createElement(Sc, {
                            key: t,
                            onDelete: function() {
                                f[t].isDeleted = !0, b(Object(mr.a)(f))
                            },
                            item: e,
                            onChange: function(e) {
                                f[t] = e, b(Object(mr.a)(f))
                            },
                            inAdventureMode: !1
                        })
                    })).filter((function(e) {
                        return e
                    })), r.a.createElement(B.a, {
                        style: y.row
                    }, r.a.createElement(vt, {
                        accessibilityLabel: "Add World Info",
                        onPress: w,
                        style: y.button
                    }, "Add world info")))) : null
                };

            function Ps() {
                var e = Object(x.a)(["\n  query ($worldId: String) {\n    user {\n      id\n      hasPremium\n    }\n    world (id: $worldId) {\n      id\n      description\n      image\n      worldName\n      kingdoms\n      towns\n    }\n  }\n"]);
                return Ps = function() {
                    return e
                }, e
            }
            var Ls = k()(Ps()),
                Bs = function() {
                    var e = se(Se()),
                        t = e.userMode,
                        n = e.fontSizes,
                        a = e.fonts;
                    return Object(g.a)(Object(g.a)({}, e), {}, {
                        image: {
                            marginVertical: 20,
                            width: "100%",
                            height: "web" === A.a.OS ? 500 : 300
                        },
                        text: {
                            fontFamily: a.body,
                            fontSize: n.medium,
                            color: t.text,
                            marginBottom: 10
                        },
                        sectionTitle: {
                            fontFamily: a.body,
                            fontSize: n.xLarge,
                            color: t.text,
                            marginTop: 20,
                            marginBottom: 5
                        }
                    })
                },
                Fs = function(e) {
                    var t, n = e.route,
                        a = Object(u.useQuery)(Ls, {
                            variables: {
                                worldId: null === n || void 0 === n || null === (t = n.params) || void 0 === t ? void 0 : t.worldId
                            }
                        }),
                        o = a.data,
                        i = a.loading,
                        l = null === o || void 0 === o ? void 0 : o.world;
                    if (i || !l) return null;
                    var c = l.kingdoms || [],
                        s = l.towns || [],
                        d = Bs(),
                        m = d.containerStyles;
                    return r.a.createElement($t.a, {
                        contentContainerStyle: m.screen
                    }, r.a.createElement(B.a, {
                        key: null === l || void 0 === l ? void 0 : l.id,
                        style: [m.content]
                    }, r.a.createElement(P.a, {
                        style: d.sectionTitle
                    }, "The World of ".concat(null === l || void 0 === l ? void 0 : l.worldName)), r.a.createElement(P.a, {
                        style: d.text
                    }, null === l || void 0 === l ? void 0 : l.description), r.a.createElement(ot.a, {
                        source: "web" === A.a.OS ? null === l || void 0 === l ? void 0 : l.image : {
                            uri: null === l || void 0 === l ? void 0 : l.image
                        },
                        style: d.image,
                        resizeMode: "cover"
                    }), c.map((function(e) {
                        return r.a.createElement(r.a.Fragment, null, r.a.createElement(P.a, {
                            style: d.sectionTitle
                        }, "The Kingdom of ".concat(null === e || void 0 === e ? void 0 : e.name)), r.a.createElement(P.a, {
                            style: d.text
                        }, null === e || void 0 === e ? void 0 : e.history))
                    })), s.map((function(e) {
                        return r.a.createElement(r.a.Fragment, null, r.a.createElement(P.a, {
                            style: d.sectionTitle
                        }, "The Town of ".concat(null === e || void 0 === e ? void 0 : e.name, " in ").concat(null === e || void 0 === e ? void 0 : e.kingdomName)), r.a.createElement(P.a, {
                            style: d.text
                        }, null === e || void 0 === e ? void 0 : e.history))
                    }))))
                };

            function zs() {
                var e = Object(x.a)(["\n  query {\n    user {\n      id\n      hasPremium\n    }\n    worlds {\n      id\n      worldName\n      image\n    }\n  }\n"]);
                return zs = function() {
                    return e
                }, e
            }
            var Ms = k()(zs()),
                Rs = function() {
                    var e = se(Se()),
                        t = e.userMode,
                        n = e.fontSizes,
                        a = e.fonts;
                    return Object(g.a)(Object(g.a)({}, e), {}, {
                        section: {
                            flexDirection: "column",
                            marginLeft: 30
                        },
                        image: {
                            marginVertical: 20,
                            width: "100%",
                            height: "web" === A.a.OS ? 500 : 300
                        },
                        card: {
                            borderRadius: 0,
                            marginVertical: 0,
                            borderTopWidth: 2,
                            borderRightWidth: N({
                                default: 0,
                                web: 2,
                                tabletLarge: 2
                            }),
                            borderLeftWidth: N({
                                default: 0,
                                web: 2,
                                tabletLarge: 2
                            }),
                            borderColor: e.userMode.secondaryBackground,
                            backgroundColor: t.background,
                            borderBottomWidth: N({
                                default: 0,
                                web: 2,
                                tabletLarge: 2
                            })
                        },
                        text: {
                            fontFamily: a.body,
                            fontSize: n.medium,
                            color: t.text,
                            marginBottom: 10
                        },
                        title: {
                            fontFamily: a.body,
                            fontSize: n.large,
                            color: t.text,
                            marginTop: 20,
                            marginBottom: 10
                        },
                        sectionTitle: {
                            fontFamily: a.body,
                            fontSize: n.xLarge,
                            color: t.text,
                            marginTop: 20,
                            marginBottom: 5
                        }
                    })
                },
                Ds = function(e) {
                    var t, n = e.route,
                        a = null === n || void 0 === n || null === (t = n.params) || void 0 === t ? void 0 : t.mode,
                        o = Object(u.useQuery)(Ms),
                        i = o.data,
                        l = o.loading,
                        c = Object(C.useNavigation)(),
                        s = null === i || void 0 === i ? void 0 : i.worlds,
                        d = Rs(),
                        m = d.containerStyles;
                    return l ? null : s ? r.a.createElement($t.a, {
                        contentContainerStyle: m.screen
                    }, s.map((function(e) {
                        return r.a.createElement(B.a, {
                            key: null === e || void 0 === e ? void 0 : e.id,
                            style: [m.content]
                        }, r.a.createElement(L.a, {
                            onPress: function() {
                                return c.navigate("worldStart", {
                                    worldId: null === e || void 0 === e ? void 0 : e.id,
                                    mode: a
                                })
                            },
                            style: [m.card, d.card],
                            accessibilityRole: "button"
                        }, r.a.createElement(P.a, {
                            style: d.sectionTitle
                        }, "The World of ".concat(null === e || void 0 === e ? void 0 : e.worldName)), r.a.createElement(ot.a, {
                            source: "web" === A.a.OS ? null === e || void 0 === e ? void 0 : e.image : {
                                uri: null === e || void 0 === e ? void 0 : e.image
                            },
                            style: d.image,
                            resizeMode: "cover"
                        })))
                    }))) : r.a.createElement(B.a, {
                        style: [m.screen]
                    }, r.a.createElement(P.a, {
                        style: d.title
                    }, "There are no worlds right now! Please check back later for more."))
                };

            function Ns() {
                var e = Object(x.a)(["\n  mutation ($input: PlayWorldInput) {\n    playWorld(input: $input) {\n      id\n      publicId\n    }\n  }\n"]);
                return Ns = function() {
                    return e
                }, e
            }

            function Vs() {
                var e = Object(x.a)(["\n  query($id: String) {\n    user {\n      id\n      hasPremium\n    }\n    world(id: $id) {\n      id\n      worldName\n      description\n      kingdoms\n      image\n      classes\n      towns\n      races\n    }\n  }\n"]);
                return Vs = function() {
                    return e
                }, e
            }
            var Ws = k()(Vs()),
                Hs = k()(Ns()),
                Us = function() {
                    var e = se(Se()),
                        t = e.userMode,
                        n = e.fontSizes,
                        a = e.fonts;
                    return Object(g.a)(Object(g.a)({}, e), {}, {
                        helpText: {
                            fontSize: n.medium,
                            fontFamily: a.body,
                            color: t.text,
                            textAlign: "center",
                            alignSelf: "flex-start",
                            alignItems: "center",
                            justifyContent: "center",
                            marginTop: 50,
                            marginHorizontal: "web" === A.a.OS ? "10%" : 20,
                            marginBottom: 5
                        },
                        buttonRowStyle: {
                            flexDirection: "row",
                            flexWrap: "wrap",
                            justifyContent: "flex-start",
                            marginVertical: 0,
                            marginBottom: 10
                        },
                        section: {
                            flexDirection: "column",
                            marginLeft: 30
                        },
                        buttonStyle: {
                            width: "auto",
                            marginRight: 20,
                            marginBottom: 10
                        },
                        image: {
                            marginVertical: 20,
                            width: "100%",
                            height: "web" === A.a.OS ? 500 : 300
                        },
                        text: {
                            fontFamily: a.body,
                            fontSize: n.medium,
                            color: t.text,
                            marginBottom: 10
                        },
                        button: {
                            alignSelf: "center",
                            marginVertical: 20,
                            width: "web" === A.a.OS ? "40%" : "80%",
                            marginHorizontal: 15,
                            fontSize: n.small,
                            borderRadius: 5
                        },
                        title: {
                            fontFamily: a.body,
                            fontSize: n.large,
                            color: t.text,
                            marginTop: 20,
                            marginBottom: 10
                        },
                        sectionTitle: {
                            fontFamily: a.body,
                            fontSize: n.xLarge,
                            color: t.text,
                            marginTop: 20,
                            marginBottom: 5
                        },
                        highlightButtons: {
                            flexDirection: "row",
                            marginRight: 0,
                            marginBottom: 0
                        },
                        buttonText: {
                            fontSize: n.xSmall
                        },
                        buttonTextMedium: {
                            fontSize: n.medium
                        }
                    })
                },
                qs = function(e) {
                    var t, n, o, i, l, c, s, d, m, f, b = e.route,
                        y = null !== (t = null === b || void 0 === b || null === (n = b.params) || void 0 === n ? void 0 : n.worldId) && void 0 !== t ? t : "803663",
                        v = null !== (o = null === b || void 0 === b || null === (i = b.params) || void 0 === i ? void 0 : i.mode) && void 0 !== o ? o : "creative",
                        h = Object(u.useQuery)(Ws, {
                            variables: {
                                id: y
                            }
                        }).data,
                        E = null === h || void 0 === h ? void 0 : h.user,
                        x = null === h || void 0 === h ? void 0 : h.world,
                        w = Object(u.useMutation)(Hs),
                        j = Object(p.a)(w, 1)[0],
                        T = Object(C.useNavigation)(),
                        k = Object(a.useState)(null),
                        I = Object(p.a)(k, 2),
                        L = I[0],
                        F = I[1],
                        z = Object(a.useState)("Off"),
                        M = Object(p.a)(z, 2),
                        R = M[0],
                        D = M[1],
                        N = Object(a.useState)(null),
                        V = Object(p.a)(N, 2),
                        W = V[0],
                        H = V[1],
                        U = Object(a.useState)(!1),
                        q = Object(p.a)(U, 2),
                        G = q[0],
                        Y = q[1],
                        Q = Object(a.useState)(null),
                        $ = Object(p.a)(Q, 2),
                        _ = $[0],
                        X = $[1],
                        J = Object(a.useState)(null),
                        K = Object(p.a)(J, 2),
                        Z = K[0],
                        ee = K[1],
                        te = Object(a.useState)(null),
                        ne = Object(p.a)(te, 2),
                        ae = ne[0],
                        re = ne[1],
                        oe = Object(a.useState)(null),
                        ie = Object(p.a)(oe, 2),
                        le = ie[0],
                        ce = ie[1],
                        ue = Object(a.useState)(null),
                        se = Object(p.a)(ue, 2),
                        de = se[0],
                        me = se[1],
                        fe = Object(a.useState)(!1),
                        be = Object(p.a)(fe, 2),
                        ye = be[0],
                        ve = be[1];
                    Object(a.useEffect)((function() {
                        (null === x || void 0 === x ? void 0 : x.kingdoms) && ce(null === x || void 0 === x ? void 0 : x.kingdoms[0])
                    }), [null === x || void 0 === x ? void 0 : x.kingdoms]), Object(a.useEffect)((function() {
                        (null === x || void 0 === x ? void 0 : x.classes) && ee(null === x || void 0 === x ? void 0 : x.classes[0])
                    }), [null === x || void 0 === x ? void 0 : x.classes]), Object(a.useEffect)((function() {
                        (null === x || void 0 === x ? void 0 : x.races) && re(null === x || void 0 === x ? void 0 : x.races[0])
                    }), [null === x || void 0 === x ? void 0 : x.races]);
                    var ge = null === x || void 0 === x || null === (l = x.towns) || void 0 === l ? void 0 : l.filter((function(e) {
                        return e.kingdomName === (null === le || void 0 === le ? void 0 : le.name)
                    }));
                    Object(a.useEffect)((function() {
                        if (ge) {
                            var e = ge[0];
                            me(e)
                        }
                    }), [le]);
                    var pe = function() {
                            var e = Object(O.a)(S.a.mark((function e() {
                                var t, n, a, r, o, i;
                                return S.a.wrap((function(e) {
                                    for (;;) switch (e.prev = e.next) {
                                        case 0:
                                            t = null === x || void 0 === x ? void 0 : x.kingdoms[Math.floor(Math.random() * (null === x || void 0 === x ? void 0 : x.kingdoms.length))], n = null === x || void 0 === x ? void 0 : x.towns.filter((function(e) {
                                                return e.kingdomName === (null === t || void 0 === t ? void 0 : t.name)
                                            })), a = n[Math.floor(Math.random() * n.length)], r = ["Male", "Female"][Math.floor(2 * Math.random())], o = null === x || void 0 === x ? void 0 : x.classes[Math.floor(Math.random() * (null === x || void 0 === x ? void 0 : x.classes.length))], i = null === x || void 0 === x ? void 0 : x.races[Math.floor(Math.random() * (null === x || void 0 === x ? void 0 : x.races.length))], he({
                                                kingdom: t,
                                                town: a,
                                                charClass: o,
                                                gender: r,
                                                name: L,
                                                race: i
                                            });
                                        case 7:
                                        case "end":
                                            return e.stop()
                                    }
                                }), e)
                            })));
                            return function() {
                                return e.apply(this, arguments)
                            }
                        }(),
                        he = function(e) {
                            ve(!0), _.scrollTo({
                                y: 750
                            });
                            var t = (null === e || void 0 === e ? void 0 : e.gender) ? null === e || void 0 === e ? void 0 : e.gender : "Female";
                            j({
                                variables: {
                                    input: Object(g.a)(Object(g.a)({
                                        id: null === x || void 0 === x ? void 0 : x.id
                                    }, e), {}, {
                                        gender: t,
                                        mode: v,
                                        generateEvents: "On" === R
                                    })
                                }
                            }).then((function(e) {
                                var t = e.data;
                                ve(!1), T.navigate("adventurePlay", {
                                    publicId: t.playWorld.publicId
                                })
                            }))
                        };
                    Object(a.useEffect)((function() {
                        G && _.scrollTo({
                            y: 750
                        })
                    }), [G]);
                    var Ee = Us(),
                        xe = Ee.containerStyles;
                    return r.a.createElement($t.a, {
                        ref: X,
                        contentContainerStyle: xe.screen
                    }, r.a.createElement(B.a, {
                        style: xe.content
                    }, (!E || !x || ye) && r.a.createElement(r.a.Fragment, null, r.a.createElement(P.a, {
                        style: Ee.sectionTitle
                    }, "Preparing World..."), r.a.createElement(ot.a, {
                        source: "web" === A.a.OS ? null === x || void 0 === x ? void 0 : x.image : {
                            uri: null === x || void 0 === x ? void 0 : x.image
                        },
                        style: Ee.image,
                        resizeMode: "cover"
                    }), r.a.createElement(bt.a, {
                        style: {
                            marginBottom: 20,
                            marginTop: 10,
                            alignSelf: "center",
                            justifyContent: "center"
                        },
                        color: "white",
                        size: 120
                    })), !(!E || !x || ye) && r.a.createElement(r.a.Fragment, null, r.a.createElement(P.a, {
                        style: Ee.sectionTitle
                    }, "The World of ".concat(null === x || void 0 === x ? void 0 : x.worldName)), r.a.createElement(P.a, {
                        style: Ee.text
                    }, null === x || void 0 === x ? void 0 : x.description), r.a.createElement(ot.a, {
                        source: "web" === A.a.OS ? null === x || void 0 === x ? void 0 : x.image : {
                            uri: null === x || void 0 === x ? void 0 : x.image
                        },
                        style: Ee.image,
                        resizeMode: "cover"
                    }), !G && r.a.createElement(B.a, {
                        style: {
                            justifyContent: "center",
                            flexDirection: "web" === A.a.OS ? "row" : "column"
                        }
                    }, r.a.createElement(vt, {
                        accessibilityLabel: "Quickstart",
                        onPress: pe,
                        style: Ee.button,
                        textStyle: Ee.buttonTextMedium
                    }, "Quickstart"), r.a.createElement(vt, {
                        accessibilityLabel: "Create Character",
                        onPress: function() {
                            Y(!0)
                        },
                        style: Ee.button,
                        textStyle: Ee.buttonTextMedium
                    }, "Create Character")), x && G && r.a.createElement(r.a.Fragment, null, r.a.createElement(P.a, {
                        style: Ee.sectionTitle
                    }, "Character"), r.a.createElement(B.a, {
                        style: Ee.section
                    }, r.a.createElement(P.a, {
                        style: Ee.title
                    }, "Name"), r.a.createElement(B.a, {
                        style: {
                            flexDirection: "row"
                        }
                    }, r.a.createElement(ht, {
                        placeholder: "Character's Name",
                        value: L,
                        style: {
                            marginRight: 20,
                            width: 300,
                            height: 40
                        },
                        onChangeText: function(e) {
                            F(e)
                        },
                        containerStyle: Ee.textField
                    })), r.a.createElement(P.a, {
                        style: Ee.title
                    }, "Gender"), r.a.createElement(B.a, {
                        style: {
                            flexDirection: "row",
                            width: "auto",
                            justifyContent: "flex-start"
                        }
                    }, r.a.createElement(Fn, {
                        buttonRowStyle: Ee.buttonRowStyle,
                        buttonStyle: Ee.buttonStyle,
                        style: [Ee.highlightButtons, {
                            maxWidth: "60%"
                        }],
                        active: W,
                        textStyle: Ee.buttonText,
                        labels: ["Male", "Female"],
                        onPressActions: [function() {
                            return H("Male")
                        }, function() {
                            return H("Female")
                        }]
                    }), r.a.createElement(ht, {
                        placeholder: "Other",
                        value: W,
                        style: {
                            alignSelf: "flex-start",
                            marginLeft: 0,
                            marginRight: 20,
                            width: 140,
                            height: 40
                        },
                        onChangeText: function(e) {
                            H(e)
                        },
                        containerStyle: Ee.textField
                    })), r.a.createElement(P.a, {
                        style: Ee.title
                    }, "Race"), r.a.createElement(Fn, {
                        buttonRowStyle: Ee.buttonRowStyle,
                        buttonStyle: Ee.buttonStyle,
                        style: Ee.highlightButtons,
                        active: ae,
                        textStyle: Ee.buttonText,
                        labels: null === x || void 0 === x ? void 0 : x.races,
                        onPressActions: null === x || void 0 === x || null === (c = x.races) || void 0 === c ? void 0 : c.map((function(e) {
                            return function() {
                                re(e)
                            }
                        }))
                    }), r.a.createElement(P.a, {
                        style: Ee.text
                    }, null === ae || void 0 === ae ? void 0 : ae.description), r.a.createElement(P.a, {
                        style: Ee.title
                    }, "Class"), r.a.createElement(Fn, {
                        buttonRowStyle: Ee.buttonRowStyle,
                        buttonStyle: Ee.buttonStyle,
                        style: Ee.highlightButtons,
                        active: null === Z || void 0 === Z ? void 0 : Z.name,
                        textStyle: Ee.buttonText,
                        labels: null === x || void 0 === x || null === (s = x.classes) || void 0 === s ? void 0 : s.map((function(e) {
                            return e.name
                        })),
                        onPressActions: null === x || void 0 === x || null === (d = x.classes) || void 0 === d ? void 0 : d.map((function(e) {
                            return function() {
                                ee(e)
                            }
                        }))
                    }), r.a.createElement(P.a, {
                        style: Ee.text
                    }, null === Z || void 0 === Z ? void 0 : Z.description)), r.a.createElement(P.a, {
                        style: Ee.sectionTitle
                    }, "Starting Location"), r.a.createElement(B.a, {
                        style: Ee.section
                    }, r.a.createElement(P.a, {
                        style: Ee.title
                    }, "Kingdom"), r.a.createElement(Fn, {
                        buttonRowStyle: Ee.buttonRowStyle,
                        buttonStyle: Ee.buttonStyle,
                        style: Ee.highlightButtons,
                        active: null === le || void 0 === le ? void 0 : le.name,
                        textStyle: Ee.buttonText,
                        labels: null === x || void 0 === x || null === (m = x.kingdoms) || void 0 === m ? void 0 : m.map((function(e) {
                            return e.name
                        })),
                        onPressActions: null === x || void 0 === x || null === (f = x.kingdoms) || void 0 === f ? void 0 : f.map((function(e) {
                            return function() {
                                ce(e)
                            }
                        }))
                    }), r.a.createElement(P.a, {
                        style: Ee.text
                    }, null === le || void 0 === le ? void 0 : le.history), r.a.createElement(P.a, {
                        style: Ee.title
                    }, "Town"), r.a.createElement(Fn, {
                        buttonRowStyle: Ee.buttonRowStyle,
                        buttonStyle: Ee.buttonStyle,
                        style: Ee.highlightButtons,
                        active: null === de || void 0 === de ? void 0 : de.name,
                        textStyle: Ee.buttonText,
                        labels: null === ge || void 0 === ge ? void 0 : ge.map((function(e) {
                            return e.name
                        })),
                        onPressActions: null === ge || void 0 === ge ? void 0 : ge.map((function(e) {
                            return function() {
                                me(e)
                            }
                        }))
                    }), r.a.createElement(P.a, {
                        style: Ee.text
                    }, null === de || void 0 === de ? void 0 : de.history), r.a.createElement(P.a, {
                        style: Ee.title
                    }, "World Events"), r.a.createElement(Fn, {
                        buttonRowStyle: Ee.buttonRowStyle,
                        buttonStyle: Ee.buttonStyle,
                        style: Ee.highlightButtons,
                        active: null !== R && void 0 !== R ? R : null,
                        textStyle: Ee.buttonText,
                        labels: ["On", "Off"],
                        onPressActions: [function() {
                            D("On")
                        }, function() {
                            D("Off")
                        }]
                    })), r.a.createElement(vt, {
                        accessibilityLabel: "Start Game",
                        onPress: function() {
                            return he({
                                kingdom: le,
                                town: de,
                                charClass: Z,
                                gender: W,
                                name: L,
                                race: ae
                            })
                        },
                        style: Ee.button,
                        textStyle: Ee.buttonTextMedium
                    }, "Start Game")))))
                },
                Gs = function() {
                    var e = se(Se()),
                        t = e.userMode,
                        n = e.userTheme,
                        a = e.fontSizes,
                        r = e.fonts;
                    return Object(g.a)(Object(g.a)({}, e), {}, {
                        textContainer: {
                            maxWidth: 600,
                            margin: 20,
                            padding: 20,
                            borderRadius: 25,
                            backgroundColor: t.secondaryBackground
                        },
                        image: {
                            alignSelf: "center",
                            marginBottom: 20,
                            width: 200,
                            height: 200,
                            borderRadius: 25
                        },
                        title: {
                            fontSize: a.large,
                            textAlign: "center",
                            fontWeight: "bold",
                            marginTop: 0
                        },
                        text: {
                            fontFamily: r.body,
                            fontSize: a.small,
                            color: t.text,
                            marginTop: 20
                        },
                        line: {
                            borderWidth: .5,
                            borderColor: n.primary,
                            marginTop: 20,
                            width: 80,
                            alignSelf: "center"
                        }
                    })
                },
                Ys = function() {
                    var e = Gs(),
                        t = e.containerStyles;
                    return r.a.createElement($t.a, {
                        contentContainerStyle: t.screen
                    }, r.a.createElement(B.a, {
                        style: e.textContainer
                    }, r.a.createElement(ot.a, {
                        accessible: !0,
                        accessibilityLabel: "a bunch of bananas with the words thanks a bunch",
                        accessibilityRole: "image",
                        style: e.image,
                        source: {
                            uri: "https://aidungeon-images.s3.us-east-2.amazonaws.com/other/thanks.png"
                        }
                    }), r.a.createElement(P.a, {
                        style: [e.text, e.title]
                    }, "Contributor Announcement"), r.a.createElement(B.a, {
                        style: e.line
                    }), r.a.createElement(P.a, {
                        style: e.text
                    }, "Thank you contributors for your hard work and support!"), r.a.createElement(P.a, {
                        style: e.text
                    }, "Together you've helped contribute over 13,000 quests."), r.a.createElement(P.a, {
                        style: e.text
                    }, "Because of your work we've been able to build a brand new AI model that can successfully tag quests. We hope to deploy it in the coming weeks."), r.a.createElement(P.a, {
                        style: e.text
                    }, "Stay tuned, we will be adding new contributor tasks very soon!"), r.a.createElement(P.a, {
                        style: [e.text, {
                            textAlign: "right"
                        }]
                    }, "- AI Dungeon Science Team")))
                },
                Qs = function(e) {
                    var t = e.onPress,
                        n = se(Se()),
                        a = n.containerStyles,
                        o = n.textStyles,
                        i = n.userTheme;
                    return r.a.createElement($t.a, {
                        contentContainerStyle: a.screen
                    }, r.a.createElement(B.a, {
                        style: a.content
                    }, r.a.createElement(P.a, {
                        style: o.header
                    }, "Contributor Agreement"), r.a.createElement(P.a, {
                        style: [o.body, {
                            marginBottom: 10
                        }]
                    }, "Thanks for helping us improve the future of AI driven entertainment!", "\n", "We're working hard to build out the infrastructure and algorithms needed to make the most of everything you're willing to contribute."), r.a.createElement(B.a, {
                        style: {
                            marginVertical: 20
                        }
                    }), r.a.createElement(P.a, {
                        style: o.header
                    }, "Purpose"), r.a.createElement(P.a, {
                        style: [o.body, {
                            marginBottom: 20
                        }]
                    }, "There are a lot things an AI can learn without human intervention, but sometimes it's important to teach the AI what we want. We call this process supervised learning. Your task will be to supervise the AI so it can learn something new! As you contribute, you'll receive points that you can cash in later for fun things."), r.a.createElement(P.a, {
                        style: o.subHeader
                    }, "Disclaimer"), r.a.createElement(P.a, {
                        style: [o.body, {
                            marginBottom: 10
                        }]
                    }, "This process is really important for training our AI. If you add spammy or garbagey labels you will be banned from contributing and all of your contributor points will be removed. Each label will be reviewed by humans for quality assurance. You will only receive points after your labels have been reviewed."), r.a.createElement(B.a, {
                        style: {
                            marginVertical: 20
                        }
                    }), r.a.createElement(P.a, {
                        style: o.header
                    }, "Agreement"), r.a.createElement(P.a, {
                        style: [o.body, {
                            marginBottom: 10
                        }]
                    }, "By agreeing to be a contributor you are agreeing that Latitude (the company that makes AI Dungeon) may freely use your contributions to further the development of Machine Learning.", "\n"), r.a.createElement(P.a, {
                        style: o.subHeader
                    }, "Thank you!"), r.a.createElement(P.a, {
                        style: [o.body, {
                            marginBottom: 10
                        }]
                    }, "All of the hard work and contributions from our users are helping us develop a better gaming experience for everyone.", "\n", "-AI Dungeon Science Team", "\n\n"), r.a.createElement(B.a, {
                        style: {
                            marginVertical: 20
                        }
                    }), r.a.createElement(vt, {
                        onPress: t,
                        textStyle: {
                            color: i.text
                        },
                        style: {
                            backgroundColor: i.primary
                        }
                    }, "Accept")))
                },
                $s = function() {
                    var e, t = se(Se()),
                        n = t.fonts,
                        a = t.userTheme,
                        r = t.fontSizes;
                    return Object(g.a)(Object(g.a)({}, t), {}, {
                        text: {
                            marginTop: 16,
                            marginRight: 4,
                            alignSelf: "flex-end",
                            color: de.secondaryText,
                            fontFamily: n.body,
                            fontSize: r.xSmall
                        },
                        bar: {
                            backgroundColor: (e = a.primary, "".concat(e, "66")),
                            height: 24,
                            width: "100%",
                            borderRadius: 16,
                            marginTop: 8
                        },
                        fill: {
                            backgroundColor: a.primary,
                            height: 24,
                            width: "40%",
                            borderRadius: 16
                        }
                    })
                },
                _s = function(e) {
                    var t = e.goal,
                        n = e.entries,
                        a = $s(),
                        o = Math.min(n / t * 100, 100),
                        i = o > 3 ? "".concat(o, "%") : "3%";
                    return r.a.createElement(r.a.Fragment, null, r.a.createElement(P.a, {
                        style: a.text
                    }, n, "/", t), r.a.createElement(B.a, {
                        style: a.bar
                    }, r.a.createElement(B.a, {
                        style: [a.fill, {
                            width: o > 0 ? i : 0
                        }]
                    })))
                };

            function Xs() {
                var e = Object(x.a)(["\n    fragment ContributorTaskCardFragment on ContributorTask {\n      id\n      name\n      title\n      description\n      goal\n      submissions\n    }\n  "]);
                return Xs = function() {
                    return e
                }, e
            }
            var Js = function(e) {
                var t = e.task,
                    n = e.onPress,
                    a = e.onHelp,
                    o = e.cardStyle;
                if (!t) return null;
                var i = Ks(),
                    l = i.containerStyles;
                return r.a.createElement(L.a, {
                    onPress: n,
                    style: [l.card, i.card, o],
                    accessibilityRole: "button"
                }, r.a.createElement(B.a, {
                    style: i.details
                }, r.a.createElement(B.a, {
                    style: i.title
                }, r.a.createElement(P.a, {
                    style: i.titleText
                }, t.title), r.a.createElement(_r, {
                    onPress: a,
                    iconName: "help",
                    size: 20,
                    style: i.icon
                })), r.a.createElement(P.a, {
                    numberOfLines: 4,
                    style: i.previewText
                }, t.description), r.a.createElement(_s, {
                    goal: t.goal,
                    entries: t.submissions
                })))
            };
            Js.fragments = {
                contributorTask: k()(Xs())
            };
            var Ks = function() {
                    var e = se(Se()),
                        t = e.userMode,
                        n = e.fonts,
                        a = e.fontSizes;
                    return Object(g.a)(Object(g.a)({}, e), {}, {
                        title: {
                            flex: 1,
                            flexDirection: "row",
                            justifyContent: "space-between"
                        },
                        icon: {
                            marginBottom: 16
                        },
                        titleText: {
                            flexBasis: "90%",
                            fontFamily: n.body,
                            fontSize: a.medium,
                            color: t.text,
                            marginTop: 8,
                            marginBottom: 10
                        },
                        previewText: {
                            fontFamily: n.body,
                            fontSize: a.medium,
                            color: t.secondaryText,
                            marginBottom: 5
                        },
                        card: {
                            borderRadius: 0,
                            marginVertical: 0,
                            borderTopWidth: 2,
                            borderRightWidth: N({
                                default: 0,
                                web: 2,
                                tabletLarge: 2
                            }),
                            borderLeftWidth: N({
                                default: 0,
                                web: 2,
                                tabletLarge: 2
                            }),
                            borderColor: e.userMode.secondaryBackground,
                            backgroundColor: t.background
                        }
                    })
                },
                Zs = Js;

            function ed() {
                var e = Object(x.a)(["\nmutation ($input: UserInput) {\n  updateUser(input: $input) {\n    id\n    isContributor\n  }\n}\n"]);
                return ed = function() {
                    return e
                }, e
            }

            function td() {
                var e = Object(x.a)(["\n  query {\n    user {\n      id\n      username\n      isContributor\n      isDeveloper\n      isReviewer\n      contributorPoints\n    }\n    contributorTasks {\n      ...ContributorTaskCardFragment\n    }\n  }\n  ", "\n"]);
                return td = function() {
                    return e
                }, e
            }
            var nd = k()(td(), Zs.fragments.contributorTask),
                ad = k()(ed()),
                rd = function() {
                    var e = Object(C.useNavigation)(),
                        t = Ya(),
                        n = t.openOverlay,
                        o = t.closeOverlay,
                        i = Object(u.useQuery)(nd),
                        l = i.data,
                        c = i.loading,
                        s = Object(u.useMutation)(ad),
                        d = Object(p.a)(s, 1)[0],
                        m = null === l || void 0 === l ? void 0 : l.user,
                        f = null === m || void 0 === m ? void 0 : m.isContributor,
                        b = null === m || void 0 === m ? void 0 : m.isReviewer,
                        y = null === m || void 0 === m ? void 0 : m.contributorPoints,
                        v = null === m || void 0 === m ? void 0 : m.isDeveloper,
                        g = null === l || void 0 === l ? void 0 : l.contributorTasks.sort((function(e, t) {
                            return e.submissions <= t.submissions ? 1 : -1
                        })),
                        h = se(Se()),
                        E = h.containerStyles,
                        x = h.textStyles,
                        w = function(t) {
                            var n = "".concat(t, "HelpTransition");
                            e.navigate(n)
                        };
                    return Object(a.useEffect)((function() {
                        m && !(null === m || void 0 === m ? void 0 : m.username) && n("login", {
                            clickableClose: !1,
                            title: "Login or register to enable contributor studio.",
                            onClose: function() {
                                o()
                            }
                        })
                    }), [m]), Object(a.useEffect)((function() {
                        return e.addListener("blur", Object(O.a)(S.a.mark((function e() {
                            return S.a.wrap((function(e) {
                                for (;;) switch (e.prev = e.next) {
                                    case 0:
                                        o();
                                    case 1:
                                    case "end":
                                        return e.stop()
                                }
                            }), e)
                        }))))
                    }), [e]), Object(a.useLayoutEffect)((function() {
                        v && f && e.setOptions({
                            headerRight: function() {
                                return r.a.createElement(B.a, {
                                    style: [{
                                        flexDirection: "row"
                                    }, {
                                        paddingRight: 15
                                    }]
                                }, r.a.createElement(L.a, {
                                    onPress: function() {
                                        e.navigate("store")
                                    },
                                    style: {
                                        alignSelf: "center",
                                        padding: 5
                                    }
                                }, r.a.createElement(P.a, {
                                    style: x.body
                                }, "Giftshop")), r.a.createElement(L.a, {
                                    onPress: function() {
                                        e.navigate("reviewerApplication")
                                    },
                                    style: {
                                        alignSelf: "center",
                                        padding: 5
                                    }
                                }, r.a.createElement(P.a, {
                                    style: x.body
                                }, "Review")))
                            }
                        })
                    }), [e, v, f, y]), c ? r.a.createElement(r.a.Fragment, null) : f ? f && (null === g || void 0 === g ? void 0 : g.length) <= 0 ? r.a.createElement(Ys, null) : r.a.createElement(B.a, {
                        style: [{
                            backgroundColor: h.userMode.background
                        }, E.basic]
                    }, r.a.createElement($t.a, {
                        contentContainerStyle: E.screen
                    }, r.a.createElement(B.a, {
                        style: E.content
                    }, r.a.createElement(P.a, {
                        style: x.header
                    }, "Labeling"), g.sort((function(e, t) {
                        return e.submissions > t.submissions ? 1 : -1
                    })).map((function(e, t) {
                        return r.a.createElement(Zs, {
                            key: t,
                            task: e,
                            cardStyle: (null === g || void 0 === g ? void 0 : g.length) === t + 1 && {
                                borderBottomWidth: N({
                                    default: 0,
                                    web: 2,
                                    tabletLarge: 2
                                })
                            },
                            onPress: function() {
                                return w(e.name)
                            },
                            onHelp: function() {
                                return w(e.name)
                            }
                        })
                    }))), b && v && r.a.createElement(B.a, {
                        style: E.content
                    }, r.a.createElement(P.a, {
                        style: x.header
                    }, "Review"), g.sort((function(e, t) {
                        return e.submissions > t.submissions ? 1 : -1
                    })).map((function(e, t) {
                        return r.a.createElement(Zs, {
                            key: t,
                            task: e,
                            cardStyle: (null === g || void 0 === g ? void 0 : g.length) === t + 1 && {
                                borderBottomWidth: N({
                                    default: 0,
                                    web: 2,
                                    tabletLarge: 2
                                })
                            },
                            onPress: function() {
                                return w(e.name)
                            },
                            onHelp: function() {
                                return w(e.name)
                            }
                        })
                    }))))) : r.a.createElement(Qs, {
                        onPress: function() {
                            (null === m || void 0 === m ? void 0 : m.username) ? d({
                                variables: {
                                    input: {
                                        isContributor: !0
                                    }
                                }
                            }): n("login", {
                                clickableClose: !1,
                                title: "Login or register to enable contributor studio.",
                                onClose: function() {
                                    o()
                                }
                            })
                        }
                    })
                },
                od = function(e) {
                    var t = e.onPress,
                        n = se(Se()),
                        a = n.containerStyles,
                        o = n.textStyles,
                        i = n.userTheme;
                    return r.a.createElement($t.a, {
                        contentContainerStyle: a.screen
                    }, r.a.createElement(B.a, {
                        style: a.content
                    }, r.a.createElement(P.a, {
                        style: o.header
                    }, "Open Reviewer Beta"), r.a.createElement(P.a, {
                        style: [o.body, {
                            marginBottom: 10
                        }]
                    }, "Thanks for your willingness to help us improve the future of AI driven entertainment!", "\n\n", "We're working constintly to build new algorithms that make the most of everything you're willing to contribute."), r.a.createElement(B.a, {
                        style: {
                            marginVertical: 20
                        }
                    }), r.a.createElement(P.a, {
                        style: o.header
                    }, "The Work of a Reviewer"), r.a.createElement(P.a, {
                        style: [o.body, {
                            marginBottom: 10
                        }]
                    }, "A review is the final line of defense between the AI and incoming data. Now that we've collected the initial data we need to cleaning out any labels that don't quite make the cut. It's easy to misunderstand what you're supposed to do in a labling task, and it's very importat that the AI is only fed data that helps it improve. Any data that is mislabeled can seriously mess up and AI at training time.  ", "\n", "It's very importat that you have a good understanding of what's required to do a good job reviewing. So make sure to brush up on the help docs before jumping into reviewing. Please reach out to us if you have any questions about a reviewing task! You can reach us at science@aidungeon.io"), r.a.createElement(B.a, {
                        style: {
                            marginVertical: 20
                        }
                    }), r.a.createElement(P.a, {
                        style: o.header
                    }, "Agreement"), r.a.createElement(P.a, {
                        style: [o.body, {
                            marginBottom: 10
                        }]
                    }, "By agreeing to be a reviewer you are agreeing that Latitude (AI Dungeon's parent company) may freely use your contributions to further the development of Machine Learning and AI.", "\n", "You also agree that your status as a reviewer can be revoked at any time if your reviews are judged as misguiding to the AI."), r.a.createElement(P.a, {
                        style: o.subHeader
                    }, "Thanks Again!"), r.a.createElement(P.a, {
                        style: [o.body, {
                            marginBottom: 10
                        }]
                    }, "All of the hard work and contributions from our users are helping us develop a better gaming experience for everyone.", "\n", "-AI Dungeon Science Team", "\n\n"), r.a.createElement(B.a, {
                        style: {
                            marginVertical: 20
                        }
                    }), r.a.createElement(vt, {
                        onPress: t,
                        textStyle: {
                            color: i.text
                        },
                        style: {
                            backgroundColor: i.primary
                        }
                    }, "Submit")))
                },
                id = function(e) {
                    var t = e.unlocked,
                        n = e.link,
                        a = void 0 === n ? function() {} : n,
                        o = "web" === A.a.OS,
                        i = Math.round(R.a.get("window").width),
                        l = o ? (.8 * i - 76) / 3 : (i - 81) / 3;
                    return r.a.createElement(r.a.Fragment, null, t && r.a.createElement(B.a, null, r.a.createElement(ot.a, {
                        style: {
                            tintColor: de.secondaryBorder,
                            width: l,
                            height: l
                        },
                        source: {
                            uri: a
                        }
                    }), r.a.createElement(ot.a, {
                        style: {
                            position: "absolute",
                            opacity: .3,
                            width: l,
                            height: l
                        },
                        source: {
                            uri: a
                        }
                    })), !t && r.a.createElement(B.a, null, r.a.createElement(ot.a, {
                        style: {
                            width: l,
                            height: l
                        },
                        source: {
                            uri: a
                        }
                    })))
                };

            function ld() {
                var e = Object(x.a)(["\nquery {\n  user {\n    id\n    isDeveloper\n    contributorPoints\n  }\n}\n"]);
                return ld = function() {
                    return e
                }, e
            }
            var cd = k()(ld()),
                ud = function() {
                    var e = se(Se()),
                        t = Object(C.useNavigation)(),
                        n = Object(u.useQuery)(cd).data,
                        o = e.containerStyles,
                        i = e.textStyles,
                        l = null === n || void 0 === n ? void 0 : n.user,
                        c = null === l || void 0 === l ? void 0 : l.contributorPoints;
                    return Object(a.useLayoutEffect)((function() {
                        t.setOptions({
                            headerRight: function() {
                                return r.a.createElement(B.a, {
                                    style: [{
                                        flexDirection: "row"
                                    }, {
                                        paddingRight: 15
                                    }]
                                }, r.a.createElement(P.a, {
                                    style: [i.body, {
                                        display: "flex",
                                        alignItems: "center"
                                    }]
                                }, "Points: ", c))
                            }
                        })
                    }), [t, c]), r.a.createElement(r.a.Fragment, null, r.a.createElement($t.a, {
                        contentContainerStyle: o.screen
                    }, r.a.createElement(B.a, {
                        style: o.content
                    }, r.a.createElement(B.a, {
                        style: {
                            marginVertical: 20
                        }
                    }), r.a.createElement(P.a, {
                        style: i.header
                    }, "Contributor Points Store"), c > 100 && r.a.createElement(r.a.Fragment, null, r.a.createElement(P.a, {
                        style: e.text
                    }, "Contributor avatars:"), r.a.createElement(id, {
                        unlocked: !1,
                        link: z + M[0]
                    }), r.a.createElement(id, {
                        unlocked: !0,
                        link: z + M[0]
                    })))))
                },
                sd = function() {
                    var e = se(Se()),
                        t = e.fonts,
                        n = e.userMode;
                    return Object(g.a)(Object(g.a)({}, e), {}, {
                        header: {
                            display: "flex",
                            flexDirection: "row",
                            justifyContent: "space-between"
                        },
                        headerText: {
                            color: n.text,
                            fontFamily: t.body,
                            fontSize: le.medium
                        }
                    })
                },
                dd = function(e) {
                    var t = e.turn,
                        n = e.version,
                        o = void 0 === n ? 1 : n,
                        i = e.RenderLabel,
                        l = e.lockLabels,
                        c = void 0 !== l && l,
                        u = sd(),
                        s = u.containerStyles,
                        d = Object(a.useState)(!1),
                        m = Object(p.a)(d, 2),
                        f = m[0],
                        b = m[1],
                        y = Object(a.useState)(t.label),
                        v = Object(p.a)(y, 2),
                        h = v[0],
                        E = v[1],
                        x = f ? "chevron-up" : "chevron-down",
                        w = function() {
                            var e = Object(O.a)(S.a.mark((function e(n) {
                                var a, r, i;
                                return S.a.wrap((function(e) {
                                    for (;;) switch (e.prev = e.next) {
                                        case 0:
                                            if (a = n.field, r = n.value, !c) {
                                                e.next = 3;
                                                break
                                            }
                                            return e.abrupt("return");
                                        case 3:
                                            (i = Object(g.a)({}, h) || {
                                                version: o
                                            })[a] = r, t.label = i, E(i);
                                        case 7:
                                        case "end":
                                            return e.stop()
                                    }
                                }), e)
                            })));
                            return function(t) {
                                return e.apply(this, arguments)
                            }
                        }();
                    return Object(a.useEffect)((function() {
                        E(t.label)
                    }), [t]), c ? r.a.createElement(B.a, {
                        style: [s.card, s.shadow]
                    }, r.a.createElement(B.a, {
                        style: s.basic
                    }, r.a.createElement(B.a, {
                        style: u.header
                    }, r.a.createElement(P.a, {
                        style: u.headerText
                    }, t.text.trim())), r.a.createElement(i, {
                        label: h,
                        updateLabel: w
                    }))) : r.a.createElement(B.a, {
                        style: [s.card, s.shadow]
                    }, r.a.createElement(B.a, {
                        style: s.basic
                    }, r.a.createElement(B.a, {
                        style: u.header
                    }, r.a.createElement(P.a, {
                        style: u.headerText
                    }, t.text.trim()), r.a.createElement(_r, {
                        iconName: x,
                        onPress: function() {
                            return b(!f)
                        },
                        size: 20,
                        style: {
                            paddingVertical: 0
                        }
                    })), f && r.a.createElement(i, {
                        label: h,
                        updateLabel: w
                    })))
                },
                md = function() {
                    var e = se(Se()),
                        t = e.fonts,
                        n = e.userMode;
                    return Object(g.a)(Object(g.a)({}, e), {}, {
                        text: {
                            color: n.text,
                            fontFamily: t.body,
                            fontSize: le.medium
                        },
                        exampleContainer: {
                            width: "100%",
                            marginVertical: 10,
                            paddingVertical: 10
                        },
                        header: {
                            display: "flex",
                            flexDirection: "row",
                            justifyContent: "space-between"
                        },
                        headerText: {
                            color: n.text,
                            fontFamily: t.body,
                            fontSize: le.medium
                        }
                    })
                },
                fd = function(e) {
                    var t, n, o = e.examples,
                        i = e.RenderLabel,
                        l = md(),
                        c = Object(a.useState)(0),
                        u = Object(p.a)(c, 2),
                        s = u[0],
                        d = u[1],
                        m = Object(a.useState)(null === (t = o[s]) || void 0 === t ? void 0 : t.text),
                        f = Object(p.a)(m, 2),
                        b = f[0],
                        y = f[1],
                        v = Object(a.useState)(null === (n = o[s]) || void 0 === n ? void 0 : n.turn),
                        g = Object(p.a)(v, 2),
                        h = g[0],
                        E = g[1];
                    return Object(a.useEffect)((function() {
                        var e, t;
                        y(null === (e = o[s]) || void 0 === e ? void 0 : e.text), E(null === (t = o[s]) || void 0 === t ? void 0 : t.turn)
                    }), [s]), r.a.createElement(B.a, {
                        style: l.exampleContainer
                    }, r.a.createElement(B.a, {
                        style: {
                            flexDirection: "row"
                        }
                    }, r.a.createElement(_r, {
                        iconName: "arrow-left-thick",
                        size: 30,
                        onPress: function() {
                            d(s > 0 ? s - 1 : (null === o || void 0 === o ? void 0 : o.length) - 1)
                        },
                        style: {
                            width: "10%",
                            marginVertical: "auto",
                            justifyContent: "center"
                        }
                    }), r.a.createElement(B.a, {
                        style: {
                            width: "76%"
                        }
                    }, r.a.createElement(P.a, {
                        style: [l.text, l.output]
                    }, b), r.a.createElement(dd, {
                        lockLabels: !0,
                        style: l.labelCard,
                        turn: h,
                        RenderLabel: i
                    })), r.a.createElement(_r, {
                        iconName: "arrow-right-thick",
                        size: 30,
                        onPress: function() {
                            s < (null === o || void 0 === o ? void 0 : o.length) - 1 ? d(s + 1) : d(0)
                        },
                        style: {
                            width: "10%",
                            marginVertical: "auto",
                            justifyContent: "center"
                        }
                    })))
                },
                bd = function() {
                    var e = se(Se());
                    return Object(g.a)(Object(g.a)({}, e), {}, {
                        highlightButtons: {
                            maxWidth: 504,
                            alignSelf: "center",
                            marginTop: 24,
                            marginBottom: 12
                        },
                        buttonText: {
                            fontSize: le.small
                        },
                        label: {
                            fontSize: le.medium,
                            paddingVertical: 4
                        },
                        labelContainer: {
                            alignSelf: "center",
                            borderColor: de.placeholderText,
                            borderRadius: 5,
                            borderWidth: 2,
                            marginTop: 16,
                            marginBottom: 12,
                            width: "100%",
                            maxWidth: 504
                        }
                    })
                },
                yd = function(e) {
                    var t = e.updateLabel,
                        n = e.label,
                        a = bd(),
                        o = ["difficult", "impossible", "easy"],
                        i = o.map((function(e) {
                            return Object(O.a)(S.a.mark((function n() {
                                return S.a.wrap((function(n) {
                                    for (;;) switch (n.prev = n.next) {
                                        case 0:
                                            t({
                                                field: "rating",
                                                value: e
                                            });
                                        case 1:
                                        case "end":
                                            return n.stop()
                                    }
                                }), n)
                            })))
                        }));
                    return r.a.createElement(r.a.Fragment, null, r.a.createElement(Fn, {
                        style: a.highlightButtons,
                        active: (null === n || void 0 === n ? void 0 : n.rating) || "",
                        textStyle: a.buttonText,
                        labels: o,
                        onPressActions: i,
                        buttonStyle: {
                            borderColor: a.userMode.secondaryText,
                            borderWidth: 2
                        },
                        activeButtonStyle: {
                            borderColor: de.border
                        }
                    }), r.a.createElement(ht, {
                        placeholder: "Reason...",
                        textInputStyle: a.label,
                        value: (null === n || void 0 === n ? void 0 : n.Reason) || "",
                        containerStyle: a.labelContainer,
                        onChangeText: function(e) {
                            return t({
                                value: e,
                                field: "Reason"
                            })
                        }
                    }))
                };

            function vd() {
                var e = Object(x.a)(["\nmutation ($input: [TurnLabelInput], $taskName: String, $adventureId: String){\n  submitTurnLabels(input: $input, taskName: $taskName, adventureId: $adventureId)\n}\n"]);
                return vd = function() {
                    return e
                }, e
            }

            function gd() {
                var e = Object(x.a)(["\nquery ($queryParams: JSONObject){\n  randomAdventure (queryParams: $queryParams) {\n    id\n    actions {\n      id\n      text\n    }\n  }\n}\n"]);
                return gd = function() {
                    return e
                }, e
            }
            var pd = [{
                    text: "Example 1\nA massive angry dragon lands in front of you",
                    turn: {
                        text: "> You stab the dragon in the eye",
                        type: "inputs",
                        label: {
                            Reason: "You are a short person standing on the ground",
                            rating: "difficult"
                        }
                    }
                }, {
                    text: "Example 2\nYou are walking through a forest",
                    turn: {
                        text: "> You look for a restaurant",
                        type: "input",
                        label: {
                            Reason: "There are no restaurants in the medieval forest",
                            rating: "impossible"
                        }
                    }
                }, {
                    text: "Example 3\nAs you run you look back and see the lion is getting closer",
                    turn: {
                        text: "> You fly away to the moon",
                        type: "input",
                        label: {
                            Reason: "You are a person, who can't fly",
                            rating: "impossible"
                        }
                    }
                }, {
                    text: "Example 4\nWhile walking through the city you see a store selling tiny ceramic unicorns",
                    turn: {
                        text: "> You admire the ceramic unicorns",
                        type: "input",
                        label: {
                            Reason: "They're right in front of you",
                            rating: "easy"
                        }
                    }
                }],
                hd = k()(gd()),
                Ed = k()(vd()),
                xd = function() {
                    var e = se(Se()),
                        t = e.fonts,
                        n = e.userMode;
                    return Object(g.a)(Object(g.a)({}, e), {}, {
                        text: {
                            color: n.text,
                            fontFamily: t.body,
                            fontSize: le.medium
                        },
                        divider: {
                            width: "80%"
                        },
                        header: {
                            color: n.text,
                            fontFamily: t.header,
                            fontSize: le.large,
                            borderBottomWidth: 1,
                            borderColor: n.border,
                            marginBottom: 15
                        },
                        TurnLabelCard: {
                            marginVertical: 4
                        },
                        highlightButtons: {
                            maxWidth: 504,
                            alignSelf: "center",
                            marginTop: 24,
                            marginBottom: 12
                        },
                        buttonText: {
                            fontSize: le.small
                        },
                        label: {
                            fontSize: le.medium,
                            paddingVertical: 4
                        },
                        labelContainer: {
                            alignSelf: "center",
                            borderColor: n.text,
                            borderRadius: 5,
                            borderWidth: 2,
                            marginTop: 16,
                            marginBottom: 12,
                            width: "100%",
                            maxWidth: 504
                        }
                    })
                },
                wd = function() {
                    var e = Object(C.useNavigation)(),
                        t = Object(u.useMutation)(Ed),
                        n = Object(p.a)(t, 2),
                        o = n[0],
                        i = n[1].loading,
                        l = Object(u.useQuery)(hd, {
                            variables: {
                                queryParams: {
                                    minDoActions: 10
                                }
                            },
                            fetchPolicy: "no-cache",
                            notifyOnNetworkStatusChange: !0
                        }),
                        c = l.data,
                        s = l.loading,
                        d = l.refetch,
                        m = null === c || void 0 === c ? void 0 : c.randomAdventure,
                        f = null === m || void 0 === m ? void 0 : m.id,
                        b = null === m || void 0 === m ? void 0 : m.actions,
                        y = Object(a.useState)([]),
                        v = Object(p.a)(y, 2),
                        g = v[0],
                        h = v[1],
                        E = Ya().openOverlay,
                        x = xd(),
                        w = x.containerStyles;
                    Object(a.useEffect)((function() {
                        if (b) {
                            var e = 0,
                                t = [];
                            b.forEach((function(n) {
                                if (!(e >= 20)) {
                                    var a = n.text.trim().startsWith("> You") ? "input" : "output";
                                    "input" === a && e++, t.push({
                                        text: n.text,
                                        label: {
                                            version: 1,
                                            Reason: "",
                                            rating: ""
                                        },
                                        type: a,
                                        index: null === g || void 0 === g ? void 0 : g.length
                                    })
                                }
                            })), h([].concat(t))
                        }
                    }), [b]);
                    var j = function() {
                            d()
                        },
                        T = function() {
                            var e = Object(O.a)(S.a.mark((function e() {
                                return S.a.wrap((function(e) {
                                    for (;;) switch (e.prev = e.next) {
                                        case 0:
                                            return g.forEach((function(e) {
                                                return delete e.type
                                            })), e.next = 3, o({
                                                variables: {
                                                    input: g,
                                                    taskName: "actionDifficulty",
                                                    adventureId: f
                                                }
                                            });
                                        case 3:
                                            Ne({
                                                eventName: "contributor_studio_task_completed",
                                                variation: "actionDifficulty"
                                            }), d();
                                        case 5:
                                        case "end":
                                            return e.stop()
                                    }
                                }), e)
                            })));
                            return function() {
                                return e.apply(this, arguments)
                            }
                        }();
                    return Object(a.useLayoutEffect)((function() {
                        e.setOptions({
                            headerRight: function() {
                                return r.a.createElement(B.a, {
                                    style: {
                                        flexDirection: "row"
                                    }
                                }, r.a.createElement(_r, {
                                    accessibilityLabel: "Help",
                                    iconName: "help",
                                    onPress: function() {
                                        e.navigate("characterActionDifficultyHelp")
                                    }
                                }), r.a.createElement(_r, {
                                    accessibilityLabel: "Report",
                                    iconName: "alert",
                                    onPress: function() {
                                        return E("contentCardOptions", {
                                            content: m
                                        })
                                    }
                                }), r.a.createElement(_r, {
                                    accessibilityLabel: "Skip",
                                    iconType: "awesome",
                                    iconName: "step-forward",
                                    onPress: j
                                }), r.a.createElement(_r, {
                                    accessibilityLabel: "Submit",
                                    iconName: "send",
                                    onPress: T,
                                    style: {
                                        marginRight: 15
                                    }
                                }))
                            }
                        })
                    }), [e, g]), s || i ? r.a.createElement($t.a, {
                        contentContainerStyle: w.screen
                    }, r.a.createElement(Zl, {
                        style: {
                            paddingTop: 256
                        }
                    })) : r.a.createElement($t.a, {
                        contentContainerStyle: w.screen
                    }, r.a.createElement(B.a, {
                        style: x.divider
                    }, r.a.createElement(P.a, {
                        style: x.header
                    }, "Examples")), r.a.createElement(fd, {
                        RenderLabel: yd,
                        examples: pd
                    }), r.a.createElement(B.a, {
                        style: x.divider
                    }, r.a.createElement(P.a, {
                        style: x.header
                    }, "Label Task"), g && g.map((function(e) {
                        var t;
                        return r.a.createElement(B.a, {
                            key: Math.random()
                        }, "input" === (null === e || void 0 === e ? void 0 : e.type) && r.a.createElement(dd, {
                            style: x.labelCard,
                            turn: e,
                            RenderLabel: yd
                        }), "output" === (null === e || void 0 === e ? void 0 : e.type) && r.a.createElement(P.a, {
                            style: [x.text, x.output]
                        }, null === e || void 0 === e || null === (t = e.text) || void 0 === t ? void 0 : t.trim()))
                    }))))
                },
                Sd = function() {
                    var e = se(Se()),
                        t = e.textStyles,
                        n = e.userMode;
                    return r.a.createElement(r.a.Fragment, null, r.a.createElement(P.a, {
                        style: t.header
                    }, "Potential NSFW Warning"), r.a.createElement(P.a, {
                        style: [t.body, {
                            marginBottom: 10
                        }]
                    }, "When contributing you will see a random published story that has not been labelled NSFW. We do our best to filter out stories that users do not want to see. However, sometimes stories are not labeled appropriately as NSFW. While reading through these stories you may report stories the same way that you would report a story from the explore page."), r.a.createElement(P.a, {
                        style: [t.body, {
                            marginBottom: 10
                        }]
                    }, "To report an adventure simply click the ", r.a.createElement(qe, {
                        name: "alert",
                        size: 22,
                        color: n.text
                    }), " on the top right."), r.a.createElement(B.a, {
                        style: {
                            marginVertical: 10
                        }
                    }), r.a.createElement(P.a, {
                        style: t.header
                    }, "Skipping"), r.a.createElement(P.a, {
                        style: [t.body, {
                            marginBottom: 10
                        }]
                    }, "Press the ", r.a.createElement(qe, {
                        type: "awesome",
                        name: "step-forward",
                        size: 18,
                        color: n.text
                    }), " to skip a current story that you were given. There is no penalty for skipping, and you should feel comfortable for skipping for whatever reason. So feel free to skip until you find an adventure that you feel comfortable contributing on."), r.a.createElement(B.a, {
                        style: {
                            marginVertical: 10
                        }
                    }), r.a.createElement(P.a, {
                        style: t.header
                    }, "Help"), r.a.createElement(P.a, {
                        style: [t.body, {
                            marginBottom: 10
                        }]
                    }, "Remember that all labels will be reviewed by human reviewers before being trained on. If you have any questions or need specific help please reach out to us at science@aidungeon.io"))
                },
                Od = function() {
                    var e = Object(C.useNavigation)(),
                        t = se(Se()),
                        n = t.containerStyles,
                        a = t.textStyles,
                        o = t.userTheme;
                    return r.a.createElement(r.a.Fragment, null, r.a.createElement($t.a, {
                        contentContainerStyle: n.screen
                    }, r.a.createElement(B.a, {
                        style: n.content
                    }, r.a.createElement(B.a, {
                        style: {
                            marginVertical: 20
                        }
                    }), r.a.createElement(P.a, {
                        style: a.header
                    }, "Labeling the Difficulty of User Actions"), r.a.createElement(P.a, {
                        style: a.contribBody
                    }, "We're working on a new AI model that can determine if a character's action is easy, difficult, or impossible for any character in any world. This will help the AI to better understand how to react to crazy or impossible things that the player might try. The first version of this new model will be deployed in hardcore mode scenarios."), r.a.createElement(B.a, {
                        style: {
                            marginVertical: 10
                        }
                    }), r.a.createElement(P.a, {
                        style: a.header
                    }, "Goal"), r.a.createElement(P.a, {
                        style: a.contribBody
                    }, "We hope that with around 10,000 label contributions we should have enough data to train a model to accomplish this task."), r.a.createElement(B.a, {
                        style: {
                            marginVertical: 10
                        }
                    }), r.a.createElement(P.a, {
                        style: a.header
                    }, "How to Help Label"), r.a.createElement(P.a, {
                        style: a.contribBody
                    }, "Read through the adventure and try to find places where the user tries an action that you would think is difficult or impossible for the character to perform and fill out a brief explanation. You can also mark ones that are easy, but don't feel a need to mark all of those."), r.a.createElement(P.a, {
                        style: a.contribBody
                    }, "The explanation is important because we want the AI model to be able to explain to the user why their action was invalid."), r.a.createElement(P.a, {
                        style: a.contribBody
                    }, "Do your best to read through all the inputs and focus on marking those that would be difficult or impossible. You can also mark labels as easy, but don't feel the need to mark all the easy ones."), r.a.createElement(B.a, {
                        style: {
                            marginVertical: 10
                        }
                    }), r.a.createElement(P.a, {
                        style: a.header
                    }, "Submission"), r.a.createElement(P.a, {
                        style: a.contribBody
                    }, "Once you feel confident in your labelling press the submission button in the top right and the contribution will be sent. A new adventure will pull up and you can continue for as long as you want."), r.a.createElement(P.a, {
                        style: a.contribBody
                    }, "If you felt the story had nothing of value to label feel free to skip the scenario by pressing the skip symbol in the top right corner of the screen."), r.a.createElement(B.a, {
                        style: {
                            marginVertical: 10
                        }
                    }), r.a.createElement(P.a, {
                        style: a.header
                    }, "Examples"), r.a.createElement(P.a, {
                        style: [a.body, {
                            marginBottom: 5
                        }]
                    }, "Example reasons why an action might be difficult:"), r.a.createElement(P.a, {
                        style: [a.body, {
                            marginLeft: 20,
                            marginBottom: 15
                        }]
                    }, '- "Shoot an arrow into a dragon\'s eye" This would be a very difficult shot to make.\n- "Convince the king to give you his castle" The king is unlikely to give up such an important thing.\n- "Bandage the gaping wounds in your chest" Even if you\'re a doctor this is probably a difficult task to do on yourself.'), r.a.createElement(P.a, {
                        style: [a.body, {
                            marginBottom: 5
                        }]
                    }, "Example reasons why an action would be impossible:"), r.a.createElement(P.a, {
                        style: [a.body, {
                            marginLeft: 20,
                            marginBottom: 15
                        }]
                    }, '- "Cast fireball at the ogre." This would be impossible if you are a knight without magic instead of a wizard.\n- "Call for help on your cellphone" This wouldn\'t be possible if you\'re in a medieval world where cellphones don\'t exist.\n- "Become a God and defeat everyone." This is just not a realistic action.'), r.a.createElement(P.a, {
                        style: [a.body, {
                            marginBottom: 5
                        }]
                    }, "Example reasons why an action would be easy:"), r.a.createElement(P.a, {
                        style: [a.body, {
                            marginLeft: 20,
                            marginBottom: 15
                        }]
                    }, '- "Say "hello" to the ogre." Just saying things is easy\n- "Take a few steps forward" This is generally a very easy action.\n- "Look around you" This is also generally a very easy action.'), r.a.createElement(P.a, {
                        style: [a.body, {
                            marginBottom: 20
                        }]
                    }, "At the top of the labeling page you'll see several more examples that you can scroll through to help you understand what good labels look like."), r.a.createElement(Sd, null))), r.a.createElement(B.a, {
                        style: n.footer
                    }, r.a.createElement(vt, {
                        style: {
                            maxWidth: 600,
                            marginHorizontal: "auto",
                            marginTop: 20,
                            backgroundColor: o.primary
                        },
                        onPress: function() {
                            e.navigate("actionDifficulty")
                        }
                    }, "Start Labeling")))
                },
                jd = function() {
                    return {
                        label: {
                            fontSize: le.medium,
                            paddingVertical: 4
                        },
                        labelTextContainer: {
                            borderColor: de.placeholderText,
                            borderRadius: 5,
                            borderWidth: 2,
                            marginTop: 10,
                            marginBottom: 10
                        }
                    }
                },
                Cd = function(e) {
                    var t = e.updateLabel,
                        n = e.label,
                        a = jd();
                    return r.a.createElement(B.a, null, ["Name", "Information"].map((function(e, o) {
                        return r.a.createElement(ht, {
                            multiline: !0,
                            key: o,
                            placeholder: e,
                            textInputStyle: a.label,
                            value: n[e] || "",
                            containerStyle: a.labelTextContainer,
                            onChangeText: function(n) {
                                return t({
                                    field: e,
                                    value: n
                                })
                            }
                        })
                    })))
                };

            function Td() {
                var e = Object(x.a)(["\nmutation ($input: [TurnLabelInput], $taskName: String, $adventureId: String){\n  submitTurnLabels(input: $input, taskName: $taskName, adventureId: $adventureId)\n}\n"]);
                return Td = function() {
                    return e
                }, e
            }

            function kd() {
                var e = Object(x.a)(["\nquery ($queryParams: JSONObject){\n  randomAdventure (queryParams: $queryParams) {\n    id\n    actions {\n      id\n      text\n    }\n  }\n}\n"]);
                return kd = function() {
                    return e
                }, e
            }
            var Ad = [{
                    text: "Example 1\n",
                    turn: {
                        text: 'You shake hands with the pirate captain, who smiles at you. "It was good meeting you," he says.\n\n"How did you know my name?"\n\nBlackbeard shrugs his shoulders. "Just a hunch."',
                        type: "output",
                        label: {
                            Name: "Blackbeard",
                            Information: "Blackbeard is a pirate captain that you met."
                        }
                    }
                }, {
                    text: "Example 2\n",
                    turn: {
                        text: "As you turn around, you find yourself staring into the face of a very old man with white hair and beard. He wears spectacles, but they aren't your usual set.",
                        type: "output",
                        label: {
                            Name: "Old Man",
                            Information: "The old man you met has white hair and a beard. He also wears spectacles."
                        }
                    }
                }, {
                    text: "Example 3\n",
                    turn: {
                        text: '"A talking cat!? Am I dreaming?" You reply."This is no dream." The cat replies and then proceed to jump down from the branch."I am Kerberus, an Incubator and my purpose is to recruit girls with magical properties to become a Magical Girls in exchange of granting a single wish."',
                        type: "output",
                        label: {
                            Name: "Kerberus",
                            Information: "Kerberus who takes the form of a cat is an Incubator whose purpose is to recruit girls with magical properties to become a Magical Girls in exchange of granting a single wish."
                        }
                    }
                }, {
                    text: "Example 4\n",
                    turn: {
                        text: 'You walk into the village of hembrook, a young man carrying a rusty sword walks up to you and introduces himself as Alden, the city guard.\n"What buisness do you have here in hembrook?" he asks.',
                        type: "input",
                        label: {
                            Name: "Alden",
                            Information: "Alden is a young city guard, the only weapon he has is a rusty sword"
                        }
                    }
                }],
                Id = k()(kd()),
                Pd = k()(Td()),
                Ld = function() {
                    var e = se(Se()),
                        t = e.userMode,
                        n = e.fontSizes,
                        a = e.fonts;
                    return Object(g.a)(Object(g.a)({}, e), {}, {
                        divider: {
                            width: "80%"
                        },
                        text: {
                            fontFamily: a.body,
                            fontSize: n.small,
                            color: t.text,
                            marginTop: 20
                        },
                        header: {
                            color: t.text,
                            fontFamily: a.header,
                            fontSize: n.large,
                            borderBottomWidth: 1,
                            borderColor: t.border,
                            marginBottom: 15
                        }
                    })
                },
                Bd = function() {
                    var e = Object(C.useNavigation)(),
                        t = Object(u.useMutation)(Pd),
                        n = Object(p.a)(t, 2),
                        o = n[0],
                        i = n[1].loading,
                        l = Object(u.useQuery)(Id, {
                            variables: {
                                queryParams: {
                                    minDoActions: 8
                                }
                            },
                            fetchPolicy: "no-cache",
                            notifyOnNetworkStatusChange: !0
                        }),
                        c = l.data,
                        s = l.refetch,
                        d = l.loading,
                        m = null === c || void 0 === c ? void 0 : c.randomAdventure,
                        f = null === m || void 0 === m ? void 0 : m.id,
                        b = null === m || void 0 === m ? void 0 : m.actions,
                        y = Object(a.useState)([]),
                        v = Object(p.a)(y, 2),
                        g = v[0],
                        h = v[1],
                        E = Ya().openOverlay,
                        x = Ld(),
                        w = x.containerStyles;
                    Object(a.useEffect)((function() {
                        var e = null === b || void 0 === b ? void 0 : b.slice(0, 20).reduce((function(e, t) {
                            return e.push({
                                text: t.text,
                                label: {
                                    version: 1,
                                    Name: "",
                                    Information: ""
                                },
                                index: null === e || void 0 === e ? void 0 : e.length
                            }), e
                        }), []);
                        h(e)
                    }), [b]);
                    var j = function() {
                            s()
                        },
                        T = function() {
                            var e = Object(O.a)(S.a.mark((function e() {
                                return S.a.wrap((function(e) {
                                    for (;;) switch (e.prev = e.next) {
                                        case 0:
                                            return e.next = 2, o({
                                                variables: {
                                                    input: g,
                                                    taskName: "character",
                                                    adventureId: f
                                                }
                                            });
                                        case 2:
                                            Ne({
                                                eventName: "contributor_studio_task_completed",
                                                variation: "characterLabel"
                                            }), s();
                                        case 4:
                                        case "end":
                                            return e.stop()
                                    }
                                }), e)
                            })));
                            return function() {
                                return e.apply(this, arguments)
                            }
                        }();
                    return Object(a.useLayoutEffect)((function() {
                        e.setOptions({
                            headerRight: function() {
                                return r.a.createElement(B.a, {
                                    style: {
                                        flexDirection: "row"
                                    }
                                }, r.a.createElement(_r, {
                                    accessibilityLabel: "Help",
                                    iconName: "help",
                                    onPress: function() {
                                        e.navigate("characterHelp")
                                    }
                                }), r.a.createElement(_r, {
                                    accessibilityLabel: "Report",
                                    iconName: "alert",
                                    onPress: function() {
                                        return E("contentCardOptions", {
                                            content: m
                                        })
                                    }
                                }), r.a.createElement(_r, {
                                    accessibilityLabel: "Skip",
                                    iconType: "awesome",
                                    iconName: "step-forward",
                                    onPress: j
                                }), r.a.createElement(_r, {
                                    accessibilityLabel: "Submit",
                                    iconName: "send",
                                    onPress: T,
                                    style: {
                                        marginRight: 15
                                    }
                                }))
                            }
                        })
                    }), [e, g]), d || i ? r.a.createElement($t.a, {
                        contentContainerStyle: w.screen
                    }, r.a.createElement(Zl, {
                        style: {
                            paddingTop: 256
                        }
                    })) : r.a.createElement(r.a.Fragment, null, r.a.createElement($t.a, {
                        contentContainerStyle: w.screen
                    }, r.a.createElement(B.a, {
                        style: x.divider
                    }, r.a.createElement(P.a, {
                        style: x.header
                    }, "Examples")), r.a.createElement(fd, {
                        RenderLabel: Cd,
                        examples: Ad
                    }), r.a.createElement(B.a, {
                        style: x.divider
                    }, r.a.createElement(P.a, {
                        style: x.header
                    }, "Label Task"), g && g.map((function(e) {
                        return r.a.createElement(dd, {
                            turn: e,
                            RenderLabel: Cd,
                            key: Math.random()
                        })
                    })))))
                },
                Fd = function() {
                    var e = Object(C.useNavigation)(),
                        t = se(Se()),
                        n = t.containerStyles,
                        a = t.textStyles,
                        o = t.userTheme;
                    return r.a.createElement(r.a.Fragment, null, r.a.createElement($t.a, {
                        contentContainerStyle: n.screen
                    }, r.a.createElement(B.a, {
                        style: n.content
                    }, r.a.createElement(B.a, {
                        style: {
                            marginVertical: 20
                        }
                    }), r.a.createElement(P.a, {
                        style: a.header
                    }, "Label Adventures with Character Info"), r.a.createElement(P.a, {
                        style: a.contribBody
                    }, "We're working on a new model to help the AI remember interactions with NPCs. To do this we need your help to summarize specific interactions with NPCs so that our model can learn what's important to remember."), r.a.createElement(B.a, {
                        style: {
                            marginVertical: 20
                        }
                    }), r.a.createElement(P.a, {
                        style: a.header
                    }, "Goal"), r.a.createElement(P.a, {
                        style: a.contribBody
                    }, "We are hoping that with around 10,000 contributions of labelling that we will have sufficient data to train a model to accomplish this task."), r.a.createElement(B.a, {
                        style: {
                            marginVertical: 20
                        }
                    }), r.a.createElement(P.a, {
                        style: a.header
                    }, "How to Help Label"), r.a.createElement(P.a, {
                        style: a.contribBody
                    }, "As a contributor you can help us by labelling places in the story where characters are introduced with their name and important info about them that should be remembered. Some things to remember: It's very important to make sure that the character name is spelled the same throughout the story, please only add info for one character per turn. If no characters are referenced in the story please skip the story."), r.a.createElement(B.a, {
                        style: {
                            marginVertical: 10
                        }
                    }), r.a.createElement(P.a, {
                        style: a.header
                    }, "Submission"), r.a.createElement(P.a, {
                        style: a.contribBody
                    }, "Once you feel confident in your labelling press the submission button in the top right and the contribution will be sent."), r.a.createElement(B.a, {
                        style: {
                            marginVertical: 10
                        }
                    }), r.a.createElement(P.a, {
                        style: a.header
                    }, "Examples"), r.a.createElement(P.a, {
                        style: a.contribBody
                    }, 'For example, you may read an excerpt where the player meets an old man named Rodric who was a knight before he retired, but who now needs your help. You would label his name "Rodric" and his info as "Rodric is an old man you met who was once a knight before he retired. He asked you for help completing a quest."'), r.a.createElement(P.a, {
                        style: a.contribBody
                    }, "At the top of the labeling page you'll see several more examples that you can scroll through to help you understand what good labels look like."), r.a.createElement(Sd, null))), r.a.createElement(B.a, {
                        style: n.footer
                    }, r.a.createElement(vt, {
                        style: {
                            maxWidth: 600,
                            marginHorizontal: "auto",
                            marginTop: 20,
                            backgroundColor: o.primary
                        },
                        onPress: function() {
                            e.navigate("character")
                        }
                    }, "Start Labeling")))
                },
                zd = function() {
                    return {
                        label: {
                            fontSize: le.medium,
                            paddingVertical: 4
                        },
                        labelContainer: {
                            borderColor: de.placeholderText,
                            borderRadius: 5,
                            borderWidth: 2,
                            marginTop: 16,
                            marginBottom: 12
                        }
                    }
                },
                Md = function(e) {
                    var t = e.label,
                        n = e.updateLabel,
                        a = zd();
                    return r.a.createElement(ht, {
                        placeholder: "Quest",
                        textInputStyle: a.label,
                        containerStyle: a.labelContainer,
                        value: t ? null === t || void 0 === t ? void 0 : t.Quest : "",
                        onChangeText: function(e) {
                            return n({
                                value: e,
                                field: "Quest"
                            })
                        }
                    })
                };

            function Rd() {
                var e = Object(x.a)(["\nmutation ($input: [TurnLabelInput], $taskName: String, $adventureId: String){\n  submitTurnLabels(input: $input, taskName: $taskName, adventureId: $adventureId)\n}\n"]);
                return Rd = function() {
                    return e
                }, e
            }

            function Dd() {
                var e = Object(x.a)(["\nquery ($queryParams: JSONObject){\n  randomAdventure (queryParams: $queryParams) {\n    id\n    actions {\n      id\n      text\n      type\n    }\n  }\n}\n"]);
                return Dd = function() {
                    return e
                }, e
            }
            var Nd = [{
                    text: "Example 1\n",
                    turn: {
                        text: 'You run back to the house and open up the basement door. You can smell smoke coming from inside.\n\n"Let\'s go upstairs and investigate." You shout. The Silver Hog runs upstairs and finds that everything is burnt down to ash. He comes back down and yells to you, "We\'ve got to find out what happened!"',
                        type: "output",
                        label: {
                            Quest: "figure out why the fire started"
                        }
                    }
                }, {
                    text: "Example 2\n",
                    turn: {
                        text: "You look up and see Mount Olympus, it looks windy and treacherous. You feel a burning desire within you to reach the top.",
                        type: "output",
                        label: {
                            Quest: "Hike to the top of Mount Olympus"
                        }
                    }
                }, {
                    text: "Example 3\n",
                    turn: {
                        text: '"A wise choice of words," the ghost says. "In order to put me to rest you must travel back in time to when the necromancers were still alive and kill them before they can perform the ritual that creates the ghosts like me."',
                        type: "output",
                        label: {
                            Quest: "go back in time and kill the necromancers"
                        }
                    }
                }],
                Vd = k()(Dd()),
                Wd = k()(Rd()),
                Hd = function() {
                    var e = se(Se()),
                        t = e.userMode,
                        n = e.fontSizes,
                        a = e.fonts;
                    return Object(g.a)(Object(g.a)({}, e), {}, {
                        divider: {
                            width: "80%"
                        },
                        header: {
                            color: de.text,
                            fontFamily: a.header,
                            fontSize: n.large,
                            borderBottomWidth: 1,
                            borderColor: de.border,
                            marginBottom: 15
                        },
                        text: {
                            fontFamily: a.body,
                            fontSize: n.small,
                            color: t.text,
                            marginTop: 20
                        }
                    })
                },
                Ud = function() {
                    var e = Object(C.useNavigation)(),
                        t = Object(u.useMutation)(Wd),
                        n = Object(p.a)(t, 2),
                        o = n[0],
                        i = n[1].loading,
                        l = Object(u.useQuery)(Vd, {
                            fetchPolicy: "no-cache",
                            notifyOnNetworkStatusChange: !0
                        }),
                        c = l.data,
                        s = l.refetch,
                        d = l.loading,
                        m = null === c || void 0 === c ? void 0 : c.randomAdventure,
                        f = null === m || void 0 === m ? void 0 : m.id,
                        b = null === m || void 0 === m ? void 0 : m.actions,
                        y = Object(a.useState)([]),
                        v = Object(p.a)(y, 2),
                        g = v[0],
                        h = v[1],
                        E = Ya().openOverlay,
                        x = Hd(),
                        w = x.containerStyles;
                    Object(a.useEffect)((function() {
                        var e = null === b || void 0 === b ? void 0 : b.slice(0, 100).reduce((function(e, t) {
                            return e.push({
                                text: t.text,
                                label: {
                                    version: 2
                                },
                                index: null === e || void 0 === e ? void 0 : e.length,
                                type: "continue" === t.type ? "output" : "input"
                            }), e
                        }), []);
                        h(e)
                    }), [b]);
                    var j = function() {
                            s()
                        },
                        T = function() {
                            var e = Object(O.a)(S.a.mark((function e() {
                                return S.a.wrap((function(e) {
                                    for (;;) switch (e.prev = e.next) {
                                        case 0:
                                            return g.forEach((function(e) {
                                                return delete e.type
                                            })), e.next = 3, o({
                                                variables: {
                                                    input: g,
                                                    taskName: "questGeneration",
                                                    adventureId: f
                                                }
                                            });
                                        case 3:
                                            Ne({
                                                eventName: "contributor_studio_task_completed",
                                                variation: "questGenerated"
                                            }), s();
                                        case 5:
                                        case "end":
                                            return e.stop()
                                    }
                                }), e)
                            })));
                            return function() {
                                return e.apply(this, arguments)
                            }
                        }();
                    return Object(a.useLayoutEffect)((function() {
                        e.setOptions({
                            headerRight: function() {
                                return r.a.createElement(B.a, {
                                    style: {
                                        flexDirection: "row"
                                    }
                                }, r.a.createElement(_r, {
                                    accessibilityLabel: "Help",
                                    iconName: "help",
                                    onPress: function() {
                                        e.navigate("questGenerationHelp")
                                    }
                                }), r.a.createElement(_r, {
                                    accessibilityLabel: "Report",
                                    iconName: "alert",
                                    onPress: function() {
                                        return E("contentCardOptions", {
                                            content: m
                                        })
                                    }
                                }), r.a.createElement(_r, {
                                    accessibilityLabel: "Skip",
                                    iconType: "awesome",
                                    iconName: "step-forward",
                                    onPress: j
                                }), r.a.createElement(_r, {
                                    accessibilityLabel: "Submit",
                                    iconName: "send",
                                    onPress: T,
                                    style: {
                                        marginRight: 15
                                    }
                                }))
                            }
                        })
                    }), [e, g]), d || i ? r.a.createElement($t.a, {
                        contentContainerStyle: w.screen
                    }, r.a.createElement(Zl, {
                        style: {
                            paddingTop: 256
                        }
                    })) : r.a.createElement(r.a.Fragment, null, r.a.createElement($t.a, {
                        contentContainerStyle: w.screen
                    }, r.a.createElement(B.a, {
                        style: x.divider
                    }, r.a.createElement(P.a, {
                        style: x.header
                    }, "Examples")), r.a.createElement(fd, {
                        RenderLabel: Md,
                        examples: Nd
                    }), r.a.createElement(B.a, {
                        style: x.divider
                    }, r.a.createElement(P.a, {
                        style: x.header
                    }, "Label Task"), g && g.map((function(e) {
                        var t;
                        return r.a.createElement(B.a, {
                            key: Math.random()
                        }, "output" === (null === e || void 0 === e ? void 0 : e.type) && r.a.createElement(dd, {
                            version: 2,
                            style: x.labelCard,
                            turn: e,
                            RenderLabel: Md
                        }), "input" === (null === e || void 0 === e ? void 0 : e.type) && r.a.createElement(P.a, {
                            style: [x.text, x.output]
                        }, null === e || void 0 === e || null === (t = e.text) || void 0 === t ? void 0 : t.trim()))
                    })))))
                },
                qd = function() {
                    var e = Object(C.useNavigation)(),
                        t = se(Se()),
                        n = t.containerStyles,
                        a = t.textStyles,
                        o = t.userTheme;
                    return r.a.createElement(r.a.Fragment, null, r.a.createElement($t.a, {
                        contentContainerStyle: n.screen
                    }, r.a.createElement(B.a, {
                        style: n.content
                    }, r.a.createElement(B.a, {
                        style: {
                            marginVertical: 20
                        }
                    }), r.a.createElement(P.a, {
                        style: a.header
                    }, "Label Adventures with Quests"), r.a.createElement(P.a, {
                        style: [a.body, {
                            marginBottom: 10
                        }]
                    }, "Imagine talking to an old man who says he needs help rescuing his daughter. It would be awesome if the AI detected that you were just given a quest and gave you a quest popup! We're working on making that a reality and need your help to label examples for the AI to learn from."), r.a.createElement(B.a, {
                        style: {
                            marginVertical: 20
                        }
                    }), r.a.createElement(P.a, {
                        style: a.header
                    }, "Goal"), r.a.createElement(P.a, {
                        style: [a.body, {
                            marginBottom: 10
                        }]
                    }, "We are hoping that with around 10,000 contributions of labelling that we will have sufficient data to train a model to accomplish this task."), r.a.createElement(B.a, {
                        style: {
                            marginVertical: 20
                        }
                    }), r.a.createElement(P.a, {
                        style: a.header
                    }, "How to Help Label"), r.a.createElement(P.a, {
                        style: a.contribBody
                    }, 'Read through the adventure and find places where it naturally feels like the player just got a quest. Then mark that turn and write what the quest would be starting with a verb. Ex. "save the old man\'s daughter" or "slay the dragon". You can add multiple quests per adventure that you label.'), r.a.createElement(P.a, {
                        style: a.contribBody
                    }, "In general quests are objectives that the player receives either from another character or something the character clearly feels called to do. New quests may be somewhat sparse. Feel free to skip turns or stories that you can't find a new quest in."), r.a.createElement(B.a, {
                        style: {
                            marginVertical: 10
                        }
                    }), r.a.createElement(P.a, {
                        style: a.header
                    }, "Submission"), r.a.createElement(P.a, {
                        style: a.contribBody
                    }, "Once you feel confident in your labelling press the submission button in the top right and the contribution will be sent. A new adventure will pull up and you can continue for as long as you want."), r.a.createElement(Sd, null))), r.a.createElement(B.a, {
                        style: n.footer
                    }, r.a.createElement(vt, {
                        style: {
                            maxWidth: 600,
                            marginHorizontal: "auto",
                            marginTop: 20,
                            backgroundColor: o.primary
                        },
                        onPress: function() {
                            e.navigate("questGeneration")
                        }
                    }, "Start Labeling")))
                },
                Gd = function(e) {
                    var t, n, o = e.navigation,
                        i = e.route,
                        l = null === i || void 0 === i || null === (t = i.params) || void 0 === t ? void 0 : t.initialBaseRoute,
                        c = null === i || void 0 === i || null === (n = i.params) || void 0 === n ? void 0 : n.initialRouteParams;
                    return Object(a.useEffect)((function() {
                        null === o || void 0 === o || o.replace(l, c)
                    }), []), r.a.createElement(B.a, {
                        style: Yd.loading
                    }, r.a.createElement(bt.a, {
                        size: "small"
                    }))
                },
                Yd = I.a.create({
                    loading: {
                        flex: 1,
                        backgroundColor: "black",
                        justifyContent: "center",
                        alignItems: "center"
                    }
                }),
                Qd = n(510);

            function $d() {
                var e = Object(x.a)(["\nmutation ($input: UserInput) {\n  updateUser(input: $input) {\n    id\n    shouldPromptReview\n  }\n}\n"]);
                return $d = function() {
                    return e
                }, e
            }

            function _d() {
                var e = Object(x.a)(["\n    fragment ReviewUserControllerFragment on User {\n      id\n      username\n      shouldPromptReview\n    }\n  "]);
                return _d = function() {
                    return e
                }, e
            }

            function Xd() {
                var e = Object(x.a)(["\n    fragment ReviewAdventureControllerFragment on Adventure {\n      id\n      actionCount\n    }\n  "]);
                return Xd = function() {
                    return e
                }, e
            }
            var Jd = function(e) {
                var t = e.content,
                    n = e.user,
                    r = null === n || void 0 === n ? void 0 : n.shouldPromptReview,
                    o = Object(u.useMutation)(Kd),
                    i = Object(p.a)(o, 1)[0],
                    l = Ya().openOverlay,
                    c = null === t || void 0 === t ? void 0 : t.actionCount;
                return Object(a.useEffect)((function() {
                    if (!r) return function() {};
                    if (!(null === n || void 0 === n ? void 0 : n.username) && 13 === c) return i({
                        variables: {
                            input: {
                                promptedToReviewAt: new Date
                            }
                        }
                    }), Ne("prompt_login"), l("login", {
                        title: "Login to save your progress!"
                    });
                    if (13 !== c || "web" === A.a.OS) return function() {};
                    rt.a.dismiss();
                    zn.a.alert("Rate AI Dungeon", "If you enjoy playing AI Dungeon, would you mind taking a minute to rate our app?\n\nIt won't take more than a minute and means a lot to us.\n\nThanks for your support!", [{
                        text: "Not Now",
                        onPress: function() {
                            i({
                                variables: {
                                    input: {
                                        promptedToReviewAt: new Date
                                    }
                                }
                            }), Ne("prompt_review_not_now")
                        }
                    }, {
                        text: "Rate App",
                        onPress: function() {
                            i({
                                variables: {
                                    input: {
                                        reviewedAt: new Date,
                                        promptedToReviewAt: new Date
                                    }
                                }
                            }), Qd.a.rate({
                                AppleAppID: "1491268416",
                                GooglePackageName: "com.aidungeon",
                                preferInApp: !0,
                                openAppStoreIfInAppFails: !0
                            }), Ne("prompt_review_rated")
                        }
                    }])
                }), [r, c]), null
            };
            Jd.fragments = {
                adventure: k()(Xd()),
                user: k()(_d())
            };
            var Kd = k()($d()),
                Zd = Jd,
                em = function() {
                    var e = se(Se()),
                        t = e.userMode;
                    return Object(g.a)(Object(g.a)({}, e), {}, {
                        commandContainer: {
                            flexWrap: "wrap",
                            flexDirection: "row",
                            marginBottom: 5
                        },
                        buttonStyle: {
                            backgroundColor: t.secondaryBackground,
                            padding: 8,
                            borderRadius: 10,
                            marginHorizontal: 5
                        }
                    })
                },
                tm = function(e) {
                    var t = e.loading,
                        n = e.onUndo,
                        a = e.onRedo,
                        o = e.onAlter,
                        i = e.onRemember,
                        l = e.onRetry,
                        c = e.onViewWorld,
                        u = e.mode,
                        s = (e.choicesMode, e.setChoicesMode, e.showChoicesButton, e.settings),
                        d = em(),
                        m = s.hiddenCommands;
                    return r.a.createElement(B.a, {
                        style: d.commandContainer
                    }, (!m || !(null === m || void 0 === m ? void 0 : m.world)) && r.a.createElement(_r, {
                        disabled: t || !l,
                        onPress: t ? null : c,
                        iconName: "earth",
                        accessibilityLabel: "view world",
                        style: d.buttonStyle
                    }), (!m || !(null === m || void 0 === m ? void 0 : m.remember)) && r.a.createElement(_r, {
                        disabled: t || !i,
                        onPress: t ? null : i,
                        iconName: "pin",
                        accessibilityLabel: "remember",
                        style: d.buttonStyle
                    }), "adventure" !== u && (!m || !(null === m || void 0 === m ? void 0 : m.alter)) && r.a.createElement(_r, {
                        disabled: t || !o,
                        onPress: t ? null : o,
                        iconName: "pencil",
                        accessibilityLabel: "alter",
                        style: d.buttonStyle
                    }), (!m || !(null === m || void 0 === m ? void 0 : m.undo)) && r.a.createElement(_r, {
                        disabled: t || !n,
                        onPress: t ? null : n,
                        iconName: "undo",
                        accessibilityLabel: "undo",
                        style: d.buttonStyle
                    }), (!m || !(null === m || void 0 === m ? void 0 : m.redo)) && r.a.createElement(_r, {
                        disabled: t || !a,
                        onPress: t ? null : a,
                        iconName: "redo",
                        accessibilityLabel: "redo",
                        style: d.buttonStyle
                    }), (!m || !(null === m || void 0 === m ? void 0 : m.restart)) && r.a.createElement(_r, {
                        disabled: t || !l,
                        onPress: t ? null : function() {
                            return !t && l ? l() : null
                        },
                        iconName: "restart",
                        accessibilityLabel: "retry",
                        style: d.buttonStyle
                    }))
                },
                nm = function() {
                    var e = se(Se()),
                        t = e.userMode,
                        n = e.fonts,
                        a = e.fontSizes;
                    return Object(g.a)(Object(g.a)({}, e), {}, {
                        tipContainer: {
                            alignSelf: "center",
                            width: "100%"
                        },
                        tipText: {
                            fontFamily: n.body,
                            fontSize: a.xSmall,
                            textAlign: "center",
                            color: t.secondaryText,
                            margin: 5
                        }
                    })
                },
                am = function() {
                    var e = Object(a.useState)(0),
                        t = Object(p.a)(e, 2),
                        n = t[0],
                        o = t[1],
                        i = Object(a.useRef)(new d.a.Value(0)).current,
                        l = nm(),
                        c = Object(a.useRef)(n),
                        u = Object(a.useCallback)((function(e) {
                            c.current = e, o(e)
                        }));
                    Object(a.useEffect)((function() {
                        var e = setInterval((function() {
                            return s(c)
                        }), 15e3);
                        return function() {
                            return clearInterval(e)
                        }
                    }));
                    var s = function() {
                            var e = Object(O.a)(S.a.mark((function e(t) {
                                var n;
                                return S.a.wrap((function(e) {
                                    for (;;) switch (e.prev = e.next) {
                                        case 0:
                                            return e.next = 2, m(0);
                                        case 2:
                                            return n = t.current + 1 < (null === Er || void 0 === Er ? void 0 : Er.length) ? t.current + 1 : 0, u(n), e.next = 6, m(1);
                                        case 6:
                                        case "end":
                                            return e.stop()
                                    }
                                }), e)
                            })));
                            return function(t) {
                                return e.apply(this, arguments)
                            }
                        }(),
                        m = function(e) {
                            return new Promise((function(t) {
                                d.a.timing(i, {
                                    toValue: e,
                                    duration: 750,
                                    useNativeDriver: !0
                                }).start(t)
                            }))
                        };
                    return r.a.createElement(d.a.View, {
                        style: [l.tipContainer, {
                            opacity: i
                        }]
                    }, r.a.createElement(P.a, {
                        style: l.tipText
                    }, "Tip: ".concat(Er[c.current])))
                };

            function rm() {
                var e = Object(x.a)(["\n    fragment ChoiceControllerFragment on GameSettings {\n      id\n      showTips\n      showCommands\n      showModes\n    }\n  "]);
                return rm = function() {
                    return e
                }, e
            }
            var om = function(e) {
                var t = im(),
                    n = e.loading,
                    a = e.error,
                    o = e.message,
                    i = e.onUndo,
                    l = e.onRedo,
                    c = e.onAlter,
                    u = e.onRemember,
                    s = e.onRetry,
                    d = e.onSelectChoice,
                    m = e.onViewWorld,
                    f = e.mode,
                    b = e.disableButtons,
                    y = void 0 !== b && b,
                    v = e.settings,
                    g = e.choices,
                    p = e.showChoicesButton,
                    h = e.choicesMode,
                    E = e.setChoicesMode,
                    x = [].concat(Object(mr.a)(null !== g && void 0 !== g ? g : []), ["explore the dark forest", "find a mysterious book", "meet a charming stranger", "prepare for battle"]).slice(0, 4);
                return r.a.createElement(Qr.a, {
                    behavior: "ios" === A.a.OS ? "padding" : void 0,
                    keyboardVerticalOffset: N({
                        default: 80,
                        iPhoneX: 10
                    })
                }, !!a && r.a.createElement(B.a, {
                    style: t.messageContainer
                }, r.a.createElement(P.a, {
                    style: t.errorMessage
                }, a)), !!o && r.a.createElement(B.a, {
                    style: t.messageContainer
                }, r.a.createElement(P.a, {
                    style: t.message
                }, o)), !!(null === v || void 0 === v ? void 0 : v.showTips) && r.a.createElement(am, null), !!(null === v || void 0 === v ? void 0 : v.showCommands) && !("hardcore" === f) && r.a.createElement(tm, {
                    loading: n || y,
                    onUndo: i,
                    mode: f,
                    onRedo: l,
                    choicesMode: h,
                    setChoicesMode: E,
                    onAlter: c,
                    onRemember: u,
                    onRetry: s,
                    onViewWorld: m,
                    showChoicesButton: p,
                    settings: v
                }), r.a.createElement(r.a.Fragment, null, !n && g && r.a.createElement(B.a, {
                    style: {
                        alignSelf: "flex-start",
                        marginTop: 15,
                        marginLeft: 5,
                        width: "100%"
                    }
                }, "web" === A.a.OS && r.a.createElement(r.a.Fragment, null, r.a.createElement(B.a, {
                    style: {
                        flexDirection: "row"
                    }
                }, r.a.createElement(L.a, {
                    onPress: function() {
                        d(x[0])
                    },
                    style: [t.choiceButton, {
                        marginRight: "2%"
                    }]
                }, r.a.createElement(Dr, {
                    settings: v,
                    style: {
                        marginLeft: 10
                    },
                    animateTyping: !1,
                    text: "".concat(x[0])
                })), r.a.createElement(L.a, {
                    onPress: function() {
                        d(x[1])
                    },
                    style: t.choiceButton
                }, r.a.createElement(Dr, {
                    settings: v,
                    style: {
                        marginLeft: 10
                    },
                    animateTyping: !1,
                    text: "".concat(x[1])
                }))), r.a.createElement(B.a, {
                    style: {
                        flexDirection: "row",
                        marginBottom: 20
                    }
                }, r.a.createElement(L.a, {
                    onPress: function() {
                        d(x[2])
                    },
                    style: [t.choiceButton, {
                        marginRight: "2%"
                    }]
                }, r.a.createElement(Dr, {
                    settings: v,
                    style: {
                        marginLeft: 10
                    },
                    animateTyping: !1,
                    text: "".concat(x[2])
                })), r.a.createElement(L.a, {
                    onPress: function() {
                        d(x[3])
                    },
                    style: t.choiceButton
                }, r.a.createElement(Dr, {
                    settings: v,
                    style: {
                        marginLeft: 10
                    },
                    animateTyping: !1,
                    text: "".concat(x[3])
                })))), "web" !== A.a.OS && r.a.createElement(r.a.Fragment, null, x.map((function(e, n) {
                    return r.a.createElement(L.a, {
                        key: n,
                        onPress: function() {
                            d(e)
                        },
                        style: [t.choiceButton, {
                            width: "100%"
                        }]
                    }, r.a.createElement(Dr, {
                        settings: v,
                        style: {
                            marginLeft: 10
                        },
                        animateTyping: !1,
                        text: "".concat(n + 1, ") ").concat(e)
                    }))
                })))), (!g || !!n) && r.a.createElement(bt.a, {
                    style: {
                        marginBottom: 20
                    },
                    color: "white",
                    size: 60
                })))
            };
            om.fragments = {
                gameSettings: k()(rm())
            };
            var im = function() {
                    var e = se(Se()),
                        t = e.userMode,
                        n = e.fontSizes,
                        a = e.fonts;
                    return Object(g.a)(Object(g.a)({}, e), {}, {
                        messageContainer: {
                            alignSelf: "center",
                            width: "100%"
                        },
                        choiceButton: {
                            borderWidth: 1.5,
                            borderRadius: 10,
                            paddingRight: 10,
                            borderColor: t.secondaryBackground,
                            marginBottom: 10,
                            width: "48%",
                            flexDirection: "row",
                            alignItems: "center"
                        },
                        errorMessage: {
                            fontFamily: a.body,
                            fontSize: n.small,
                            textAlign: "center",
                            color: t.alertText,
                            marginTop: 10
                        },
                        message: {
                            fontFamily: a.body,
                            fontSize: n.small,
                            textAlign: "center",
                            color: t.text,
                            marginTop: 10
                        },
                        inputContainer: {
                            flex: 1,
                            flexDirection: "row",
                            borderWidth: 1.5,
                            borderRadius: 8,
                            marginRight: 10,
                            borderColor: t.secondaryBorder,
                            backgroundColor: t.secondaryBackground,
                            minHeight: 45
                        },
                        inputLine: {
                            flexDirection: "row",
                            width: "100%",
                            marginBottom: N({
                                default: 20,
                                iPhoneX: 25,
                                tablet: 15,
                                tabletLarge: 15
                            })
                        },
                        inputLoading: {
                            marginLeft: 10,
                            marginTop: N({
                                default: 9,
                                iPhone5: 10,
                                android: 11,
                                tablet: 12
                            }),
                            marginRight: N({
                                default: 9,
                                iPhone5: 10,
                                android: 11
                            })
                        },
                        submitButton: {
                            marginRight: 5
                        },
                        inputButton: {
                            alignSelf: "center",
                            marginLeft: 8,
                            marginVertical: 5,
                            height: 30,
                            width: "auto",
                            borderRadius: 5
                        },
                        inputButtonText: {
                            textTransform: "none",
                            fontSize: n.small
                        }
                    })
                },
                lm = function() {
                    var e = se(Se()),
                        t = e.userMode;
                    return Object(g.a)(Object(g.a)({}, e), {}, {
                        textInput: {
                            flex: 1,
                            fontFamily: ie.body,
                            fontSize: le.small,
                            color: t.text,
                            lineHeight: N({
                                default: 24,
                                iPhone5: 17
                            }),
                            paddingHorizontal: N({
                                default: 7,
                                web: 12
                            }),
                            paddingTop: N({
                                default: 9,
                                iPhone5: 10,
                                android: 11,
                                tablet: 12
                            }),
                            paddingBottom: N({
                                default: 12,
                                iPhone5: 12,
                                android: 11
                            }),
                            borderRadius: 5
                        },
                        rememberLimit: {
                            position: "absolute",
                            bottom: -20,
                            right: 0,
                            color: t.text
                        },
                        tall: {
                            height: 150
                        }
                    })
                },
                cm = function(e) {
                    var t, n = e.onChangeText,
                        a = e.inputType,
                        o = e.onKeyPress,
                        i = e.scrollToEnd,
                        l = e.input,
                        c = e.tallInputWindow,
                        u = (e.forceFocus, e.multiline),
                        s = void 0 === u || u,
                        d = e.maxLength,
                        m = void 0 === d ? 4e3 : d,
                        f = lm(),
                        b = c ? [f.textInput, f.tall] : [f.textInput],
                        y = {
                            Say: "What do you say?",
                            Do: "What do you do?",
                            Story: "What happens next?",
                            remember: "What should the AI remember?",
                            authorsNote: "Style hint: 'Use a very descriptive writing style'"
                        };
                    return r.a.createElement(r.a.Fragment, null, r.a.createElement(gt.a, {
                        multiline: s,
                        scrollEnabled: !0,
                        autoCorrect: !0,
                        disableFullscreenUI: !0,
                        placeholder: y[a] || "...",
                        placeholderTextColor: de.placeholderText,
                        onChangeText: n,
                        onKeyPress: o,
                        accessibilityLabel: y[a] || "...",
                        onFocus: i,
                        value: l,
                        style: b,
                        maxheight: 256,
                        maxLength: m
                    }), "remember" === a && r.a.createElement(P.a, {
                        style: f.rememberLimit
                    }, "Remember limit: ", null === l || void 0 === l || null === (t = l.replace(/^#.*?(Unstructured[^\n]*|but do not (?:remove|change) this line(?: \(c: ?\d+\))?)\n/gm, "")) || void 0 === t ? void 0 : t.length, "/1000"))
                };

            function um() {
                var e = Object(x.a)(["\n    fragment CommandControllerFragment on GameSettings {\n      id\n      showTips\n      showCommands\n      showModes\n      hiddenCommands\n    }\n  "]);
                return um = function() {
                    return e
                }, e
            }
            var sm = function(e) {
                var t = dm(),
                    n = e.loading,
                    a = e.error,
                    o = e.message,
                    i = e.scrollToEnd,
                    l = e.input,
                    c = e.tallInputWindow,
                    u = e.onChangeText,
                    s = e.onKeyPress,
                    d = e.onUndo,
                    m = e.onRedo,
                    f = e.onAlter,
                    b = e.onRemember,
                    y = e.onRetry,
                    v = e.onViewWorld,
                    g = e.inputType,
                    p = e.rotateInputType,
                    h = e.onSubmit,
                    E = e.choicesMode,
                    x = e.setChoicesMode,
                    w = e.showChoicesButton,
                    S = e.mode,
                    O = e.disableButtons,
                    j = void 0 !== O && O,
                    C = e.settings;
                return r.a.createElement(Qr.a, {
                    behavior: "ios" === A.a.OS ? "padding" : void 0,
                    keyboardVerticalOffset: N({
                        default: 80,
                        iPhoneX: 10
                    })
                }, !!a && r.a.createElement(B.a, {
                    style: t.messageContainer
                }, r.a.createElement(P.a, {
                    style: t.errorMessage
                }, a)), !!o && r.a.createElement(B.a, {
                    style: t.messageContainer
                }, r.a.createElement(P.a, {
                    style: t.message
                }, o)), !!(null === C || void 0 === C ? void 0 : C.showTips) && r.a.createElement(am, null), !!(null === C || void 0 === C ? void 0 : C.showCommands) && "hardcore" !== S && "tutorial" !== S && r.a.createElement(tm, {
                    loading: n || j,
                    onUndo: d,
                    mode: S,
                    onRedo: m,
                    choicesMode: E,
                    setChoicesMode: x,
                    onAlter: f,
                    onRemember: b,
                    onRetry: y,
                    onViewWorld: v,
                    showChoicesButton: w,
                    settings: C
                }), r.a.createElement(B.a, {
                    style: t.inputLine
                }, r.a.createElement(B.a, {
                    style: t.inputContainer
                }, !!(null === C || void 0 === C ? void 0 : C.showModes) && !!g && r.a.createElement(Or, {
                    start: {
                        x: 0,
                        y: 0
                    },
                    end: {
                        x: 1,
                        y: 0
                    },
                    colors: [t.userTheme.primary, t.userTheme.secondary],
                    style: t.inputButton
                }, r.a.createElement(Cl, {
                    style: {
                        backgroundColor: de.clear,
                        height: 30,
                        width: "auto"
                    },
                    textStyle: [t.inputButtonText, {
                        color: t.userTheme.text
                    }],
                    onPress: p,
                    value: "".concat(g)
                })), r.a.createElement(cm, {
                    inputType: g,
                    onChangeText: u,
                    onKeyPress: s,
                    scrollToEnd: i,
                    input: l,
                    tallInputWindow: c
                })), !!n && r.a.createElement(bt.a, {
                    color: "white",
                    size: "large"
                }), !n && r.a.createElement(_r, {
                    style: t.submitButton,
                    iconName: "send",
                    onPress: h,
                    accessibilityLabel: "Submit"
                })))
            };
            sm.fragments = {
                gameSettings: k()(um())
            };
            var dm = function() {
                    var e = se(Se()),
                        t = e.userMode,
                        n = e.fontSizes,
                        a = e.fonts;
                    return Object(g.a)(Object(g.a)({}, e), {}, {
                        messageContainer: {
                            alignSelf: "center",
                            width: "100%"
                        },
                        choiceButton: {
                            borderWidth: 1.5,
                            borderRadius: 10,
                            paddingRight: 10,
                            borderColor: t.secondaryBackground,
                            marginBottom: 10,
                            width: "48%",
                            flexDirection: "row",
                            alignItems: "center"
                        },
                        errorMessage: {
                            fontFamily: a.body,
                            fontSize: n.small,
                            textAlign: "center",
                            color: t.alertText,
                            marginTop: 10
                        },
                        message: {
                            fontFamily: a.body,
                            fontSize: n.small,
                            textAlign: "center",
                            color: t.text,
                            marginTop: 10
                        },
                        inputContainer: {
                            flex: 1,
                            flexDirection: "row",
                            borderWidth: 1.5,
                            borderRadius: 8,
                            marginRight: 10,
                            borderColor: t.secondaryBorder,
                            backgroundColor: t.secondaryBackground,
                            minHeight: 45
                        },
                        inputLine: {
                            flexDirection: "row",
                            width: "100%",
                            marginBottom: N({
                                default: 20,
                                iPhoneX: 25,
                                tablet: 15,
                                tabletLarge: 15
                            })
                        },
                        inputLoading: {
                            marginLeft: 10,
                            marginTop: N({
                                default: 9,
                                iPhone5: 10,
                                android: 11,
                                tablet: 12
                            }),
                            marginRight: N({
                                default: 9,
                                iPhone5: 10,
                                android: 11
                            })
                        },
                        submitButton: {
                            marginRight: 5
                        },
                        inputButton: {
                            alignSelf: "center",
                            marginLeft: 8,
                            marginVertical: 5,
                            height: 30,
                            width: "auto",
                            borderRadius: 5
                        },
                        inputButtonText: {
                            textTransform: "none",
                            fontSize: n.small
                        }
                    })
                },
                mm = sm;

            function fm() {
                var e = Object(x.a)(["\n    fragment DeathControllerFragment on Adventure {\n      id\n      publicId\n      mode\n      died\n    }\n  "]);
                return fm = function() {
                    return e
                }, e
            }
            var bm = function(e) {
                var t = e.content,
                    n = e.setLocked,
                    o = e.setMessage,
                    i = Ya().openOverlay,
                    l = null === t || void 0 === t ? void 0 : t.publicId,
                    c = null === t || void 0 === t ? void 0 : t.died,
                    u = null === t || void 0 === t ? void 0 : t.mode;
                return Object(a.useEffect)((function() {
                    c && ("hardcore" === u && n(!0), o("You have died and your adventure is at an end."), i("death", {
                        publicId: l
                    }))
                }), [l, c, u]), r.a.createElement(r.a.Fragment, null)
            };
            bm.fragments = {
                adventure: k()(fm())
            };
            var ym = bm;

            function vm() {
                var e = Object(x.a)(["\n  mutation ($input: ActionInput){\n    addAction(input: $input) {\n      time\n      message\n    }\n  }\n"]);
                return vm = function() {
                    return e
                }, e
            }

            function gm() {
                var e = Object(x.a)(["\n  mutation ($publicId: String!) {\n    suggestActions(publicId: $publicId) {\n      id\n      choices\n    }\n  }\n"]);
                return gm = function() {
                    return e
                }, e
            }

            function pm() {
                var e = Object(x.a)(["\n    fragment ActionAdventureControllerFragment on Adventure {\n      id\n      publicId\n      actionCount\n      choices\n      error\n      mode\n      thirdPerson\n      userId\n      worldId\n      characters {\n        id\n        userId\n        name\n      }\n      ...DeathControllerFragment\n    }\n    ", "\n  "]);
                return pm = function() {
                    return e
                }, e
            }

            function hm() {
                var e = Object(x.a)(["\n    fragment ActionSettingsControllerFragment on User {\n      verifiedAt\n      gameSettings {\n        defaultMode\n        suggestActions\n        ...CommandControllerFragment\n      }\n    }\n    ", "\n  "]);
                return hm = function() {
                    return e
                }, e
            }
            var Em = function(e) {
                var t, n, o = e.content,
                    i = e.user,
                    l = e.textList,
                    c = e.scrollToEnd,
                    s = e.error,
                    d = e.setError,
                    m = void 0 === d ? function() {} : d,
                    f = e.loading,
                    b = e.setLoading,
                    y = void 0 === b ? function() {} : b,
                    v = e.message,
                    h = e.setMessage,
                    E = void 0 === h ? function() {} : h,
                    x = e.defaultType,
                    w = e.setDisplayType,
                    j = void 0 === w ? function() {} : w,
                    T = e.displayType,
                    k = Object(C.useNavigation)(),
                    I = Ya().openOverlay,
                    P = null === i || void 0 === i ? void 0 : i.gameSettings,
                    L = null === i || void 0 === i ? void 0 : i.id,
                    B = null === o || void 0 === o ? void 0 : o.id,
                    F = null === o || void 0 === o ? void 0 : o.publicId,
                    z = null === o || void 0 === o ? void 0 : o.mode,
                    M = null === o || void 0 === o || null === (t = o.actionWindow) || void 0 === t ? void 0 : t.length,
                    R = null === o || void 0 === o ? void 0 : o.characters,
                    D = null === R || void 0 === R ? void 0 : R.find((function(e) {
                        return e.userId === L
                    })),
                    N = null === o || void 0 === o ? void 0 : o.thirdPerson,
                    V = null === D || void 0 === D ? void 0 : D.name,
                    W = null === o || void 0 === o ? void 0 : o.choices;
                if (i && !(null === i || void 0 === i ? void 0 : i.username)) return I("login");
                if ((null === i || void 0 === i ? void 0 : i.username) && !(null === i || void 0 === i ? void 0 : i.verifiedAt)) return I("verify");
                var H = Object(a.useState)(""),
                    U = Object(p.a)(H, 2),
                    q = U[0],
                    G = U[1],
                    Y = Object(a.useState)(!1),
                    Q = Object(p.a)(Y, 2),
                    $ = Q[0],
                    _ = Q[1],
                    X = Object(a.useState)(null),
                    J = Object(p.a)(X, 2),
                    K = J[0],
                    Z = J[1],
                    ee = (null === P || void 0 === P ? void 0 : P.suggestActions) && !N,
                    te = Object(u.useMutation)(wm, {
                        onError: function(e) {
                            return m(null === e || void 0 === e ? void 0 : e.message)
                        },
                        onCompleted: function(e) {
                            y(!1)
                        }
                    }),
                    ne = Object(p.a)(te, 2),
                    ae = ne[0],
                    re = ne[1].data,
                    oe = null === re || void 0 === re || null === (n = re.addAction) || void 0 === n ? void 0 : n.message;
                Object(a.useEffect)((function() {
                    oe && m(oe)
                }), [oe]);
                var ie = function(e) {
                        var t = e.text,
                            n = e.type;
                        B && (y && y(!0), ae({
                            variables: {
                                input: {
                                    publicId: F,
                                    type: n || "story",
                                    text: t,
                                    characterName: V,
                                    choicesMode: !1
                                }
                            }
                        }))
                    },
                    le = Object(u.useMutation)(xm, {
                        onError: function(e) {
                            return m(null === e || void 0 === e ? void 0 : e.message)
                        },
                        onCompleted: function() {
                            return y(!1)
                        },
                        optimisticResponse: {
                            __typename: "Mutation",
                            suggestActions: Object(g.a)(Object(g.a)({
                                __typename: "Adventure"
                            }, o), {}, {
                                choices: null
                            })
                        }
                    });
                Object(p.a)(le, 1)[0];
                Object(a.useEffect)((function() {
                    0
                }), [!1, W]), Object(a.useEffect)((function() {
                    K || Z(Se())
                }), [null === P || void 0 === P ? void 0 : P.defaultMode]), Object(a.useEffect)((function() {
                    o && (null === l || void 0 === l ? void 0 : l.length) < 1 && !N && Z("story")
                }), [o, l, N]);
                var ce = function(e) {
                        if (!f) {
                            var t = null === q || void 0 === q ? void 0 : q.toLowerCase();
                            if ("hardcore" === z) switch (t) {
                                case "/do":
                                    return Z("do"), G("");
                                case "/say":
                                    return Z("say"), G("")
                            } else switch (t) {
                                case "/do":
                                    return Z("do"), G("");
                                case "/say":
                                    return Z("say"), G("");
                                case "!":
                                case "/story":
                                    return Z("story"), G("");
                                case "/alter":
                                    return G(""), ge();
                                case "/remember":
                                    return G(""), pe()
                            }
                            G(e)
                        }
                    },
                    ue = function(e) {
                        var t = e.nativeEvent,
                            n = t.key,
                            a = t.shiftKey;
                        "web" !== A.a.OS || "Enter" !== n || a || se()
                    },
                    se = function() {
                        if ($) m('"Death takes no bribes." -Benjamin Franklin');
                        else {
                            var e = null === q || void 0 === q ? void 0 : q.toLowerCase().trim();
                            if (!f) return "/undo" === e ? ye() : "/redo" === e ? ve() : "/retry" === e ? he() : "/alter" === e ? ge() : "/revert" === e ? be() : "/continue" === e ? xe() : "/remember" === e ? pe() : "" === e ? xe() : void fe(Oe())
                        }
                    },
                    de = function() {
                        G(""), m(null)
                    },
                    me = function() {
                        var e = Object(O.a)(S.a.mark((function e() {
                            return S.a.wrap((function(e) {
                                for (;;) switch (e.prev = e.next) {
                                    case 0:
                                        0 === Math.floor(80 * Math.random()) && I("feedback", {
                                            publicId: F
                                        }), G("");
                                    case 3:
                                    case "end":
                                        return e.stop()
                                }
                            }), e)
                        })));
                        return function() {
                            return e.apply(this, arguments)
                        }
                    }(),
                    fe = function() {
                        var e = Object(O.a)(S.a.mark((function e() {
                            return S.a.wrap((function(e) {
                                for (;;) switch (e.prev = e.next) {
                                    case 0:
                                        return Ne({
                                            eventName: "submit_button_clicked"
                                        }), de(), ie({
                                            type: Oe(),
                                            text: q
                                        }), e.next = 5, me();
                                    case 5:
                                        j(x);
                                    case 6:
                                    case "end":
                                        return e.stop()
                                }
                            }), e)
                        })));
                        return function() {
                            return e.apply(this, arguments)
                        }
                    }(),
                    be = function() {
                        var e = Object(O.a)(S.a.mark((function e() {
                            return S.a.wrap((function(e) {
                                for (;;) switch (e.prev = e.next) {
                                    case 0:
                                        if ("hardcore" !== z) {
                                            e.next = 2;
                                            break
                                        }
                                        return e.abrupt("return");
                                    case 2:
                                        return Ne({
                                            eventName: "revert_button_clicked"
                                        }), de(), ie({
                                            type: "revert"
                                        }), e.next = 7, me();
                                    case 7:
                                    case "end":
                                        return e.stop()
                                }
                            }), e)
                        })));
                        return function() {
                            return e.apply(this, arguments)
                        }
                    }(),
                    ye = function() {
                        var e = Object(O.a)(S.a.mark((function e() {
                            return S.a.wrap((function(e) {
                                for (;;) switch (e.prev = e.next) {
                                    case 0:
                                        if ("hardcore" !== z) {
                                            e.next = 2;
                                            break
                                        }
                                        return e.abrupt("return");
                                    case 2:
                                        return Ne({
                                            eventName: "undo_button_clicked"
                                        }), de(), ie({
                                            type: "undo"
                                        }), e.next = 7, me();
                                    case 7:
                                        0;
                                    case 8:
                                    case "end":
                                        return e.stop()
                                }
                            }), e)
                        })));
                        return function() {
                            return e.apply(this, arguments)
                        }
                    }(),
                    ve = function() {
                        var e = Object(O.a)(S.a.mark((function e() {
                            return S.a.wrap((function(e) {
                                for (;;) switch (e.prev = e.next) {
                                    case 0:
                                        if ("hardcore" !== z) {
                                            e.next = 2;
                                            break
                                        }
                                        return e.abrupt("return");
                                    case 2:
                                        return Ne({
                                            eventName: "redo_button_clicked"
                                        }), de(), ie({
                                            type: "redo"
                                        }), e.next = 7, me();
                                    case 7:
                                        0;
                                    case 8:
                                    case "end":
                                        return e.stop()
                                }
                            }), e)
                        })));
                        return function() {
                            return e.apply(this, arguments)
                        }
                    }(),
                    ge = function() {
                        var e = Object(O.a)(S.a.mark((function e() {
                            return S.a.wrap((function(e) {
                                for (;;) switch (e.prev = e.next) {
                                    case 0:
                                        if ("creative" === z) {
                                            e.next = 2;
                                            break
                                        }
                                        return e.abrupt("return");
                                    case 2:
                                        if (Ne({
                                                eventName: "alter_button_clicked"
                                            }), 0 !== M) {
                                            e.next = 5;
                                            break
                                        }
                                        return e.abrupt("return", m("Nothing to alter"));
                                    case 5:
                                        j("alter");
                                    case 6:
                                    case "end":
                                        return e.stop()
                                }
                            }), e)
                        })));
                        return function() {
                            return e.apply(this, arguments)
                        }
                    }(),
                    pe = function() {
                        var e = Object(O.a)(S.a.mark((function e() {
                            return S.a.wrap((function(e) {
                                for (;;) switch (e.prev = e.next) {
                                    case 0:
                                        Ne({
                                            eventName: "remember_button_clicked"
                                        }), j("remember");
                                    case 2:
                                    case "end":
                                        return e.stop()
                                }
                            }), e)
                        })));
                        return function() {
                            return e.apply(this, arguments)
                        }
                    }(),
                    he = function() {
                        var e = Object(O.a)(S.a.mark((function e() {
                            return S.a.wrap((function(e) {
                                for (;;) switch (e.prev = e.next) {
                                    case 0:
                                        if ("hardcore" !== z) {
                                            e.next = 2;
                                            break
                                        }
                                        return e.abrupt("return");
                                    case 2:
                                        return Ne({
                                            eventName: "retry_button_clicked"
                                        }), de(), ie({
                                            type: "retry"
                                        }), e.next = 7, me();
                                    case 7:
                                        j(x);
                                    case 8:
                                    case "end":
                                        return e.stop()
                                }
                            }), e)
                        })));
                        return function() {
                            return e.apply(this, arguments)
                        }
                    }(),
                    Ee = function() {
                        var e = Object(O.a)(S.a.mark((function e() {
                            return S.a.wrap((function(e) {
                                for (;;) switch (e.prev = e.next) {
                                    case 0:
                                        Ne({
                                            eventName: "view_world_button_clicked"
                                        }), k.navigate("adventureWorldEntries", {
                                            publicId: o.publicId
                                        });
                                    case 2:
                                    case "end":
                                        return e.stop()
                                }
                            }), e)
                        })));
                        return function() {
                            return e.apply(this, arguments)
                        }
                    }(),
                    xe = function() {
                        var e = Object(O.a)(S.a.mark((function e() {
                            return S.a.wrap((function(e) {
                                for (;;) switch (e.prev = e.next) {
                                    case 0:
                                        return Ne({
                                            eventName: "continue_button_clicked"
                                        }), de(), ie({
                                            type: "continue"
                                        }), e.next = 5, me();
                                    case 5:
                                    case "end":
                                        return e.stop()
                                }
                            }), e)
                        })));
                        return function() {
                            return e.apply(this, arguments)
                        }
                    }(),
                    we = function(e) {
                        return Z("creative" !== z ? "do" === e ? "say" : "do" : "do" === e ? "say" : "say" === e ? "story" : "story" === e ? "do" : Se())
                    },
                    Se = function() {
                        return "creative" !== z ? "do" : (null === P || void 0 === P ? void 0 : P.defaultMode) ? (null === P || void 0 === P ? void 0 : P.defaultMode) || "do" : void 0
                    },
                    Oe = function() {
                        return 0 === M ? "" : K || ("creative" !== z ? "do" : Se())
                    },
                    je = function() {
                        switch (Oe()) {
                            case "do":
                                return N ? null === D || void 0 === D ? void 0 : D.name : "Do";
                            case "say":
                                return N ? "".concat(null === D || void 0 === D ? void 0 : D.name, " says") : "Say";
                            case "story":
                                return "Story";
                            default:
                                return ""
                        }
                    },
                    Ce = function(e) {
                        return "GraphQL error: " === (null === e || void 0 === e ? void 0 : e.slice(0, 15)) ? null === e || void 0 === e ? void 0 : e.slice(15) : "Cannot query field" === (null === e || void 0 === e ? void 0 : e.slice(0, 18)) ? "Something went wrong. You may need to update to a more recent version of the app." : e
                    };
                return "normal" !== T ? null : r.a.createElement(r.a.Fragment, null, !1, r.a.createElement(mm, {
                    loading: f,
                    error: Ce(s),
                    message: v,
                    scrollToEnd: c,
                    input: q,
                    mode: z,
                    inputType: je(),
                    rotateInputType: function() {
                        return we(K)
                    },
                    tallInputWindow: !1,
                    onChangeText: ce,
                    onKeyPress: ue,
                    onSubmit: se,
                    onUndo: ye,
                    onRedo: ve,
                    onAlter: ge,
                    onRemember: pe,
                    onRetry: he,
                    onViewWorld: Ee,
                    settings: P,
                    choicesMode: !1,
                    setChoicesMode: function() {},
                    showChoicesButton: ee
                }), r.a.createElement(ym, {
                    content: o,
                    setLocked: _,
                    setMessage: E
                }))
            };
            Em.fragments = {
                user: k()(hm(), mm.fragments.gameSettings),
                adventure: k()(pm(), ym.fragments.adventure)
            };
            var xm = k()(gm()),
                wm = k()(vm()),
                Sm = Em;

            function Om() {
                var e = Object(x.a)(["\n  mutation ($input: AlterInput){\n    editAction(input: $input) {\n      time\n      message\n    }\n  }\n"]);
                return Om = function() {
                    return e
                }, e
            }

            function jm() {
                var e = Object(x.a)(["\n    fragment AlterControllerFragment on Adventure {\n      id\n      publicId\n      mode\n    }\n  "]);
                return jm = function() {
                    return e
                }, e
            }
            var Cm = function(e) {
                var t, n, o, i = e.content,
                    l = e.setError,
                    c = void 0 === l ? function() {} : l,
                    s = e.setLoading,
                    d = void 0 === s ? function() {} : s,
                    m = e.onClose,
                    f = void 0 === m ? function() {} : m,
                    b = Object(a.useState)(""),
                    y = Object(p.a)(b, 2),
                    v = y[0],
                    g = y[1],
                    h = Object(a.useState)(0),
                    E = Object(p.a)(h, 2),
                    x = E[0],
                    w = E[1],
                    S = km(),
                    O = null === i || void 0 === i ? void 0 : i.publicId,
                    j = null === i || void 0 === i ? void 0 : i.mode,
                    C = null === i || void 0 === i || null === (t = i.actionWindow) || void 0 === t ? void 0 : t.filter((function(e) {
                        return !e.undoneAt && !e.deletedAt
                    })),
                    T = null === (n = C[x]) || void 0 === n ? void 0 : n.id,
                    k = Object(u.useMutation)(Tm, {
                        onError: function(e) {
                            return c(null === e || void 0 === e ? void 0 : e.message)
                        },
                        onCompleted: function() {
                            return d(!1)
                        }
                    }),
                    I = Object(p.a)(k, 2),
                    P = I[0],
                    L = I[1].data,
                    F = null === L || void 0 === L || null === (o = L.editAction) || void 0 === o ? void 0 : o.message;
                Object(a.useEffect)((function() {
                    F && c(F)
                }), [F]);
                var z = function() {
                    "creative" === j && (c(null), d(!0), P({
                        variables: {
                            input: {
                                publicId: O,
                                actionId: T,
                                text: v
                            }
                        }
                    }), f())
                };
                return Object(a.useEffect)((function() {
                    var e, t = null !== (e = (null === C || void 0 === C ? void 0 : C.length) - 1) && void 0 !== e ? e : 0;
                    w(t);
                    var n = C[t];
                    g(n.text)
                }), []), r.a.createElement(r.a.Fragment, null, r.a.createElement(Qr.a, {
                    behavior: "ios" === A.a.OS ? "padding" : void 0,
                    keyboardVerticalOffset: N({
                        default: 80,
                        iPhoneX: 20
                    })
                }, r.a.createElement(B.a, {
                    style: S.container
                }, r.a.createElement(B.a, {
                    style: [S.buttonsContainer, {
                        justifyContent: "flex-end"
                    }]
                }, r.a.createElement(B.a, {
                    style: S.iconButtonsContainer
                }, r.a.createElement(_r, {
                    style: S.submitButton,
                    iconName: "arrow-left",
                    onPress: function() {
                        0 !== x && (g(C[x - 1].text), w(x - 1))
                    },
                    accessibilityLabel: "Back"
                }), r.a.createElement(_r, {
                    style: S.submitButton,
                    iconName: "arrow-right",
                    onPress: function() {
                        x !== (null === C || void 0 === C ? void 0 : C.length) - 1 && (g(C[x + 1].text), w(x + 1))
                    },
                    accessibilityLabel: "Back"
                }), r.a.createElement(_r, {
                    style: S.submitButton,
                    iconName: "close",
                    onPress: f,
                    accessibilityLabel: "Close"
                }), r.a.createElement(_r, {
                    style: S.submitButton,
                    iconName: "send",
                    onPress: z,
                    accessibilityLabel: "Submit"
                }))), r.a.createElement(B.a, {
                    style: S.inputContainer
                }, r.a.createElement(cm, {
                    onChangeText: g,
                    onSubmitEditing: z,
                    input: v,
                    tallInputWindow: !0
                })))))
            };
            Cm.fragments = {
                adventure: k()(jm())
            };
            var Tm = k()(Om()),
                km = function() {
                    var e = se(Se()),
                        t = e.userMode,
                        n = e.fonts,
                        a = e.fontSizes;
                    return Object(g.a)(Object(g.a)({}, e), {}, {
                        header: {
                            fontFamily: n.body,
                            fontSize: a.medium,
                            color: t.text,
                            marginBottom: 10,
                            marginLeft: 15
                        },
                        buttonTextStyle: {
                            fontSize: a.small
                        },
                        buttonStyle: {
                            height: N({
                                default: 30,
                                web: null
                            })
                        },
                        inputContainer: {
                            flex: 1,
                            flexDirection: "row",
                            borderWidth: 1.5,
                            borderRadius: 8,
                            marginLeft: 15,
                            marginRight: 10,
                            borderColor: t.secondaryBorder,
                            backgroundColor: t.secondaryBackground
                        },
                        container: {
                            flexDirection: "column",
                            width: "100%",
                            minHeight: 200,
                            marginBottom: N({
                                default: 15,
                                web: 60
                            })
                        },
                        iconButtonsContainer: {
                            flexDirection: "row",
                            height: "100%",
                            alignSelf: "flex-end"
                        },
                        buttonsContainer: {
                            flexDirection: "row",
                            alignItems: "flex-end"
                        },
                        submitButton: {
                            marginVertical: 5,
                            alignSelf: "center"
                        }
                    })
                },
                Am = Cm;

            function Im() {
                var e = Object(x.a)(["\n    fragment EventControllerFragment on Adventure {\n      id\n      publicId\n      events\n    }\n  "]);
                return Im = function() {
                    return e
                }, e
            }
            var Pm = function(e) {
                var t = e.content,
                    n = Ya().openOverlay,
                    o = null === t || void 0 === t ? void 0 : t.publicId,
                    i = null === t || void 0 === t ? void 0 : t.events,
                    l = Object(a.useState)([]),
                    c = Object(p.a)(l, 2),
                    u = c[0],
                    s = c[1];
                return Object(a.useEffect)((function() {
                    if (i) {
                        var e, t = 0,
                            a = Object(on.a)(i);
                        try {
                            for (a.s(); !(e = a.n()).done;) {
                                var r = e.value;
                                u.includes(r) || (u.push(r), t += 1)
                            }
                        } catch (l) {
                            a.e(l)
                        } finally {
                            a.f()
                        }
                        s(u), 1 === t && n("worldEvents", {
                            publicId: o
                        })
                    }
                }), [i]), r.a.createElement(r.a.Fragment, null)
            };
            Pm.fragments = {
                adventure: k()(Im())
            };
            var Lm = Pm;

            function Bm() {
                var e = Object(x.a)(["\n    fragment QuestControllerFragment on Adventure {\n      id\n      publicId\n      lastAction {\n        id\n        text\n      }\n      quests {\n        id\n        text\n        completed\n        active\n        actionGainedId\n        actionCompletedId\n      }\n    }\n  "]);
                return Bm = function() {
                    return e
                }, e
            }
            var Fm = function(e) {
                var t = e.content,
                    n = Ya().openOverlay,
                    o = null === t || void 0 === t ? void 0 : t.publicId,
                    i = null === t || void 0 === t ? void 0 : t.id,
                    l = null === t || void 0 === t ? void 0 : t.quests,
                    c = null === t || void 0 === t ? void 0 : t.lastAction,
                    u = Object(a.useState)([]),
                    s = Object(p.a)(u, 2),
                    d = s[0],
                    m = s[1],
                    f = Object(a.useState)([]),
                    b = Object(p.a)(f, 2),
                    y = b[0],
                    v = b[1];
                return Object(a.useEffect)((function() {
                    if (l) {
                        var e, t = null,
                            a = null,
                            r = Object(on.a)(l);
                        try {
                            for (r.s(); !(e = r.n()).done;) {
                                var u = e.value;
                                if (u.actionGainedId === (null === c || void 0 === c ? void 0 : c.id) && !d.includes(null === u || void 0 === u ? void 0 : u.id)) {
                                    d.push(null === u || void 0 === u ? void 0 : u.id), m(d), t = u;
                                    break
                                }
                            }
                        } catch (g) {
                            r.e(g)
                        } finally {
                            r.f()
                        }
                        var s, f = Object(on.a)(l);
                        try {
                            for (f.s(); !(s = f.n()).done;) {
                                var b = s.value;
                                (null === b || void 0 === b ? void 0 : b.completed) && (null === b || void 0 === b ? void 0 : b.actionCompletedId) === (null === c || void 0 === c ? void 0 : c.id) && !y.includes(null === b || void 0 === b ? void 0 : b.id) && (y.push(null === b || void 0 === b ? void 0 : b.id), v(y), a = b);
                                break
                            }
                        } catch (g) {
                            f.e(g)
                        } finally {
                            f.f()
                        }
                        t && a ? n("questCompleted", {
                            publicId: o,
                            onClose: function() {
                                return n("newQuest", {
                                    adventureId: i,
                                    quest: t.text
                                })
                            }
                        }) : t ? n("newQuest", {
                            adventureId: i,
                            quest: t.text
                        }) : a && n("questCompleted", {
                            publicId: o
                        })
                    }
                }), [l, c]), r.a.createElement(r.a.Fragment, null)
            };
            Fm.fragments = {
                adventure: k()(Bm())
            };
            var zm = Fm;

            function Mm() {
                var e = Object(x.a)(["\n  mutation ($input: MemoryInput) {\n    updateAdventureMemory(input: $input) {\n      ...RememberControllerFragment\n    }\n  }\n  ", "\n  "]);
                return Mm = function() {
                    return e
                }, e
            }

            function Rm() {
                var e = Object(x.a)(["\n    fragment RememberControllerFragment on Adventure {\n      id\n      memory\n      authorsNote\n    }\n  "]);
                return Rm = function() {
                    return e
                }, e
            }
            var Dm = function(e) {
                var t = e.content,
                    n = e.setError,
                    o = void 0 === n ? function() {} : n,
                    i = e.setLoading,
                    l = void 0 === i ? function() {} : i,
                    c = e.onClose,
                    s = void 0 === c ? function() {} : c,
                    d = null === t || void 0 === t ? void 0 : t.publicId,
                    m = Object(a.useState)((null === t || void 0 === t ? void 0 : t.memory) || ""),
                    f = Object(p.a)(m, 2),
                    b = f[0],
                    y = f[1],
                    v = Object(a.useState)((null === t || void 0 === t ? void 0 : t.authorsNote) || ""),
                    g = Object(p.a)(v, 2),
                    h = g[0],
                    E = g[1],
                    x = Vm(),
                    w = Object(u.useMutation)(Nm, {
                        onError: function(e) {
                            return o(null === e || void 0 === e ? void 0 : e.message)
                        },
                        onCompleted: function() {
                            return l(!1)
                        }
                    }),
                    S = Object(p.a)(w, 1)[0],
                    O = function() {
                        o(null), l(!0), S({
                            variables: {
                                input: {
                                    publicId: d,
                                    memory: b,
                                    authorsNote: h
                                }
                            }
                        }), s()
                    };
                return r.a.createElement(r.a.Fragment, null, r.a.createElement(Qr.a, {
                    behavior: "ios" === A.a.OS ? "padding" : void 0,
                    keyboardVerticalOffset: N({
                        default: 80,
                        iPhoneX: 20
                    })
                }, r.a.createElement(B.a, {
                    style: x.container
                }, r.a.createElement(B.a, {
                    style: [x.buttonsContainer, {
                        justifyContent: "flex-end"
                    }]
                }, r.a.createElement(B.a, {
                    style: x.iconButtonsContainer
                }, r.a.createElement(_r, {
                    style: x.submitButton,
                    iconName: "close",
                    onPress: s,
                    accessibilityLabel: "Close"
                }), r.a.createElement(_r, {
                    style: x.submitButton,
                    iconName: "send",
                    onPress: O,
                    accessibilityLabel: "Submit"
                }))), r.a.createElement(B.a, {
                    style: x.inputContainer
                }, r.a.createElement(cm, {
                    onChangeText: y,
                    inputType: "remember",
                    onSubmitEditing: O,
                    input: b,
                    tallInputWindow: !1
                })), r.a.createElement(Ti, {
                    showWithoutPremium: !1,
                    style: [x.inputContainer, x.authorsNote]
                }, r.a.createElement(cm, {
                    onChangeText: E,
                    inputType: "authorsNote",
                    onSubmitEditing: O,
                    multiline: !1,
                    forceFocus: !1,
                    tallInputWindow: !1,
                    maxLength: 300,
                    input: h
                })))))
            };
            Dm.fragments = {
                adventure: k()(Rm())
            };
            var Nm = k()(Mm(), Dm.fragments.adventure),
                Vm = function() {
                    var e = se(Se()),
                        t = e.userMode,
                        n = e.fonts,
                        a = e.fontSizes;
                    return Object(g.a)(Object(g.a)({}, e), {}, {
                        header: {
                            fontFamily: n.body,
                            fontSize: a.medium,
                            color: t.text,
                            marginBottom: 10,
                            marginLeft: 15
                        },
                        buttonTextStyle: {
                            fontSize: a.small
                        },
                        buttonStyle: {
                            height: N({
                                default: 30,
                                web: null
                            })
                        },
                        inputContainer: {
                            flex: 1,
                            flexDirection: "row",
                            borderWidth: 1.5,
                            borderRadius: 8,
                            marginLeft: 10,
                            marginRight: 5,
                            borderColor: t.secondaryBorder,
                            backgroundColor: t.secondaryBackground
                        },
                        authorsNote: {
                            marginTop: 30,
                            flex: .4
                        },
                        container: {
                            flexDirection: "column",
                            width: "100%",
                            minHeight: 250,
                            marginBottom: N({
                                default: 15,
                                web: 60
                            })
                        },
                        iconButtonsContainer: {
                            flexDirection: "row",
                            height: "100%",
                            alignSelf: "flex-end"
                        },
                        buttonsContainer: {
                            flexDirection: "row",
                            alignItems: "flex-end"
                        },
                        submitButton: {
                            marginVertical: 5,
                            alignSelf: "center"
                        }
                    })
                },
                Wm = Dm;

            function Hm() {
                var e = Object(x.a)(["\n    fragment ShareControllerFragment on Adventure {\n      id\n      userId\n      thirdPerson\n      playPublicId\n      characters {\n        id\n        userId\n        name\n      }\n    }\n  "]);
                return Hm = function() {
                    return e
                }, e
            }
            var Um = function(e) {
                var t = e.content,
                    n = e.user,
                    o = Ya().openOverlay,
                    i = Object(a.useState)(null),
                    l = Object(p.a)(i, 2),
                    c = l[0],
                    u = l[1],
                    s = Object(a.useState)(!0),
                    d = Object(p.a)(s, 2),
                    m = d[0],
                    f = d[1],
                    b = null === t || void 0 === t ? void 0 : t.characters,
                    y = function() {
                        var e = Object(O.a)(S.a.mark((function e(t) {
                            var n;
                            return S.a.wrap((function(e) {
                                for (;;) switch (e.prev = e.next) {
                                    case 0:
                                        if (t) {
                                            e.next = 2;
                                            break
                                        }
                                        return e.abrupt("return");
                                    case 2:
                                        return e.next = 4, wl({
                                            route: "play",
                                            routeParam: {
                                                playPublicId: t
                                            }
                                        });
                                    case 4:
                                        n = e.sent, u(n);
                                    case 6:
                                    case "end":
                                        return e.stop()
                                }
                            }), e)
                        })));
                        return function(t) {
                            return e.apply(this, arguments)
                        }
                    }();
                return Object(a.useEffect)((function() {
                    var e = null === t || void 0 === t ? void 0 : t.playPublicId;
                    e && y(e)
                }), [t]), Object(a.useEffect)((function() {
                    (null === n || void 0 === n ? void 0 : n.id) === (null === t || void 0 === t ? void 0 : t.userId) && !m && (null === b || void 0 === b ? void 0 : b.length) < 2 && (null === t || void 0 === t ? void 0 : t.thirdPerson) && c && (o("share", {
                        title: "Invite Friends to Join Your Game",
                        message: "Go to this link to join my AI Dungeon game!",
                        url: c
                    }), f(!0))
                }), [c, n, t, m]), r.a.createElement(r.a.Fragment, null)
            };
            Um.fragments = {
                adventure: k()(Hm())
            };
            var qm = Um;

            function Gm() {
                var e = Object(x.a)(["\nmutation ($input: UserInput) {\n  updateUser(input: $input) {\n    id\n    continueAdventure {\n      id \n      mode\n    }    \n  }\n}\n"]);
                return Gm = function() {
                    return e
                }, e
            }

            function Ym() {
                var e = Object(x.a)(["\n    fragment AdventureControllerFragment on Adventure {\n      id\n      actionLoading\n      error\n      gameState\n      events\n      thirdPerson\n      userId\n      characters {\n        id\n        userId\n        name\n      }\n      ...ActionAdventureControllerFragment\n      ...AlterControllerFragment\n      ...QuestControllerFragment\n      ...RememberControllerFragment\n      ...ShareControllerFragment\n    }\n    ", "\n    ", "\n    ", "\n    ", "\n    ", "\n  "]);
                return Ym = function() {
                    return e
                }, e
            }

            function Qm() {
                var e = Object(x.a)(["\n    fragment AdventureUserControllerFragment on User {\n      id\n      publicId\n      hasPremium\n      ...ActionSettingsControllerFragment\n      gameSettings {\n        proofRead\n        ...CommandControllerFragment\n      }\n    }\n    ", "\n    ", "\n  "]);
                return Qm = function() {
                    return e
                }, e
            }
            var $m = function(e) {
                var t, n, o = e.user,
                    i = e.content,
                    l = e.textList,
                    c = e.scrollToEnd,
                    s = Ya().openOverlay,
                    d = null === i || void 0 === i || null === (t = i.error) || void 0 === t ? void 0 : t.message,
                    m = null === i || void 0 === i ? void 0 : i.actionLoading,
                    f = null === i || void 0 === i || null === (n = i.gameState) || void 0 === n ? void 0 : n.message,
                    b = Object(a.useState)(f),
                    y = Object(p.a)(b, 2),
                    v = y[0],
                    g = y[1],
                    h = Object(a.useState)(),
                    E = Object(p.a)(h, 2),
                    x = E[0],
                    w = E[1],
                    S = Object(a.useState)(!1),
                    O = Object(p.a)(S, 2),
                    j = O[0],
                    C = O[1];
                Object(a.useEffect)((function() {
                    return w(d)
                }), [d]), Object(a.useEffect)((function() {
                    return C(m)
                }), [m]), Object(a.useEffect)((function() {
                    return g(f)
                }), [f]);
                var T = null === o || void 0 === o ? void 0 : o.gameSettings,
                    k = (null === T || void 0 === T ? void 0 : T.proofRead) ? "alter" : "normal",
                    A = Object(a.useState)(k),
                    I = Object(p.a)(A, 2),
                    P = I[0],
                    L = I[1],
                    B = null === i || void 0 === i ? void 0 : i.id,
                    F = Object(u.useMutation)(_m),
                    z = Object(p.a)(F, 1)[0];
                Object(a.useEffect)((function() {
                    z({
                        variables: {
                            input: {
                                lastAdventureId: B
                            }
                        }
                    })
                }), [B]);
                var M = null === o || void 0 === o ? void 0 : o.id,
                    R = null === i || void 0 === i ? void 0 : i.characters,
                    D = null === R || void 0 === R ? void 0 : R.find((function(e) {
                        return e.userId === M
                    })),
                    N = null === i || void 0 === i ? void 0 : i.thirdPerson;
                return Object(a.useEffect)((function() {
                    !j && M && !D && N && s("character", {
                        publicId: null === i || void 0 === i ? void 0 : i.publicId
                    })
                }), [j, M, D, N]), r.a.createElement(r.a.Fragment, null, "alter" === P && r.a.createElement(Am, {
                    content: i,
                    setError: w,
                    setLoading: C,
                    onClose: function() {
                        L("normal")
                    }
                }), "remember" === P && r.a.createElement(Wm, {
                    content: i,
                    setError: w,
                    setLoading: C,
                    onClose: function() {
                        L("normal")
                    }
                }), r.a.createElement(Sm, {
                    content: i,
                    user: o,
                    textList: l,
                    scrollToEnd: c,
                    message: v,
                    setMessage: g,
                    error: x,
                    setError: w,
                    loading: j,
                    setLoading: C,
                    defaultType: k,
                    displayType: P,
                    setDisplayType: L
                }), r.a.createElement(zm, {
                    content: i
                }), r.a.createElement(Lm, {
                    content: i
                }), r.a.createElement(qm, {
                    content: i,
                    user: o
                }))
            };
            $m.fragments = {
                user: k()(Qm(), Sm.fragments.user, mm.fragments.gameSettings),
                adventure: k()(Ym(), Sm.fragments.adventure, Am.fragments.adventure, zm.fragments.adventure, Wm.fragments.adventure, qm.fragments.adventure)
            };
            var _m = k()(Gm()),
                Xm = $m;

            function Jm() {
                var e = Object(x.a)(["\n    fragment AnimatedStoryTextListFragment on GameSettings {\n      ...StoryTextFragment\n      ...StoryTextListFragment\n    }\n    ", "\n    ", "\n  "]);
                return Jm = function() {
                    return e
                }, e
            }
            var Km = function(e) {
                var t, n = e.user,
                    a = e.textList,
                    o = null === n || void 0 === n ? void 0 : n.gameSettings,
                    i = (null === a || void 0 === a ? void 0 : a.length) > 0 && (null === (t = a.join("").trim()) || void 0 === t ? void 0 : t.length) > 0,
                    l = null === o || void 0 === o ? void 0 : o.accessibilityMode,
                    c = (null === a || void 0 === a ? void 0 : a.length) > 0 ? a[(null === a || void 0 === a ? void 0 : a.length) - 1] : "",
                    u = null === a || void 0 === a ? void 0 : a.slice(0, (null === a || void 0 === a ? void 0 : a.length) - 1),
                    s = (null === a || void 0 === a ? void 0 : a.length) > 1 ? u.join("") : "",
                    m = -1 !== s.lastIndexOf("\n\n") ? s.lastIndexOf("\n\n") : s.lastIndexOf("\n"),
                    f = -1 !== m ? s.substring(0, m) : s,
                    b = -1 !== m ? s.substring(m + 1) : "",
                    y = se(Se()).containerStyles;
                return r.a.createElement(d.a.View, {
                    style: y.display
                }, !l && r.a.createElement(r.a.Fragment, null, !!i && r.a.createElement(r.a.Fragment, null, r.a.createElement(Dr, {
                    settings: o,
                    animateTyping: !1,
                    text: f
                }), r.a.createElement(P.a, null, r.a.createElement(Dr, {
                    settings: o,
                    animateTyping: !1,
                    text: b
                }), r.a.createElement(Dr, {
                    settings: o,
                    animateTyping: !0,
                    text: c
                })))), l && r.a.createElement(Xl, {
                    settings: o,
                    textList: a
                }))
            };
            Km.fragments = {
                gameSettings: k()(Jm(), Dr.fragments.gameSettings, Xl.fragments.gameSettings)
            };
            var Zm = Km;

            function ef() {
                var e = Object(x.a)(["\n    fragment AdventureDisplayFragment on GameSettings {\n      accessibilityMode\n      ...AnimatedStoryTextListFragment\n      ...StoryTextFragment\n    }\n    ", "\n    ", "\n  "]);
                return ef = function() {
                    return e
                }, e
            }
            var tf = function(e) {
                var t, n = e.user,
                    a = e.adventure,
                    o = e.textList,
                    i = e.defaultText,
                    l = e.setScrollRef,
                    c = e.scrollToEnd,
                    u = e.showMore,
                    s = Object(C.useNavigation)(),
                    d = nf(),
                    m = null === a || void 0 === a ? void 0 : a.publicId,
                    f = (null === o || void 0 === o ? void 0 : o.length) > 0 && (null === (t = o.join("").trim()) || void 0 === t ? void 0 : t.length) > 0 ? o : [i];
                return r.a.createElement($t.a, {
                    onContentSizeChange: c,
                    style: d.scrollView,
                    contentContainerStyle: d.scrollViewContent,
                    ref: l
                }, u && r.a.createElement(vt, {
                    onPress: function() {
                        return s.navigate("adventureView", {
                            publicId: m,
                            scroll: !0
                        })
                    },
                    style: {
                        maxWidth: 256,
                        height: 32,
                        marginTop: 80,
                        alignSelf: "center"
                    }
                }, "Show More"), r.a.createElement(Zm, {
                    user: n,
                    textList: f
                }))
            };
            tf.fragments = {
                gameSettings: k()(ef(), Zm.fragments.gameSettings, Dr.fragments.gameSettings)
            };
            var nf = function() {
                    return {
                        scrollView: {
                            flex: 1,
                            height: "80%"
                        },
                        scrollViewContent: {
                            paddingBottom: N({
                                default: 30,
                                iPhone5: 10
                            })
                        }
                    }
                },
                af = tf;

            function rf() {
                var e = Object(x.a)(["\nquery ($text: String) {\n  narration(text: $text)\n}\n"]);
                return rf = function() {
                    return e
                }, e
            }

            function of () {
                var e = Object(x.a)(["\n    fragment AudioUserControllerFragment on User {\n      id\n      hasPremium\n      gameSettings {\n        id\n        playMusic\n        playNarration\n        musicVolume\n        narrationVolume\n      }  \n    }\n  "]);
                return of = function() {
                    return e
                }, e
            }

            function lf() {
                var e = Object(x.a)(["\n    fragment AudioAdventureControllerFragment on Adventure {\n      id\n      music\n      lastAction {\n        id\n        text\n      }\n    }\n  "]);
                return lf = function() {
                    return e
                }, e
            }
            var cf = function(e) {
                var t = e.content,
                    n = e.user,
                    o = e.paused,
                    i = void 0 !== o && o,
                    l = null === n || void 0 === n ? void 0 : n.gameSettings,
                    c = null === n || void 0 === n ? void 0 : n.hasPremium,
                    s = null === t || void 0 === t ? void 0 : t.music,
                    d = Object(a.useState)(0),
                    m = Object(p.a)(d, 2),
                    f = m[0],
                    b = m[1],
                    y = null === t || void 0 === t ? void 0 : t.lastAction,
                    v = sf(),
                    g = Object(u.useLazyQuery)(uf),
                    h = Object(p.a)(g, 2),
                    E = h[0],
                    x = h[1].data,
                    w = Object(a.useState)(null),
                    S = Object(p.a)(w, 2),
                    O = S[0],
                    j = S[1],
                    C = null === x || void 0 === x ? void 0 : x.narration;
                return Object(a.useEffect)((function() {
                    var e, t;
                    y && (!O || (null === y || void 0 === y ? void 0 : y.id) > (null === O || void 0 === O ? void 0 : O.id)) && ((t = null !== (e = null === y || void 0 === y ? void 0 : y.text) && void 0 !== e ? e : null) && "" !== t.trim() && c && (null === l || void 0 === l ? void 0 : l.playNarration) && E({
                        variables: {
                            text: t
                        }
                    }), j(y))
                }), [y]), l ? r.a.createElement(B.a, {
                    style: v.container
                }, !!C && !!(null === l || void 0 === l ? void 0 : l.playNarration) && r.a.createElement(Jn, {
                    paused: i,
                    volume: null === l || void 0 === l ? void 0 : l.narrationVolume,
                    url: C
                }), (null === s || void 0 === s ? void 0 : s.length) > 0 && !!(null === l || void 0 === l ? void 0 : l.playMusic) && r.a.createElement(Jn, {
                    paused: i,
                    volume: null === l || void 0 === l ? void 0 : l.musicVolume,
                    url: s[f],
                    onEnded: function() {
                        b((f + 1) % (null === s || void 0 === s ? void 0 : s.length))
                    }
                })) : null
            };
            cf.fragments = {
                adventure: k()(lf()),
                user: k()( of ())
            };
            var uf = k()(rf()),
                sf = function() {
                    return {
                        container: {
                            height: 0,
                            overflow: "hidden"
                        }
                    }
                },
                df = cf;

            function mf() {
                var e = Object(x.a)(["\nmutation ($playPublicId: String){\n  joinAdventure(playPublicId: $playPublicId) {\n    id\n    publicId\n  }\n}\n"]);
                return mf = function() {
                    return e
                }, e
            }

            function ff() {
                var e = Object(x.a)(["\n  query ($publicId: String, $limit: Int, $desc: Boolean) {\n    adventure(publicId: $publicId) {\n      actionWindow(limit: $limit, desc: $desc) {\n        ...ActionFragment\n      }\n      ...AdventurePlayFragment\n    }\n  }\n  ", "\n"]);
                return ff = function() {
                    return e
                }, e
            }

            function bf() {
                var e = Object(x.a)(["\n  query {\n    user {\n      id\n      username\n      ...AdventureUserControllerFragment\n      ...AudioUserControllerFragment\n      ...ReviewUserControllerFragment\n      gameSettings {\n        ...AdventureDisplayFragment\n      }\n    }\n  }\n  ", "\n  ", "\n  ", "\n  ", "\n"]);
                return bf = function() {
                    return e
                }, e
            }

            function yf() {
                var e = Object(x.a)(["\n  subscription ($adventureId: String) {\n    actionUpdated(adventureId: $adventureId) {\n      ...ActionFragment\n    }\n  }\n  ", "\n"]);
                return yf = function() {
                    return e
                }, e
            }

            function vf() {
                var e = Object(x.a)(["\n  subscription ($adventureId: String) {\n    actionAdded(adventureId: $adventureId) {\n      ...ActionFragment\n    }\n  }\n  ", "\n\n"]);
                return vf = function() {
                    return e
                }, e
            }

            function gf() {
                var e = Object(x.a)(["\n  subscription ($publicId: String){\n    adventureUpdated(publicId: $publicId){\n      ...AdventurePlayFragment\n    }\n  }\n  ", "\n"]);
                return gf = function() {
                    return e
                }, e
            }

            function pf() {
                var e = Object(x.a)(["\n    fragment AdventurePlayFragment on Adventure {\n      id\n      playPublicId\n      publicId\n      thirdPerson\n      actionCount\n      lastAction {\n        ...ActionFragment\n      }\n      ...AdventureControllerFragment\n      ...AudioAdventureControllerFragment\n      ...ReviewAdventureControllerFragment\n    }\n    ", "\n    ", "\n    ", "\n    ", "\n  "]);
                return pf = function() {
                    return e
                }, e
            }

            function hf() {
                var e = Object(x.a)(["\n  fragment ActionFragment on Action {\n    id\n    text\n    adventureId\n    undoneAt\n    deletedAt\n  }\n"]);
                return hf = function() {
                    return e
                }, e
            }
            var Ef = function(e) {
                    var t, n, o = e.route,
                        i = Object(C.useNavigation)(),
                        l = null === o || void 0 === o || null === (t = o.params) || void 0 === t ? void 0 : t.publicId,
                        c = null === o || void 0 === o || null === (n = o.params) || void 0 === n ? void 0 : n.playPublicId,
                        s = Object(a.useState)(!1),
                        d = Object(p.a)(s, 2),
                        m = d[0],
                        f = d[1],
                        b = Object(a.useState)(0),
                        y = Object(p.a)(b, 2),
                        v = y[0],
                        h = y[1],
                        E = Object(a.useState)(null),
                        x = Object(p.a)(E, 2),
                        w = x[0],
                        j = x[1],
                        T = Object(a.useState)(!1),
                        k = Object(p.a)(T, 2),
                        I = k[0],
                        P = k[1],
                        L = "web" === A.a.OS ? 1e3 : 50,
                        F = {
                            publicId: l,
                            limit: L,
                            desc: !0
                        },
                        z = Object(u.useQuery)(Tf, {
                            variables: F,
                            notifyOnNetworkStatusChange: !0
                        }),
                        M = z.data,
                        R = z.subscribeToMore,
                        D = Object(u.useQuery)(Cf).data,
                        N = null === M || void 0 === M ? void 0 : M.adventure,
                        V = null === N || void 0 === N ? void 0 : N.id;
                    Object(u.useSubscription)(Sf, {
                        variables: {
                            publicId: l
                        }
                    }), Object(u.useSubscription)(jf, {
                        variables: {
                            adventureId: V
                        }
                    });
                    Object(a.useEffect)((function() {
                        V && R({
                            document: Of,
                            variables: {
                                adventureId: V
                            },
                            updateQuery: function(e, t) {
                                var n = t.subscriptionData;
                                if (!n.data) return e;
                                var a = n.data.actionAdded,
                                    r = [].concat(Object(mr.a)(e.adventure.actionWindow), [a]),
                                    o = Object(mr.a)(new Set(r.map((function(e) {
                                        return null === e || void 0 === e ? void 0 : e.id
                                    })))).map((function(e) {
                                        return r.find((function(t) {
                                            return (null === t || void 0 === t ? void 0 : t.id) === e
                                        }))
                                    }));
                                return {
                                    adventure: Object(g.a)(Object(g.a)({}, e.adventure), {}, {
                                        actionWindow: o
                                    })
                                }
                            }
                        })
                    }), [V]);
                    var W = Object(u.useMutation)(kf, {
                            onCompleted: function() {
                                var e = Object(O.a)(S.a.mark((function e(t) {
                                    var n, a;
                                    return S.a.wrap((function(e) {
                                        for (;;) switch (e.prev = e.next) {
                                            case 0:
                                                n = t.joinAdventure, a = null === n || void 0 === n ? void 0 : n.publicId, i.replace("adventurePlay", {
                                                    publicId: a
                                                });
                                            case 3:
                                            case "end":
                                                return e.stop()
                                        }
                                    }), e)
                                })));
                                return function(t) {
                                    return e.apply(this, arguments)
                                }
                            }()
                        }),
                        H = Object(p.a)(W, 1)[0],
                        U = null === D || void 0 === D ? void 0 : D.user;
                    Object(a.useEffect)((function() {
                        U && (null === U || void 0 === U || U.username), 0
                    }), [U, !1]);
                    var q = null === N || void 0 === N ? void 0 : N.actionWindow,
                        G = null === N || void 0 === N ? void 0 : N.lastAction,
                        Y = (null === N || void 0 === N ? void 0 : N.actionCount) > L,
                        Q = N ? Yl(q) : null,
                        $ = Af(),
                        _ = Object(a.useState)(null),
                        X = Object(p.a)(_, 2),
                        J = X[0],
                        K = X[1],
                        Z = function() {
                            return null === J || void 0 === J ? void 0 : J.scrollToEnd({
                                animated: !0
                            })
                        },
                        ee = Ya(),
                        te = ee.openOverlay,
                        ne = ee.closeOverlay,
                        ae = function(e) {
                            var t = e.upStep;
                            te("tutorial", {
                                tutorialStep: v,
                                endTutorial: function() {
                                    f(!1), ne()
                                },
                                onClose: function() {
                                    t && h(v + 1), ne()
                                }
                            })
                        },
                        re = function() {
                            var e = Object(O.a)(S.a.mark((function e(t) {
                                var n;
                                return S.a.wrap((function(e) {
                                    for (;;) switch (e.prev = e.next) {
                                        case 0:
                                            if (t) {
                                                e.next = 2;
                                                break
                                            }
                                            return e.abrupt("return");
                                        case 2:
                                            return e.next = 4, wl({
                                                route: "play",
                                                routeParam: {
                                                    playPublicId: t
                                                }
                                            });
                                        case 4:
                                            n = e.sent, j(n);
                                        case 6:
                                        case "end":
                                            return e.stop()
                                    }
                                }), e)
                            })));
                            return function(t) {
                                return e.apply(this, arguments)
                            }
                        }();
                    Object(a.useEffect)((function() {
                        U && c && !l && H({
                            variables: {
                                playPublicId: c
                            }
                        })
                    }), [U, c, l]), Object(a.useEffect)((function() {
                        (null === N || void 0 === N ? void 0 : N.playPublicId) && re(null === N || void 0 === N ? void 0 : N.playPublicId)
                    }), [null === N || void 0 === N ? void 0 : N.playPublicId]), Object(a.useEffect)((function() {
                        m && (null === q || void 0 === q ? void 0 : q.length) > 1 && ae({
                            upStep: !0
                        })
                    }), [q]);
                    var oe = function() {
                        te("adventureMenu", {
                            publicId: l,
                            deepLink: w
                        })
                    };
                    return Object(a.useEffect)((function() {
                        var e;
                        "model" === (null === G || void 0 === G ? void 0 : G.actionName) && 0 === (null === G || void 0 === G || null === (e = G.text) || void 0 === e ? void 0 : e.length) && te("error", {
                            message: "The AI couldn't think of what to generate. Try a different action."
                        })
                    }), [G]), Object(a.useEffect)((function() {
                        var e = i.addListener("focus", (function() {
                                P(!1)
                            })),
                            t = i.addListener("blur", (function() {
                                P(!0)
                            }));
                        return function() {
                            e(), t()
                        }
                    }), [i]), Object(a.useLayoutEffect)((function() {
                        m ? i.setOptions({
                            headerRight: function() {
                                return r.a.createElement(B.a, {
                                    style: {
                                        flexDirection: "row"
                                    }
                                }, r.a.createElement(_r, {
                                    iconName: "help",
                                    style: {
                                        marginRight: 15
                                    },
                                    onPress: ae,
                                    accessibilityLabel: "Help"
                                }))
                            }
                        }) : i.setOptions({
                            headerRight: function() {
                                return r.a.createElement(B.a, {
                                    style: {
                                        flexDirection: "row"
                                    }
                                }, r.a.createElement(_r, {
                                    iconName: "ellipsis-h",
                                    type: "awesome",
                                    style: {
                                        marginRight: 15
                                    },
                                    onPress: oe,
                                    accessibilityLabel: "Adventure Menu"
                                }))
                            }
                        })
                    }), [i, N, U, m, w]), N ? r.a.createElement(B.a, {
                        style: $.container
                    }, r.a.createElement(af, {
                        textList: Q,
                        adventure: N,
                        user: U,
                        defaultText: xf,
                        setScrollRef: K,
                        scrollToEnd: Z,
                        showMore: Y
                    }), r.a.createElement(Xm, {
                        tutorial: m,
                        textList: Q,
                        user: U,
                        content: N,
                        scrollToEnd: Z
                    }), r.a.createElement(df, {
                        content: N,
                        user: U,
                        paused: I
                    }), r.a.createElement(Zd, {
                        content: N,
                        user: U
                    })) : null
                },
                xf = "Enter a prompt that describes who you are and the first couple sentences of where you start out ex:\n 'You are a knight in the kingdom of Larion. You are hunting the evil dragon who has been terrorizing the kingdom. You enter the forest searching for the dragon and see'",
                wf = k()(hf());
            Ef.fragments = {
                adventure: k()(pf(), wf, Xm.fragments.adventure, df.fragments.adventure, Zd.fragments.adventure)
            };
            var Sf = k()(gf(), Ef.fragments.adventure),
                Of = k()(vf(), wf),
                jf = k()(yf(), wf),
                Cf = k()(bf(), Xm.fragments.user, df.fragments.user, Zd.fragments.user, af.fragments.gameSettings),
                Tf = k()(ff(), Ef.fragments.adventure),
                kf = k()(mf()),
                Af = function() {
                    var e = se(Se()),
                        t = e.userMode,
                        n = e.fontSizes;
                    return Object(g.a)(Object(g.a)({}, e), {}, {
                        container: {
                            flex: 1,
                            backgroundColor: t.background,
                            paddingHorizontal: N({
                                default: 30,
                                tablet: 60,
                                tabletLarge: 90
                            })
                        },
                        scrollView: {
                            flex: 1
                        },
                        scrollViewContent: {
                            paddingBottom: N({
                                default: 30,
                                iPhone5: 10
                            })
                        },
                        display: {
                            flex: 1
                        },
                        statusText: {
                            color: de.text,
                            fontSize: n.small,
                            fontFamily: ie.body,
                            textTransform: "capitalize"
                        },
                        logoText: {
                            marginTop: 50,
                            fontFamily: ie.body,
                            fontSize: n.xLarge,
                            color: de.text
                        },
                        error: {
                            flex: 1,
                            justifyContent: "center"
                        },
                        content: {
                            marginHorizontal: 16
                        },
                        title: {
                            fontSize: n.xLarge,
                            color: de.secondaryText,
                            paddingBottom: 16
                        },
                        subtitle: {
                            fontSize: n.large,
                            color: de.secondaryText
                        }
                    })
                },
                If = Ef;

            function Pf() {
                var e = Object(x.a)(["\n  mutation ($token: String, $platform: String){\n    addDeviceToken(token: $token, platform: $platform)\n  }\n"]);
                return Pf = function() {
                    return e
                }, e
            }
            var Lf = k()(Pf()),
                Bf = function() {
                    return Object(a.useEffect)((function() {
                        Fe.mutate({
                            mutation: Lf,
                            variables: {
                                token: "web",
                                platform: "web"
                            }
                        })
                    }), []), r.a.createElement(r.a.Fragment, null)
                };

            function Ff() {
                var e = Object(x.a)(["\nquery {\n  user {\n    id\n    username\n    hasPremium\n    continueAdventure {\n      id\n      publicId\n      mode\n    }\n    newProductUpdates {\n      id\n      title\n      description\n      createdAt\n    }\n  }\n}\n"]);
                return Ff = function() {
                    return e
                }, e
            }

            function zf() {
                var e = Object(x.a)(["\n  mutation Achieve ($achievementId: String) {\n    achieve (achievementId: $achievementId)\n  }\n"]);
                return zf = function() {
                    return e
                }, e
            }
            var Mf = k()(zf()),
                Rf = k()(Ff()),
                Df = function() {
                    var e = se(Se()),
                        t = e.userMode,
                        n = e.fontSizes,
                        a = e.fonts;
                    return Object(g.a)(Object(g.a)({}, e), {}, {
                        helpText: {
                            fontSize: n.medium,
                            fontFamily: a.body,
                            color: t.text,
                            textAlign: "center",
                            alignSelf: "flex-start",
                            alignItems: "center",
                            justifyContent: "center",
                            marginTop: 50,
                            marginHorizontal: "web" === A.a.OS ? "10%" : 20,
                            marginBottom: 5
                        },
                        button: {
                            alignSelf: "center",
                            marginVertical: 20,
                            maxWidth: 450,
                            borderRadius: 5,
                            width: "100%"
                        },
                        LatitudeLogo: {
                            height: 22,
                            width: 150
                        }
                    })
                },
                Nf = function(e) {
                    e.route;
                    var t, n, o, i = Object(C.useNavigation)(),
                        l = Ya().openOverlay,
                        c = Object(a.useState)(!1),
                        s = Object(p.a)(c, 2),
                        d = s[0],
                        m = s[1],
                        f = Object(u.useQuery)(Rf),
                        b = f.data,
                        y = f.loading,
                        v = null === b || void 0 === b ? void 0 : b.user,
                        g = null === v || void 0 === v ? void 0 : v.newProductUpdates,
                        h = Df(),
                        E = h.containerStyles,
                        x = h.isDarkMode,
                        w = null === b || void 0 === b || null === (t = b.user) || void 0 === t || null === (n = t.continueAdventure) || void 0 === n ? void 0 : n.publicId,
                        j = !(null === b || void 0 === b || null === (o = b.user) || void 0 === o ? void 0 : o.hasPremium) && w,
                        T = ye().ACHIEVEMENTS,
                        k = Object(u.useMutation)(Mf, {
                            onCompleted: function() {
                                var e = Object(O.a)(S.a.mark((function e(t) {
                                    return S.a.wrap((function(e) {
                                        for (;;) switch (e.prev = e.next) {
                                            case 0:
                                                l("achievement", {
                                                    title: "this is a picture of squibs lol",
                                                    imageLink: t.achieve
                                                });
                                            case 1:
                                            case "end":
                                                return e.stop()
                                        }
                                    }), e)
                                })));
                                return function(t) {
                                    return e.apply(this, arguments)
                                }
                            }()
                        }),
                        I = Object(p.a)(k, 1)[0],
                        L = function() {
                            var e = Object(O.a)(S.a.mark((function e() {
                                return S.a.wrap((function(e) {
                                    for (;;) switch (e.prev = e.next) {
                                        case 0:
                                            return e.next = 2, I({
                                                variables: {
                                                    achievementId: "5"
                                                }
                                            });
                                        case 2:
                                        case "end":
                                            return e.stop()
                                    }
                                }), e)
                            })));
                            return function() {
                                return e.apply(this, arguments)
                            }
                        }();
                    Object(a.useEffect)((function() {
                        Ne({
                            eventName: "home"
                        })
                    }), []);
                    var F = function() {
                        var e = Object(O.a)(S.a.mark((function e() {
                            return S.a.wrap((function(e) {
                                for (;;) switch (e.prev = e.next) {
                                    case 0:
                                        Ne({
                                            eventName: "funnel_continue_game"
                                        }), i.navigate("adventurePlay", {
                                            publicId: w
                                        });
                                    case 2:
                                    case "end":
                                        return e.stop()
                                }
                            }), e)
                        })));
                        return function() {
                            return e.apply(this, arguments)
                        }
                    }();
                    Object(a.useEffect)((function() {
                        !d && (null === v || void 0 === v ? void 0 : v.username) && (null === g || void 0 === g ? void 0 : g.length) > 0 && (m(!0), i.navigate("newUpdates"))
                    }), [d, null === v || void 0 === v ? void 0 : v.username, g]);
                    var z = function() {
                        return i.navigate("help")
                    };
                    return Object(a.useLayoutEffect)((function() {
                        i.setOptions({
                            headerLeft: function() {
                                return r.a.createElement(Xr, {
                                    allowBack: !1
                                })
                            },
                            headerRight: function() {
                                return r.a.createElement(B.a, {
                                    style: {
                                        flexDirection: "row"
                                    },
                                    accessible: !1
                                }, r.a.createElement(_r, {
                                    iconName: "help",
                                    style: {
                                        marginRight: 15
                                    },
                                    onPress: z,
                                    accessibilityLabel: "Help"
                                }))
                            }
                        })
                    }), [w, i]), y ? null : r.a.createElement($t.a, {
                        contentContainerStyle: E.screen
                    }, r.a.createElement(Bf, null), r.a.createElement(B.a, {
                        style: [E.content]
                    }, !j && r.a.createElement(B.a, {
                        style: {
                            marginBottom: "web" === A.a.OS ? 225 : 150
                        }
                    }), !1, j && r.a.createElement(r.a.Fragment, null, r.a.createElement(P.a, {
                        style: h.helpText
                    }, "The Dragon model is now available to premium users! Try out the most powerful AI we've ever used."), r.a.createElement(vt, {
                        accessibilityLabel: "Learn More",
                        onPress: function() {
                            Ne({
                                eventName: "subscribe_opened"
                            }), i.navigate("subscribe")
                        },
                        style: [h.button, {
                            marginBottom: 50
                        }]
                    }, "Learn More")), r.a.createElement(Or, {
                        start: {
                            x: 0,
                            y: 0
                        },
                        end: {
                            x: 1,
                            y: 0
                        },
                        colors: [h.userTheme.primary, h.userTheme.secondary],
                        style: h.button
                    }, !!w && r.a.createElement(vt, {
                        accessibilityLabel: "Continue Game",
                        onPress: F,
                        textStyle: {
                            color: h.userTheme.text
                        },
                        style: {
                            backgroundColor: de.clear
                        }
                    }, "Continue Game")), r.a.createElement(vt, {
                        accessibilityLabel: "New Game",
                        onPress: function() {
                            Ne({
                                eventName: "funnel_open_new_game"
                            }), i.navigate("newGame")
                        },
                        style: h.button
                    }, "New Game"), r.a.createElement(vt, {
                        accessibilityLabel: "Join Game",
                        onPress: function() {
                            Ne({
                                eventName: "funnel_open_multiplayer_game"
                            }), l("joinMultiplayerGame")
                        },
                        style: h.button
                    }, "Join Game")), !!T && r.a.createElement(vt, {
                        accessibilityLabel: "Achievement",
                        onPress: L,
                        style: h.button
                    }, "Achieve Something!"), r.a.createElement(B.a, {
                        style: E.latitudeLogo
                    }, r.a.createElement(ot.a, {
                        source: x ? or.a : ar.a,
                        style: h.LatitudeLogo
                    })))
                };

            function Vf() {
                var e = Object(x.a)(["\nquery {\n  user {\n    id\n    continueAdventure {\n      id\n      mode\n    }\n  }\n}\n"]);
                return Vf = function() {
                    return e
                }, e
            }
            var Wf = k()(Vf()),
                Hf = function() {
                    var e = se(Se()),
                        t = e.userTheme,
                        n = e.fontSizes,
                        a = e.fonts;
                    return Object(g.a)(Object(g.a)({}, e), {}, {
                        optionContainer: {
                            flexDirection: "row"
                        },
                        option: {
                            flex: 1,
                            borderRadius: 10,
                            paddingVertical: 80,
                            margin: 10,
                            backgroundColor: t.primary
                        },
                        optionText: {
                            fontSize: n.large,
                            fontFamily: a.header,
                            color: t.text,
                            textAlign: "center",
                            alignSelf: "center",
                            marginHorizontal: "auto",
                            marginVertical: 10
                        },
                        helpText: {
                            fontSize: n.medium,
                            fontFamily: a.body,
                            color: t.text,
                            textAlign: "center",
                            alignSelf: "flex-start",
                            alignItems: "center",
                            justifyContent: "center",
                            marginTop: 50,
                            marginHorizontal: "web" === A.a.OS ? "10%" : 20,
                            marginBottom: 5
                        },
                        button: {
                            alignSelf: "center",
                            marginVertical: 20,
                            maxWidth: 450,
                            borderRadius: 5,
                            width: "100%"
                        },
                        LatitudeLogo: {
                            height: 22,
                            width: 150
                        }
                    })
                },
                Uf = function(e) {
                    e.route;
                    var t, n, o = Object(C.useNavigation)(),
                        i = Object(u.useQuery)(Wf).data,
                        l = Hf(),
                        c = l.containerStyles,
                        s = l.isDarkMode,
                        d = null === i || void 0 === i || null === (t = i.user) || void 0 === t || null === (n = t.continueAdventure) || void 0 === n ? void 0 : n.id,
                        m = function() {
                            return o.navigate("help")
                        };
                    return Object(a.useLayoutEffect)((function() {
                        o.setOptions({
                            headerRight: function() {
                                return r.a.createElement(B.a, {
                                    style: {
                                        flexDirection: "row"
                                    },
                                    accessible: !1
                                }, r.a.createElement(_r, {
                                    iconName: "help",
                                    style: {
                                        marginRight: 15
                                    },
                                    onPress: m,
                                    accessibilityLabel: "Help"
                                }))
                            }
                        })
                    }), [d, o]), r.a.createElement($t.a, {
                        contentContainerStyle: c.screen
                    }, r.a.createElement(Bf, null), r.a.createElement(B.a, {
                        style: [c.content]
                    }, r.a.createElement(B.a, {
                        style: {
                            marginBottom: "web" === A.a.OS ? 225 : 150
                        }
                    }), r.a.createElement(Or, {
                        start: {
                            x: 0,
                            y: 0
                        },
                        end: {
                            x: 1,
                            y: 0
                        },
                        colors: [l.userTheme.primary, l.userTheme.secondary],
                        style: l.button
                    }, r.a.createElement(vt, {
                        accessibilityLabel: "Singleplayer",
                        onPress: function() {
                            Ne({
                                eventName: "funnel_start_singleplayer_game"
                            }), o.navigate("scenarioPlay", {
                                publicId: "edd5fdc0-9c81-11ea-a76c-177e6c0711b5"
                            })
                        },
                        textStyle: {
                            color: l.userTheme.text
                        },
                        style: {
                            backgroundColor: de.clear
                        }
                    }, "Singleplayer")), r.a.createElement(vt, {
                        accessibilityLabel: "Multiplayer",
                        onPress: function() {
                            Ne({
                                eventName: "funnel_start_multiplayer_game"
                            }), o.navigate("scenarioPlay", {
                                publicId: "cbc992b0-9c85-11ea-a76c-177e6c0711b5"
                            })
                        },
                        style: l.button
                    }, "Multiplayer"), r.a.createElement(vt, {
                        accessibilityLabel: "Featured Scenarios",
                        onPress: function() {
                            Ne({
                                eventName: "funnel_view_featured_scenarios"
                            }), o.navigate("featuredScenarios")
                        },
                        style: l.button
                    }, "Featured Scenarios")), r.a.createElement(B.a, {
                        style: c.latitudeLogo
                    }, r.a.createElement(ot.a, {
                        source: s ? or.a : ar.a,
                        style: l.LatitudeLogo
                    })))
                },
                qf = function(e) {
                    if (!e || "" === e.trim()) return [];
                    var t = /\$\{([^}]+)\}/g;
                    try {
                        for (var n, a = []; null !== (n = t.exec(e));) a.push(n);
                        return null === a || void 0 === a ? void 0 : a.map((function(e) {
                            return e[1]
                        }))
                    } catch (r) {
                        return []
                    }
                },
                Gf = function(e, t, n) {
                    try {
                        var a = new RegExp("\\$\\{" + (null === t || void 0 === t ? void 0 : t.replace(/[.*+\-?^${}()|[\]\\]/g, "\\$&")) + "\\}", "g");
                        return null === e || void 0 === e ? void 0 : e.replace(a, n)
                    } catch (r) {
                        return e
                    }
                },
                Yf = function(e) {
                    var t = e.prompt,
                        n = e.setPrompt,
                        o = e.variable,
                        i = e.loading,
                        l = e.scrollToEnd,
                        c = Object(a.useState)(),
                        u = Object(p.a)(c, 2),
                        s = u[0],
                        d = u[1],
                        m = Object(a.useState)(""),
                        f = Object(p.a)(m, 2),
                        b = f[0],
                        y = f[1],
                        v = function() {
                            var e = Object(O.a)(S.a.mark((function e() {
                                var a;
                                return S.a.wrap((function(e) {
                                    for (;;) switch (e.prev = e.next) {
                                        case 0:
                                            if ("" !== b.trim()) {
                                                e.next = 2;
                                                break
                                            }
                                            return e.abrupt("return", d("Please enter a value."));
                                        case 2:
                                            a = Gf(t, o, b), y(""), n(a);
                                        case 5:
                                        case "end":
                                            return e.stop()
                                    }
                                }), e)
                            })));
                            return function() {
                                return e.apply(this, arguments)
                            }
                        }();
                    return r.a.createElement(mm, {
                        loading: i,
                        error: s,
                        scrollToEnd: l,
                        input: b,
                        onChangeText: function(e) {
                            -1 === e.indexOf("\n") && y(e)
                        },
                        onKeyPress: function(e) {
                            var t = e.nativeEvent,
                                n = t.key,
                                a = t.shiftKey;
                            "web" !== A.a.OS || "Enter" !== n || a || v()
                        },
                        disableButtons: !0,
                        onSubmit: v
                    })
                };

            function Qf() {
                var e = Object(x.a)(["\n    fragment PlaceholderFragment on GameSettings {\n        ...StoryTextFragment\n    }\n    ", "\n  "]);
                return Qf = function() {
                    return e
                }, e
            }
            var $f = function(e) {
                var t = e.settings,
                    n = e.prompt,
                    a = e.setPrompt,
                    o = e.loading,
                    i = _f(),
                    l = qf(n)[0],
                    c = "character.name" === l ? "Enter your character's name..." : l;
                return r.a.createElement(B.a, {
                    style: i.container
                }, r.a.createElement($t.a, {
                    style: i.scrollView,
                    contentContainerStyle: i.scrollViewContent
                }, r.a.createElement(B.a, {
                    style: {
                        alignSelf: "flex-start",
                        marginTop: N({
                            default: 64,
                            web: 100
                        })
                    }
                }, r.a.createElement(Dr, {
                    settings: t,
                    text: c
                }))), r.a.createElement(Yf, {
                    prompt: n,
                    setPrompt: a,
                    variable: l,
                    loading: o
                }))
            };
            $f.fragments = {
                gameSettings: k()(Qf(), Dr.fragments.gameSettings)
            };
            var _f = function() {
                    var e = se(Se()),
                        t = e.userMode;
                    return Object(g.a)(Object(g.a)({}, e), {}, {
                        container: {
                            width: "100%",
                            flex: 1,
                            backgroundColor: t.background,
                            paddingHorizontal: N({
                                default: 30,
                                tablet: 60,
                                tabletLarge: 90
                            })
                        },
                        scrollView: {
                            flex: 1,
                            height: "80%"
                        },
                        scrollViewContent: {
                            paddingBottom: N({
                                default: 30,
                                iPhone5: 10
                            })
                        }
                    })
                },
                Xf = $f;

            function Jf() {
                var e = Object(x.a)(["\n    fragment OptionDisplayFragment on GameSettings {\n        ...StoryTextFragment\n    }\n    ", "\n  "]);
                return Jf = function() {
                    return e
                }, e
            }
            var Kf = function(e) {
                var t = e.settings,
                    n = e.options,
                    a = e.prompt,
                    o = Object(C.useNavigation)(),
                    i = eb();
                return r.a.createElement($t.a, {
                    style: i.scrollView,
                    contentContainerStyle: i.scrollViewContent
                }, r.a.createElement(B.a, {
                    style: {
                        alignSelf: "flex-start",
                        marginTop: N({
                            default: 64,
                            web: 100
                        })
                    }
                }, r.a.createElement(Dr, {
                    settings: t,
                    style: {
                        marginBottom: 20
                    },
                    animateTyping: !1,
                    text: a
                }), n.map((function(e, n) {
                    return r.a.createElement(B.a, {
                        key: n,
                        style: {
                            marginBottom: 10,
                            flexDirection: "row",
                            alignItems: "center"
                        }
                    }, r.a.createElement(vt, {
                        onPress: function() {
                            return function(e) {
                                o.navigate("scenarioPlay", {
                                    publicId: null === e || void 0 === e ? void 0 : e.publicId
                                })
                            }(e)
                        },
                        style: {
                            width: 40,
                            height: 40
                        }
                    }, n + 1), r.a.createElement(Dr, {
                        settings: t,
                        style: {
                            marginLeft: 10
                        },
                        animateTyping: !1,
                        text: Zf(e.title)
                    }))
                }))))
            };
            Kf.fragments = {
                gameSettings: k()(Jf(), Dr.fragments.gameSettings)
            };
            var Zf = function(e) {
                    var t;
                    if (e) return (null === (t = e.charAt(0)) || void 0 === t ? void 0 : t.toUpperCase()) + e.slice(1)
                },
                eb = function() {
                    return {
                        scrollView: {
                            flex: 1,
                            height: "80%"
                        },
                        scrollViewContent: {
                            paddingBottom: N({
                                default: 30,
                                iPhone5: 10
                            })
                        }
                    }
                },
                tb = Kf,
                nb = function(e) {
                    var t = e.options,
                        n = e.loading,
                        o = e.scrollToEnd,
                        i = e.tutorial,
                        l = e.tutorialStep,
                        c = Object(C.useNavigation)(),
                        u = Object(a.useState)(),
                        s = Object(p.a)(u, 2),
                        d = s[0],
                        m = s[1],
                        f = Object(a.useState)(""),
                        b = Object(p.a)(f, 2),
                        y = b[0],
                        v = b[1],
                        g = (null === t || void 0 === t ? void 0 : t.length) > 0,
                        h = function(e) {
                            if (i) {
                                if (1 === l && "1" !== y.trim()) return v(""), m('Please enter "1" for fantasy');
                                if (2 === l && "4" !== y.trim()) return v(""), m('Please enter "4" for wizard')
                            }
                            if (!g) return v("");
                            var n = parseInt(y);
                            if (n > 0 && n <= (null === t || void 0 === t ? void 0 : t.length)) {
                                var a = t[n - 1],
                                    r = null === a || void 0 === a ? void 0 : a.publicId;
                                return v(""), c.replace("scenarioPlay", {
                                    publicId: r
                                })
                            }
                            var o = null === y || void 0 === y ? void 0 : y.trim().toLowerCase();
                            if (null === t || void 0 === t ? void 0 : t.map((function(e) {
                                    return e.title
                                })).includes(o)) {
                                var u = t.filter((function(e) {
                                        return e.title === o
                                    }))[0],
                                    s = null === u || void 0 === u ? void 0 : u.publicId;
                                return v(""), c.replace("scenarioPlay", {
                                    publicId: s
                                })
                            }
                            m("Invalid selection."), v("")
                        };
                    return r.a.createElement(r.a.Fragment, null, r.a.createElement(mm, {
                        loading: n,
                        error: d,
                        scrollToEnd: o,
                        input: y,
                        onChangeText: function(e) {
                            if (!g) return v(""); - 1 === e.indexOf("\n") && v(e)
                        },
                        onKeyPress: function(e) {
                            var t = e.nativeEvent,
                                n = t.key,
                                a = t.shiftKey;
                            "web" !== A.a.OS || "Enter" !== n || a || h()
                        },
                        disableButtons: !0,
                        onSubmit: h
                    }))
                };

            function ab() {
                var e = Object(x.a)(["\n    fragment SelectOptionSettingsFragment on GameSettings {\n      ...OptionDisplayFragment\n    }\n    ", "\n  "]);
                return ab = function() {
                    return e
                }, e
            }

            function rb() {
                var e = Object(x.a)(["\n    fragment SelectOptionScenarioFragment on Scenario {\n      id\n      prompt\n      options {\n        id\n        publicId\n        title\n      }\n    }\n  "]);
                return rb = function() {
                    return e
                }, e
            }
            var ob = function(e) {
                var t = e.scenario,
                    n = e.settings,
                    a = e.loading,
                    o = e.tutorial,
                    i = e.tutorialStep,
                    l = ib(),
                    c = null === t || void 0 === t ? void 0 : t.options,
                    u = null === t || void 0 === t ? void 0 : t.prompt;
                return t ? r.a.createElement(B.a, {
                    style: l.container
                }, r.a.createElement(tb, {
                    settings: n,
                    options: c,
                    prompt: u
                }), r.a.createElement(nb, {
                    tutorial: o,
                    tutorialStep: i,
                    options: c,
                    loading: a
                })) : null
            };
            ob.fragments = {
                scenario: k()(rb()),
                gameSettings: k()(ab(), tb.fragments.gameSettings)
            };
            var ib = function() {
                    var e = se(Se()),
                        t = e.userMode;
                    return Object(g.a)(Object(g.a)({}, e), {}, {
                        container: {
                            flex: 1,
                            width: "100%",
                            backgroundColor: t.background,
                            paddingHorizontal: N({
                                default: 30,
                                tablet: 60,
                                tabletLarge: 90
                            }),
                            justifyContent: "flex-end"
                        }
                    })
                },
                lb = ob;

            function cb() {
                var e = Object(x.a)(["\nmutation ($scenarioId: String, $prompt: String) {\n  addAdventure(scenarioId: $scenarioId, prompt: $prompt) {\n    id\n    publicId\n    title\n    description\n    musicTheme\n    tags\n    nsfw\n    published\n    createdAt\n    updatedAt\n    deletedAt\n    publicId\n  }\n}\n"]);
                return cb = function() {
                    return e
                }, e
            }

            function ub() {
                var e = Object(x.a)(["\n  query ($publicId: String) {\n    scenario(publicId: $publicId) {\n      ...SelectOptionScenarioFragment\n    }\n  }\n  ", "\n"]);
                return ub = function() {
                    return e
                }, e
            }

            function sb() {
                var e = Object(x.a)(["\n  query {\n    user {\n      id\n      gameSettings {\n        ...PlaceholderFragment\n        ...SelectOptionSettingsFragment\n        ...StoryTextFragment\n      }\n    }\n  }\n  ", "\n  ", "\n  ", "\n"]);
                return sb = function() {
                    return e
                }, e
            }
            var db = k()(sb(), Xf.fragments.gameSettings, lb.fragments.gameSettings, Dr.fragments.gameSettings),
                mb = k()(ub(), lb.fragments.scenario),
                fb = k()(cb()),
                bb = function() {
                    var e = se(Se()),
                        t = e.userMode;
                    return Object(g.a)(Object(g.a)({}, e), {}, {
                        container: {
                            flex: 1,
                            width: "100%",
                            backgroundColor: t.background,
                            paddingHorizontal: N({
                                default: 30,
                                tablet: 60,
                                tabletLarge: 90
                            })
                        },
                        scrollView: {
                            flex: 1,
                            height: "80%"
                        },
                        scrollViewContent: {
                            paddingBottom: N({
                                default: 30,
                                iPhone5: 10
                            })
                        }
                    })
                },
                yb = function(e) {
                    var t, n = e.route,
                        o = Object(C.useNavigation)(),
                        i = bb(),
                        l = null === (t = n.params) || void 0 === t ? void 0 : t.publicId,
                        c = Object(a.useState)(null),
                        s = Object(p.a)(c, 2),
                        d = s[0],
                        m = s[1],
                        f = Object(a.useState)(0),
                        b = Object(p.a)(f, 2),
                        y = b[0],
                        v = b[1],
                        g = Object(a.useState)(!1),
                        h = Object(p.a)(g, 2),
                        E = h[0],
                        x = h[1],
                        w = Object(u.useQuery)(db).data,
                        S = Object(u.useQuery)(mb, {
                            variables: {
                                publicId: l
                            }
                        }),
                        O = S.data,
                        j = S.loading,
                        T = null === w || void 0 === w ? void 0 : w.user,
                        k = null === T || void 0 === T ? void 0 : T.gameSettings,
                        A = null === O || void 0 === O ? void 0 : O.scenario,
                        I = null === A || void 0 === A ? void 0 : A.options,
                        P = (null === I || void 0 === I ? void 0 : I.length) > 0,
                        L = qf(null !== d && void 0 !== d ? d : null === A || void 0 === A ? void 0 : A.prompt),
                        F = (null === L || void 0 === L ? void 0 : L.length) > 0,
                        z = Object(u.useMutation)(fb, {
                            onCompleted: function(e) {
                                var t, n = null === (t = e.addAdventure) || void 0 === t ? void 0 : t.publicId;
                                o.replace("play", {
                                    publicId: n
                                })
                            }
                        }),
                        M = Object(p.a)(z, 2),
                        R = M[0],
                        D = M[1],
                        V = D.loading,
                        W = D.called,
                        H = Ya(),
                        U = H.openOverlay,
                        q = H.closeOverlay;
                    if (Object(a.useEffect)((function() {
                            E && function(e) {
                                var t = e.upStep;
                                U("tutorial", {
                                    tutorialStep: y,
                                    endTutorial: function() {
                                        x(!1), q()
                                    },
                                    onClose: function() {
                                        t && v(y + 1), q()
                                    }
                                })
                            }({
                                upStep: !0
                            })
                        }), [l]), Object(a.useEffect)((function() {
                            W || j || P || F || !l || R({
                                variables: {
                                    scenarioId: null === A || void 0 === A ? void 0 : A.id,
                                    prompt: d
                                }
                            })
                        }), [j, W, P, F, l]), !A) return null;
                    if (j || P) return r.a.createElement(lb, {
                        scenario: A,
                        settings: k,
                        tutorial: E,
                        tutorialStep: y,
                        loading: V
                    });
                    if (F) return r.a.createElement(Xf, {
                        settings: k,
                        prompt: null !== d && void 0 !== d ? d : null === A || void 0 === A ? void 0 : A.prompt,
                        setPrompt: m,
                        loading: V
                    });
                    var G = W ? "Generating story..." : "";
                    return r.a.createElement(B.a, {
                        style: i.container
                    }, r.a.createElement($t.a, {
                        style: i.scrollView,
                        contentContainerStyle: i.scrollViewContent
                    }, r.a.createElement(B.a, {
                        style: {
                            alignSelf: "flex-start",
                            marginTop: N({
                                default: 64,
                                web: 100
                            })
                        }
                    }, r.a.createElement(Dr, {
                        settings: k,
                        text: G
                    }))), r.a.createElement(mm, {
                        loading: j || V
                    }))
                };

            function vb() {
                var e = Object(x.a)(["\n    fragment AchievementCardFragment on Achievement {\n      id\n      name\n      description\n      image\n      category\n    }\n  "]);
                return vb = function() {
                    return e
                }, e
            }
            var gb = function(e) {
                var t, n, a = e.achievement,
                    o = e.onPress,
                    i = pb(),
                    l = i.userTheme,
                    c = null === a || void 0 === a ? void 0 : a.image;
                return a ? r.a.createElement(L.a, {
                    onPress: o,
                    style: i.container
                }, r.a.createElement(B.a, {
                    style: i.card
                }, r.a.createElement(B.a, {
                    style: i.row
                }, !!c && r.a.createElement(F.a, {
                    rounded: !0,
                    size: "medium",
                    source: {
                        uri: c
                    },
                    containerStyle: i.avatar
                }), !c && r.a.createElement(F.a, {
                    rounded: !0,
                    size: "medium",
                    title: null === a || void 0 === a || null === (t = a.name) || void 0 === t || null === (n = t.charAt(0)) || void 0 === n ? void 0 : n.toUpperCase(),
                    containerStyle: i.avatar,
                    titleStyle: {
                        color: l.text
                    }
                }), r.a.createElement(B.a, {
                    style: i.userInfo
                }, r.a.createElement(P.a, {
                    style: i.username
                }, null === a || void 0 === a ? void 0 : a.name))))) : null
            };
            gb.fragments = {
                achievement: k()(vb())
            };
            var pb = function() {
                    var e = se(Se()),
                        t = e.userMode,
                        n = e.userTheme,
                        a = e.fontSizes,
                        r = e.fonts;
                    return Object(g.a)(Object(g.a)({}, e), {}, {
                        container: {
                            display: "flex",
                            marginVertical: 10,
                            paddingHorizontal: 5
                        },
                        card: {
                            display: "flex",
                            flexDirection: "row",
                            justifyContent: "space-between",
                            alignItems: "center"
                        },
                        row: {
                            flexDirection: "row",
                            alignItems: "center"
                        },
                        avatar: {
                            marginRight: 10,
                            backgroundColor: n.primary
                        },
                        userInfo: {
                            flexDirection: "column",
                            marginHorizontal: 10
                        },
                        username: {
                            fontFamily: r.header,
                            fontSize: a.small,
                            color: t.text
                        },
                        badge: {
                            flexDirection: "row",
                            alignItems: "center",
                            marginTop: 2
                        },
                        text: {
                            fontFamily: r.body,
                            fontSize: a.xSmall,
                            color: t.text
                        },
                        button: {
                            borderWidth: 2,
                            borderColor: t.secondaryBackground,
                            borderRadius: 5,
                            paddingVertical: 5,
                            paddingHorizontal: 15,
                            width: "auto"
                        },
                        actionButton: {
                            borderWidth: 2,
                            borderColor: n.primary,
                            borderRadius: 5,
                            backgroundColor: n.primary,
                            paddingVertical: 5,
                            paddingHorizontal: 15,
                            width: "auto"
                        }
                    })
                },
                hb = gb;

            function Eb() {
                var e = Object(x.a)(["\n  query ($username: String) {\n    user(username: $username) {\n      id\n      achievementsCompleted {\n        ...AchievementCardFragment\n      }\n    }\n  }\n  ", "\n"]);
                return Eb = function() {
                    return e
                }, e
            }
            var xb = k()(Eb(), hb.fragments.achievement),
                wb = function() {
                    var e = se(Se()),
                        t = e.userMode,
                        n = e.fontSizes,
                        a = e.fonts;
                    return Object(g.a)(Object(g.a)({}, e), {}, {
                        description: {
                            fontFamily: a.body,
                            fontSize: n.medium,
                            color: t.text,
                            textAlign: "center",
                            margin: 10
                        }
                    })
                },
                Sb = function(e) {
                    var t, n, a = null === (t = e.route.params) || void 0 === t ? void 0 : t.username,
                        o = Object(u.useQuery)(xb, {
                            variables: {
                                username: a
                            }
                        }).data,
                        i = null === o || void 0 === o || null === (n = o.user) || void 0 === n ? void 0 : n.achievementsCompleted,
                        l = wb(),
                        c = l.containerStyles;
                    return r.a.createElement(B.a, {
                        style: c.screen
                    }, r.a.createElement(B.a, {
                        style: c.content
                    }, null === i || void 0 === i ? void 0 : i.map((function(e, t) {
                        return r.a.createElement(hb, {
                            key: t,
                            achievement: e
                        })
                    })), (!i || i.length < 1) && r.a.createElement(P.a, {
                        style: l.description
                    }, "No achievements")))
                };

            function Ob() {
                var e = Object(x.a)(["\nmutation ($targetUserId: String) {\n  unfollowUser(targetUserId: $targetUserId) {\n    id\n    isFollowedByCurrentUser\n  }\n}\n"]);
                return Ob = function() {
                    return e
                }, e
            }

            function jb() {
                var e = Object(x.a)(["\nmutation ($targetUserId: String) {\n  followUser(targetUserId: $targetUserId) {\n    id\n    isFollowedByCurrentUser\n  }\n}\n"]);
                return jb = function() {
                    return e
                }, e
            }

            function Cb() {
                var e = Object(x.a)(["\n    fragment UserCardFragment on User {\n      id\n      avatar\n      username\n      hasPremium\n      isDeveloper\n      isCurrentUser\n      isFollowedByCurrentUser\n    }\n  "]);
                return Cb = function() {
                    return e
                }, e
            }
            var Tb = function(e) {
                var t, n, o = e.user,
                    i = e.onPress,
                    l = e.key,
                    c = Object(a.useState)(!0),
                    s = Object(p.a)(c, 2),
                    d = s[0],
                    m = s[1],
                    f = Ib(),
                    b = f.textStyles,
                    y = f.userTheme,
                    v = Object(u.useMutation)(kb),
                    g = Object(p.a)(v, 1)[0],
                    h = Object(u.useMutation)(Ab),
                    E = Object(p.a)(h, 1)[0],
                    x = (null === o || void 0 === o ? void 0 : o.avatar) && "none" !== (null === o || void 0 === o ? void 0 : o.avatar),
                    w = null === o || void 0 === o ? void 0 : o.isDeveloper;
                Object(a.useEffect)((function() {
                    m(null === o || void 0 === o ? void 0 : o.isFollowedByCurrentUser)
                }), [o]);
                return o ? r.a.createElement(L.a, {
                    onPress: i,
                    style: f.container,
                    key: l
                }, r.a.createElement(B.a, {
                    style: f.card
                }, r.a.createElement(B.a, {
                    style: f.row
                }, !!x && r.a.createElement(F.a, {
                    rounded: !0,
                    size: "medium",
                    source: {
                        uri: z + o.avatar
                    },
                    containerStyle: f.avatar
                }), !x && r.a.createElement(F.a, {
                    rounded: !0,
                    size: "medium",
                    title: null === o || void 0 === o || null === (t = o.username) || void 0 === t || null === (n = t.charAt(0)) || void 0 === n ? void 0 : n.toUpperCase(),
                    containerStyle: f.avatar,
                    titleStyle: {
                        color: y.text
                    }
                }), r.a.createElement(B.a, {
                    style: f.userInfo
                }, r.a.createElement(P.a, {
                    style: f.username
                }, o.username), !!o.hasPremium && !w && r.a.createElement(B.a, {
                    style: f.badge
                }, r.a.createElement(qe, {
                    name: "medal",
                    size: 15,
                    color: y.primary,
                    style: {
                        marginRight: 5
                    }
                }), r.a.createElement(P.a, {
                    style: [f.text, {
                        color: y.primary
                    }]
                }, "Supporter")), w && r.a.createElement(B.a, {
                    style: f.badge
                }, r.a.createElement(qe, {
                    name: "crown",
                    size: 15,
                    color: y.primary,
                    style: {
                        marginRight: 5
                    }
                }), r.a.createElement(P.a, {
                    style: [f.text, {
                        color: y.primary
                    }]
                }, "Developer")))), !o.isCurrentUser && !d && r.a.createElement(L.a, {
                    style: f.actionButton,
                    onPress: function() {
                        return e = null === o || void 0 === o ? void 0 : o.id, g({
                            variables: {
                                targetUserId: e
                            }
                        }), void m(!d);
                        var e
                    }
                }, r.a.createElement(P.a, {
                    style: [b.body, {
                        color: y.text,
                        textAlign: "center"
                    }]
                }, "Follow")), !o.isCurrentUser && d && r.a.createElement(L.a, {
                    style: f.button,
                    onPress: function() {
                        return e = null === o || void 0 === o ? void 0 : o.id, E({
                            variables: {
                                targetUserId: e
                            }
                        }), void m(!d);
                        var e
                    }
                }, r.a.createElement(P.a, {
                    style: [b.body, {
                        textAlign: "center"
                    }]
                }, "Following")))) : null
            };
            Tb.fragments = {
                user: k()(Cb())
            };
            var kb = k()(jb()),
                Ab = k()(Ob()),
                Ib = function() {
                    var e = se(Se()),
                        t = e.userMode,
                        n = e.userTheme,
                        a = e.fontSizes,
                        r = e.fonts;
                    return Object(g.a)(Object(g.a)({}, e), {}, {
                        container: {
                            display: "flex",
                            marginVertical: 10,
                            paddingHorizontal: 20
                        },
                        card: {
                            display: "flex",
                            flexDirection: "row",
                            justifyContent: "space-between",
                            alignItems: "center"
                        },
                        row: {
                            flexDirection: "row",
                            alignItems: "center"
                        },
                        avatar: {
                            marginRight: 10,
                            backgroundColor: n.primary
                        },
                        userInfo: {
                            flexDirection: "column",
                            marginHorizontal: 10
                        },
                        username: {
                            fontFamily: r.header,
                            fontSize: a.small,
                            color: t.text
                        },
                        badge: {
                            flexDirection: "row",
                            alignItems: "center",
                            marginTop: 2
                        },
                        text: {
                            fontFamily: r.body,
                            fontSize: a.xSmall,
                            color: t.text
                        },
                        button: {
                            borderWidth: 2,
                            borderColor: t.secondaryBackground,
                            borderRadius: 5,
                            paddingVertical: 5,
                            paddingHorizontal: 15,
                            width: "auto"
                        },
                        actionButton: {
                            borderWidth: 2,
                            borderColor: n.primary,
                            borderRadius: 5,
                            backgroundColor: n.primary,
                            paddingVertical: 5,
                            paddingHorizontal: 15,
                            width: "auto"
                        }
                    })
                },
                Pb = Tb;

            function Lb() {
                var e = Object(x.a)(["\n    fragment UserListFragment on User {\n      ...UserCardFragment\n    }\n    ", "\n  "]);
                return Lb = function() {
                    return e
                }, e
            }
            var Bb = function(e) {
                var t = Object(C.useNavigation)(),
                    n = e.items,
                    a = null === n || void 0 === n ? void 0 : n.filter((function(e) {
                        return !e.deletedAt
                    })),
                    o = (null === a || void 0 === a ? void 0 : a.length) > 0,
                    i = Fb();
                return r.a.createElement(r.a.Fragment, null, null === a || void 0 === a ? void 0 : a.map((function(e, n) {
                    return r.a.createElement(Pb, {
                        key: n,
                        user: e,
                        onPress: function() {
                            return n = e.username, t.navigate("profile", {
                                username: n
                            });
                            var n
                        }
                    })
                })), !o && r.a.createElement(P.a, {
                    style: i.description
                }, "No users"))
            };
            Bb.fragments = {
                user: k()(Lb(), Pb.fragments.user)
            };
            var Fb = function() {
                    var e = se(Se()),
                        t = e.userMode,
                        n = e.fontSizes,
                        a = e.fonts;
                    return Object(g.a)(Object(g.a)({}, e), {}, {
                        description: {
                            fontFamily: a.body,
                            fontSize: n.medium,
                            color: t.text,
                            textAlign: "center",
                            margin: 10
                        }
                    })
                },
                zb = Bb;

            function Mb() {
                var e = Object(x.a)(["\n  query ($username: String) {\n    user(username: $username) {\n      id\n      username\n      hasPremium\n      isDeveloper\n      followers {\n        ...UserListFragment\n      }\n      following {\n        ...UserListFragment\n      }\n    }\n  }\n  ", "\n"]);
                return Mb = function() {
                    return e
                }, e
            }
            var Rb = k()(Mb(), zb.fragments.user),
                Db = function() {
                    var e = se(Se()),
                        t = e.userMode,
                        n = e.fontSizes,
                        a = e.fonts;
                    return Object(g.a)(Object(g.a)({}, e), {}, {
                        userContainer: {
                            flexDirection: "row",
                            alignSelf: "center",
                            marginTop: 60,
                            marginBottom: 20
                        },
                        container: {
                            width: "100%",
                            marginTop: 10
                        },
                        text: {
                            fontFamily: a.header,
                            fontSize: n.medium,
                            color: t.text,
                            textAlign: "center"
                        },
                        list: {
                            marginTop: 20,
                            width: "100%"
                        }
                    })
                },
                Nb = function(e) {
                    var t = e.route.params,
                        n = t.username,
                        o = t.list,
                        i = Object(u.useQuery)(Rb, {
                            variables: {
                                username: n
                            }
                        }).data,
                        l = null === i || void 0 === i ? void 0 : i.user,
                        c = Object(a.useState)(o),
                        s = Object(p.a)(c, 2),
                        d = s[0],
                        m = s[1],
                        f = Db(),
                        b = f.containerStyles,
                        y = f.userMode,
                        v = f.userTheme;
                    return l ? r.a.createElement(B.a, {
                        style: [{
                            backgroundColor: y.background
                        }, f.container, b.basic]
                    }, r.a.createElement(B.a, {
                        style: f.userContainer
                    }, r.a.createElement(P.a, {
                        style: f.text
                    }, null === l || void 0 === l ? void 0 : l.username), (null === l || void 0 === l ? void 0 : l.hasPremium) && !(null === l || void 0 === l ? void 0 : l.isDeveloper) && r.a.createElement(qe, {
                        name: "medal",
                        size: 20,
                        color: v.primary,
                        style: {
                            marginLeft: 5
                        }
                    }), (null === l || void 0 === l ? void 0 : l.isDeveloper) && r.a.createElement(qe, {
                        name: "crown",
                        size: 20,
                        color: v.primary,
                        style: {
                            marginLeft: 5
                        }
                    })), r.a.createElement(cn, {
                        startIndex: "followers" === d ? 0 : 1,
                        labels: ["Followers", "Following"],
                        onPressActions: [function() {
                            return m("followers")
                        }, function() {
                            return m("following")
                        }]
                    }), r.a.createElement($t.a, {
                        contentContainerStyle: [b.screen, {
                            paddingTop: 0
                        }]
                    }, r.a.createElement(B.a, {
                        style: [b.content, {
                            width: "100%"
                        }]
                    }, "followers" === d && r.a.createElement(zb, {
                        items: null === l || void 0 === l ? void 0 : l.followers
                    }), "following" === d && r.a.createElement(zb, {
                        items: null === l || void 0 === l ? void 0 : l.following
                    })))) : r.a.createElement(bt.a, {
                        style: {
                            marginBottom: 20,
                            marginTop: 80,
                            alignSelf: "center",
                            justifyContent: "center"
                        },
                        color: "white",
                        size: 120
                    })
                };

            function Vb() {
                var e = Object(x.a)(["\nmutation ($targetUserId: String) {\n  unfollowUser(targetUserId: $targetUserId) {\n    id\n    isFollowedByCurrentUser\n    followersCount\n  }\n}\n"]);
                return Vb = function() {
                    return e
                }, e
            }

            function Wb() {
                var e = Object(x.a)(["\nmutation ($targetUserId: String) {\n  followUser(targetUserId: $targetUserId) {\n    id\n    isFollowedByCurrentUser\n    followersCount\n  }\n}\n"]);
                return Wb = function() {
                    return e
                }, e
            }

            function Hb() {
                var e = Object(x.a)(["\n  query ($username: String) {\n    user(username: $username) {\n      id\n      bio\n      isCurrentUser\n      hasPremium\n      isDeveloper\n      avatar\n      username\n      isFollowedByCurrentUser\n      followersCount\n      followingCount\n      achievementsCount\n    }\n  }\n"]);
                return Hb = function() {
                    return e
                }, e
            }
            var Ub = k()(Hb()),
                qb = k()(Wb()),
                Gb = k()(Vb()),
                Yb = function() {
                    var e = "100%";
                    "max" === En({
                        eventName: "david_profile_maxwidth_test",
                        variations: {
                            max: 50,
                            noMax: 50
                        }
                    }) && (e = 400);
                    var t = se(Se()),
                        n = t.userMode,
                        a = t.userTheme,
                        r = t.fontSizes,
                        o = t.fonts;
                    return Object(g.a)(Object(g.a)({}, t), {}, {
                        container: {
                            display: "flex",
                            justifyContent: "center",
                            alignItems: "center",
                            alignSelf: "center",
                            marginTop: 10,
                            marginBottom: 25,
                            marginHorizontal: 30,
                            width: "100%",
                            maxWidth: e
                        },
                        row: {
                            flexDirection: "row",
                            alignItems: "center",
                            marginVertical: 10
                        },
                        avatar: {
                            marginRight: 10,
                            backgroundColor: a.primary
                        },
                        userInfo: {
                            width: "90%",
                            maxWidth: 800,
                            marginBottom: 10
                        },
                        column: {
                            flexDirection: "column"
                        },
                        username: {
                            fontFamily: o.header,
                            fontSize: r.medium,
                            color: n.text,
                            marginBottom: 5
                        },
                        bio: {
                            fontFamily: o.body,
                            fontSize: r.small,
                            color: n.text,
                            marginBottom: 5
                        },
                        badge: {
                            flexDirection: "row",
                            alignItems: "center",
                            marginBottom: 5
                        },
                        stats: {
                            flexDirection: "column",
                            alignItems: "center",
                            marginHorizontal: 10
                        },
                        number: {
                            fontFamily: o.body,
                            fontSize: r.medium,
                            color: n.text
                        },
                        text: {
                            fontFamily: o.body,
                            fontSize: r.small,
                            color: n.text
                        },
                        button: {
                            borderWidth: 2,
                            borderColor: n.secondaryBackground,
                            borderRadius: 5,
                            padding: 5,
                            width: N({
                                default: "90%",
                                web: 300,
                                tabletLarge: 300
                            })
                        },
                        actionButton: {
                            borderWidth: 2,
                            borderColor: a.primary,
                            borderRadius: 5,
                            backgroundColor: a.primary,
                            padding: 5,
                            width: N({
                                default: "90%",
                                web: 300,
                                tabletLarge: 300
                            })
                        }
                    })
                },
                Qb = function(e) {
                    var t, n, a = e.username,
                        o = Object(C.useNavigation)(),
                        i = Object(u.useQuery)(Ub, {
                            variables: {
                                username: a
                            }
                        }),
                        l = i.data,
                        c = i.refetch,
                        s = null === l || void 0 === l ? void 0 : l.user,
                        d = null === s || void 0 === s ? void 0 : s.isFollowedByCurrentUser,
                        m = null === s || void 0 === s ? void 0 : s.followingCount,
                        f = null === s || void 0 === s ? void 0 : s.followersCount,
                        b = null === s || void 0 === s ? void 0 : s.achievementsCount,
                        y = ye().HALLOWEEN,
                        v = Yb(),
                        g = v.textStyles,
                        h = v.userTheme,
                        E = Object(u.useMutation)(qb, {
                            onCompleted: function() {
                                var e = Object(O.a)(S.a.mark((function e() {
                                    return S.a.wrap((function(e) {
                                        for (;;) switch (e.prev = e.next) {
                                            case 0:
                                                return e.next = 2, c();
                                            case 2:
                                            case "end":
                                                return e.stop()
                                        }
                                    }), e)
                                })));
                                return function() {
                                    return e.apply(this, arguments)
                                }
                            }()
                        }),
                        x = Object(p.a)(E, 1)[0],
                        w = Object(u.useMutation)(Gb, {
                            onCompleted: function() {
                                var e = Object(O.a)(S.a.mark((function e() {
                                    return S.a.wrap((function(e) {
                                        for (;;) switch (e.prev = e.next) {
                                            case 0:
                                                return e.next = 2, c();
                                            case 2:
                                            case "end":
                                                return e.stop()
                                        }
                                    }), e)
                                })));
                                return function() {
                                    return e.apply(this, arguments)
                                }
                            }()
                        }),
                        j = Object(p.a)(w, 1)[0],
                        T = (null === s || void 0 === s ? void 0 : s.avatar) && "none" !== (null === s || void 0 === s ? void 0 : s.avatar),
                        k = null === s || void 0 === s ? void 0 : s.isDeveloper,
                        A = function() {
                            o.navigate("updateAvatar")
                        };
                    return s ? r.a.createElement(B.a, {
                        style: v.container
                    }, r.a.createElement(B.a, {
                        style: v.row
                    }, !!T && r.a.createElement(F.a, {
                        rounded: !0,
                        size: "large",
                        source: {
                            uri: z + s.avatar
                        },
                        onPress: s.isCurrentUser ? A : null,
                        containerStyle: v.avatar
                    }), !T && r.a.createElement(F.a, {
                        rounded: !0,
                        size: "large",
                        title: null === s || void 0 === s || null === (t = s.username) || void 0 === t || null === (n = t.charAt(0)) || void 0 === n ? void 0 : n.toUpperCase(),
                        onPress: s.isCurrentUser ? A : null,
                        containerStyle: v.avatar,
                        titleStyle: {
                            color: h.text
                        }
                    }), r.a.createElement(B.a, {
                        style: v.row
                    }, r.a.createElement(L.a, {
                        style: v.stats,
                        onPress: function() {
                            o.navigate("followLists", {
                                username: a,
                                list: "followers"
                            })
                        }
                    }, r.a.createElement(P.a, {
                        style: [v.number, {
                            fontWeight: "bold"
                        }]
                    }, null !== f && void 0 !== f ? f : 0), r.a.createElement(P.a, {
                        style: v.text
                    }, "Followers")), r.a.createElement(L.a, {
                        style: v.stats,
                        onPress: function() {
                            o.navigate("followLists", {
                                username: a,
                                list: "following"
                            })
                        }
                    }, r.a.createElement(P.a, {
                        style: [v.number, {
                            fontWeight: "bold"
                        }]
                    }, null !== m && void 0 !== m ? m : 0), r.a.createElement(P.a, {
                        style: v.text
                    }, "Following")), !!y && r.a.createElement(L.a, {
                        style: v.stats,
                        onPress: function() {
                            o.navigate("achievements", {
                                username: a
                            })
                        }
                    }, r.a.createElement(P.a, {
                        style: [v.number, {
                            fontWeight: "bold"
                        }]
                    }, null !== b && void 0 !== b ? b : 0), r.a.createElement(P.a, {
                        style: v.text
                    }, "Achieved")))), r.a.createElement(B.a, {
                        style: v.userInfo
                    }, r.a.createElement(B.a, {
                        style: v.column
                    }, r.a.createElement(P.a, {
                        style: v.username
                    }, s.username), !!s.hasPremium && !k && r.a.createElement(B.a, {
                        style: v.badge
                    }, r.a.createElement(qe, {
                        name: "medal",
                        size: N({
                            default: 15,
                            web: 20,
                            tabletLarge: 20
                        }),
                        color: h.primary,
                        style: {
                            marginRight: 5
                        }
                    }), r.a.createElement(P.a, {
                        style: [v.text, {
                            color: h.primary
                        }]
                    }, "Supporter")), k && r.a.createElement(B.a, {
                        style: v.badge
                    }, r.a.createElement(qe, {
                        name: "crown",
                        size: N({
                            default: 15,
                            web: 20,
                            tabletLarge: 20
                        }),
                        color: h.primary,
                        style: {
                            marginRight: 5
                        }
                    }), r.a.createElement(P.a, {
                        style: [v.text, {
                            color: h.primary
                        }]
                    }, "Developer"))), !!(null === s || void 0 === s ? void 0 : s.bio) && r.a.createElement(P.a, {
                        style: v.bio
                    }, null === s || void 0 === s ? void 0 : s.bio)), !!s.isCurrentUser && r.a.createElement(L.a, {
                        style: v.button,
                        onPress: function() {
                            o.navigate("editProfile")
                        }
                    }, r.a.createElement(P.a, {
                        style: [g.body, {
                            textAlign: "center"
                        }]
                    }, "Edit Profile")), !s.isCurrentUser && !d && r.a.createElement(L.a, {
                        style: v.actionButton,
                        onPress: function() {
                            return e = null === s || void 0 === s ? void 0 : s.id, void x({
                                variables: {
                                    targetUserId: e
                                }
                            });
                            var e
                        }
                    }, r.a.createElement(P.a, {
                        style: [g.body, {
                            color: h.text,
                            textAlign: "center"
                        }]
                    }, "Follow")), !s.isCurrentUser && d && r.a.createElement(L.a, {
                        style: v.button,
                        onPress: function() {
                            return e = null === s || void 0 === s ? void 0 : s.id, void j({
                                variables: {
                                    targetUserId: e
                                }
                            });
                            var e
                        }
                    }, r.a.createElement(P.a, {
                        style: [g.body, {
                            textAlign: "center"
                        }]
                    }, "Following"))) : null
                };

            function $b() {
                var e = Object(x.a)(["\n  query ($username: String, $input: SearchInput) {\n    user(username: $username) {\n      id\n      isCurrentUser\n      username\n      search(input: $input) {\n        ...ContentListFragment\n      }\n    }\n  }\n  ", "\n"]);
                return $b = function() {
                    return e
                }, e
            }
            var _b = k()($b(), lu.fragments.searchable),
                Xb = function(e) {
                    var t = e.route.params.username,
                        n = Object(a.useState)("scenario"),
                        o = Object(p.a)(n, 2),
                        i = o[0],
                        l = o[1],
                        c = {
                            username: t,
                            input: {
                                contentType: i,
                                published: !0
                            }
                        },
                        s = Object(u.useQuery)(_b, {
                            variables: c,
                            notifyOnNetworkStatusChange: !0
                        }),
                        d = s.data,
                        m = s.loading,
                        f = s.fetchMore,
                        b = null === d || void 0 === d ? void 0 : d.user,
                        y = null === b || void 0 === b ? void 0 : b.search,
                        v = Object(a.useState)(!1),
                        h = Object(p.a)(v, 2),
                        E = h[0],
                        x = h[1];
                    Object(a.useEffect)((function() {
                        x(!1)
                    }), [i]), Object(a.useEffect)((function() {
                        l("scenario")
                    }), [t]);
                    var w = se(Se()),
                        S = w.containerStyles,
                        O = w.textStyles;
                    return r.a.createElement(B.a, {
                        style: [{
                            backgroundColor: w.userMode.background
                        }, S.basic]
                    }, r.a.createElement($t.a, {
                        onScroll: function(e) {
                            (function(e) {
                                var t = e.layoutMeasurement,
                                    n = e.contentOffset,
                                    a = e.contentSize;
                                return t.height + n.y >= a.height - 20
                            })(e.nativeEvent) && (m || E || f({
                                variables: {
                                    username: t,
                                    input: {
                                        contentType: i,
                                        offset: null === y || void 0 === y ? void 0 : y.length,
                                        published: !0
                                    }
                                },
                                updateQuery: function(e, t) {
                                    var n, a = t.fetchMoreResult;
                                    if (!a) return e;
                                    if (!(null === (n = a.user.search) || void 0 === n ? void 0 : n.length)) return x(!0), e;
                                    var r = [].concat(Object(mr.a)(e.user.search), Object(mr.a)(a.user.search)),
                                        o = Object(mr.a)(new Set(r.map((function(e) {
                                            return null === e || void 0 === e ? void 0 : e.id
                                        })))).map((function(e) {
                                            return r.find((function(t) {
                                                return (null === t || void 0 === t ? void 0 : t.id) === e
                                            }))
                                        }));
                                    return e.user.search = [].concat(Object(mr.a)(e.user.search), Object(mr.a)(a.user.search)), Object(g.a)(Object(g.a)({}, e), {}, {
                                        user: Object(g.a)(Object(g.a)({}, e.user), {}, {
                                            search: o
                                        })
                                    })
                                }
                            }))
                        },
                        scrollEventThrottle: 1e3,
                        contentContainerStyle: S.screen
                    }, r.a.createElement(Qb, {
                        username: t
                    }), r.a.createElement(B.a, {
                        style: [S.content, {
                            width: "100%",
                            marginTop: 0
                        }]
                    }, r.a.createElement(cn, {
                        startIndex: 0,
                        labels: ["Scenarios", "Adventures"],
                        onPressActions: [function() {
                            return l("scenario")
                        }, function() {
                            return l("adventure")
                        }]
                    }), r.a.createElement(lu, {
                        items: function() {
                            var e;
                            return (null === y || void 0 === y ? void 0 : y.length) > 0 && (null === (e = y[0].__typename) || void 0 === e ? void 0 : e.toLowerCase()) !== i ? [] : y
                        }(),
                        noContentMessage: function() {
                            if (m) return "";
                            switch (i) {
                                case "adventure":
                                    if (null === b || void 0 === b ? void 0 : b.isCurrentUser) return "You haven't published any adventures yet.";
                                    if (null === b || void 0 === b ? void 0 : b.username) return "".concat(null === b || void 0 === b ? void 0 : b.username, " hasn't published any adventures yet.");
                                    break;
                                case "scenario":
                                    if (null === b || void 0 === b ? void 0 : b.isCurrentUser) return "You haven't published any scenarios yet.";
                                    if (null === b || void 0 === b ? void 0 : b.username) return "".concat(null === b || void 0 === b ? void 0 : b.username, " hasn't published any adventures yet.");
                                    break;
                                default:
                                    return "Something went wrong...try logging out and back in again?"
                            }
                        }(),
                        context: "Profile"
                    }), m && !E && r.a.createElement(Zl, null), E && r.a.createElement(B.a, {
                        style: {
                            alignSelf: "center",
                            marginTop: 32
                        }
                    }, r.a.createElement(P.a, {
                        style: O.smallBody
                    }, "All ".concat(i, "s have been loaded!"))))))
                },
                Jb = function() {
                    var e = se(Se()),
                        t = e.userMode;
                    return Object(g.a)(Object(g.a)({}, e), {}, {
                        container: {
                            flexDirection: "row",
                            flexWrap: "wrap",
                            justifyContent: "flex-start",
                            marginVertical: 20
                        },
                        unselected: {
                            margin: 10
                        },
                        selected: {
                            borderWidth: 5,
                            borderColor: t.border,
                            margin: 5
                        }
                    })
                },
                Kb = function(e) {
                    var t, n = e.images,
                        a = e.link,
                        o = e.selectedImage,
                        i = e.onImageSelected,
                        l = e.username,
                        c = n.indexOf(o) + 1,
                        u = "web" === A.a.OS,
                        s = Jb(),
                        d = Math.round(R.a.get("window").width),
                        m = u ? (.8 * d - 76) / 3 : (d - 81) / 3;
                    return r.a.createElement(B.a, {
                        style: u ? [s.container, {
                            marginHorizontal: "10%"
                        }] : [s.container, {
                            marginHorizontal: 10
                        }]
                    }, !!l && r.a.createElement(r.a.Fragment, null, r.a.createElement(L.a, {
                        onPress: function() {
                            i && i("none")
                        },
                        style: [o ? s.unselected : s.selected, {
                            backgroundColor: s.userTheme.primary
                        }]
                    }, r.a.createElement(F.a, {
                        size: m,
                        title: null === l || void 0 === l || null === (t = l.charAt(0)) || void 0 === t ? void 0 : t.toUpperCase(),
                        titleStyle: {
                            color: s.userTheme.text
                        }
                    }))), null === n || void 0 === n ? void 0 : n.map((function(e, t) {
                        return r.a.createElement(L.a, {
                            key: t,
                            onPress: function() {
                                i && i(e)
                            },
                            style: t + 1 === c ? s.selected : s.unselected
                        }, r.a.createElement(ot.a, {
                            style: {
                                width: m,
                                height: m
                            },
                            source: {
                                uri: a + e
                            }
                        }))
                    })))
                };

            function Zb() {
                var e = Object(x.a)(["\nmutation ($input: UserInput) {\n  updateUser(input: $input) {\n    id\n    avatar\n  }\n}\n"]);
                return Zb = function() {
                    return e
                }, e
            }

            function ey() {
                var e = Object(x.a)(["\nquery {\n  userAvatars {\n    id\n    fileName\n  }\n}\n"]);
                return ey = function() {
                    return e
                }, e
            }

            function ty() {
                var e = Object(x.a)(["\nquery($type: String, $category: String) {\n  productList(type: $type, category: $category) {\n    id\n    fileName\n  }\n}\n"]);
                return ty = function() {
                    return e
                }, e
            }

            function ny() {
                var e = Object(x.a)(["\nquery {\n  user {\n    id\n    username\n    avatar\n    contributorPoints\n  }\n}\n"]);
                return ny = function() {
                    return e
                }, e
            }
            var ay = function() {
                    var e = se(Se()),
                        t = e.userTheme,
                        n = e.userMode,
                        a = e.fontSizes,
                        r = e.fonts;
                    return Object(g.a)(Object(g.a)({}, e), {}, {
                        container: {
                            width: "100%",
                            marginTop: 20,
                            marginBottom: 40
                        },
                        creditContainer: {
                            flexDirection: "row",
                            justifyContent: "center"
                        },
                        text: {
                            fontFamily: r.body,
                            fontSize: a.medium,
                            color: n.text,
                            textAlign: "center"
                        },
                        subtext: {
                            fontFamily: r.body,
                            fontSize: a.small,
                            color: n.text,
                            textAlign: "center"
                        },
                        link: {
                            fontFamily: r.body,
                            fontSize: a.small,
                            color: t.primary,
                            textAlign: "center",
                            paddingLeft: 3
                        }
                    })
                },
                ry = k()(ny()),
                oy = k()(ty()),
                iy = k()(ey()),
                ly = k()(Zb()),
                cy = function() {
                    var e = se(Se()),
                        t = e.userMode,
                        n = e.fontSizes,
                        a = e.fonts;
                    return Object(g.a)(Object(g.a)({}, e), {}, {
                        container: {
                            alignItems: "center",
                            justifyContent: "flex-start",
                            marginTop: N({
                                default: 0,
                                iPhoneX: -3,
                                iPhoneXR: -3
                            })
                        },
                        containerWithSubtitle: {
                            marginTop: N({
                                default: -9,
                                android: 0
                            })
                        },
                        titleText: {
                            fontSize: n.large,
                            fontFamily: a.body,
                            color: t.text
                        },
                        longTitleText: {
                            fontSize: n.medium
                        }
                    })
                },
                uy = function(e) {
                    var t = e.subtitle,
                        n = e.children,
                        a = cy(),
                        o = t ? a.containerWithSubtitle : null;
                    return r.a.createElement(B.a, {
                        style: [a.container, o]
                    }, r.a.createElement(P.a, {
                        style: [a.titleText, (null === n || void 0 === n ? void 0 : n.length) > 20 ? a.longTitleText : null]
                    }, n))
                },
                sy = {
                    adventure: "adventureView",
                    scenario: "scenarioView",
                    reset: "passwordReset",
                    subscribe: "subscribe",
                    play: "play",
                    modelQuality: "modelQuality"
                },
                dy = [{
                    name: "about",
                    component: dr
                }, {
                    name: "demo",
                    component: ko
                }, {
                    name: "achievements",
                    component: Sb,
                    title: "Achievements"
                }, {
                    name: "actionDifficulty",
                    component: wd
                }, {
                    name: "actionDifficultyHelp",
                    component: Od
                }, {
                    name: "actionDifficultyHelpTransition",
                    component: Od
                }, {
                    name: "adventureEdit",
                    component: Gl
                }, {
                    name: "adventurePlay",
                    component: If
                }, {
                    name: "adventureView",
                    component: xc
                }, {
                    name: "adventureWorldEntries",
                    component: Pc
                }, {
                    name: "allUpdates",
                    component: hr
                }, {
                    name: "changeEmail",
                    component: lo
                }, {
                    name: "changePassword",
                    component: mo
                }, {
                    name: "changeUsername",
                    component: vo
                }, {
                    name: "character",
                    component: Bd
                }, {
                    name: "characterHelp",
                    component: Fd
                }, {
                    name: "characterHelpTransition",
                    component: Fd
                }, {
                    name: "comments",
                    component: Wc
                }, {
                    name: "confirmation",
                    component: wo
                }, {
                    name: "contribute",
                    component: rd
                }, {
                    name: "contributorAgreement",
                    component: Qs
                }, {
                    name: "deleteAccount",
                    component: Co
                }, {
                    name: "editProfile",
                    component: Qc
                }, {
                    name: "explore",
                    component: yu,
                    title: "Explore"
                }, {
                    name: "newExplore",
                    component: os,
                    title: "Explore"
                }, {
                    name: "featuredScenarios",
                    component: hu
                }, {
                    name: "followLists",
                    component: Nb
                }, {
                    name: "forgotPassword",
                    component: Lo
                }, {
                    name: "help",
                    component: kr
                }, {
                    name: "home",
                    component: Nf
                }, {
                    name: "landing",
                    component: Wr
                }, {
                    name: "loginRegister",
                    component: Fo
                }, {
                    name: "manageSubscription",
                    component: Zo
                }, {
                    name: "modelQuality",
                    component: Yr
                }, {
                    name: "myStuff",
                    component: ts,
                    title: "My Stuff"
                }, {
                    name: "newGame",
                    component: Uf
                }, {
                    name: "newUpdates",
                    component: ao
                }, {
                    name: "passwordReset",
                    component: ni
                }, {
                    name: "play",
                    component: If
                }, {
                    name: "profile",
                    component: Xb
                }, {
                    name: "questGeneration",
                    component: Ud
                }, {
                    name: "questGenerationHelp",
                    component: qd
                }, {
                    name: "questGenerationHelpTransition",
                    component: qd
                }, {
                    name: "reviewerApplication",
                    component: od
                }, {
                    name: "scenarioEdit",
                    component: Gu
                }, {
                    name: "scenarioPlay",
                    component: yb
                }, {
                    name: "scenarioScripts",
                    component: vs
                }, {
                    name: "scenarioStart",
                    component: yb
                }, {
                    name: "scenarioView",
                    component: ws
                }, {
                    name: "scenarioWorldEntries",
                    component: Is
                }, {
                    name: "settings",
                    component: qi
                }, {
                    name: "store",
                    component: ud
                }, {
                    name: "subscribe",
                    component: bl
                }, {
                    name: "updateAvatar",
                    component: function() {
                        var e, t, n = Object(C.useNavigation)(),
                            a = Object(u.useQuery)(ry).data,
                            o = Object(u.useQuery)(iy).data,
                            i = null === a || void 0 === a ? void 0 : a.user,
                            l = null === o || void 0 === o || null === (e = o.userAvatars) || void 0 === e ? void 0 : e.map((function(e) {
                                return e.fileName
                            })),
                            c = Object(u.useQuery)(oy, {
                                variables: {
                                    type: "avatar",
                                    category: "contributor"
                                }
                            }).data,
                            s = null === c || void 0 === c || null === (t = c.productList) || void 0 === t ? void 0 : t.map((function(e) {
                                return e.fileName
                            })),
                            d = null === i || void 0 === i ? void 0 : i.contributorPoints,
                            m = ay(),
                            f = m.containerStyles,
                            b = m.userMode,
                            y = Object(u.useMutation)(ly, {
                                onCompleted: function() {
                                    return n.canGoBack() ? n.goBack() : n.navigate("profile", {
                                        user: null === i || void 0 === i ? void 0 : i.username
                                    })
                                }
                            }),
                            v = Object(p.a)(y, 1)[0],
                            g = function(e) {
                                return v({
                                    variables: {
                                        input: {
                                            avatar: e
                                        }
                                    }
                                })
                            };
                        return r.a.createElement(B.a, {
                            style: [{
                                backgroundColor: b.background
                            }, f.basic]
                        }, r.a.createElement($t.a, {
                            contentContainerStyle: f.screen
                        }, r.a.createElement(Qr.a, {
                            style: m.container
                        }, !!l && r.a.createElement(r.a.Fragment, null, r.a.createElement(P.a, {
                            style: m.text
                        }, "Select your AI generated avatar:"), r.a.createElement(Kb, {
                            images: l,
                            link: z,
                            selectedImage: null === i || void 0 === i ? void 0 : i.avatar,
                            onImageSelected: g,
                            username: null === i || void 0 === i ? void 0 : i.username
                        })), d > 100 && !!s && r.a.createElement(r.a.Fragment, null, r.a.createElement(P.a, {
                            style: m.text
                        }, "Contributor avatars:"), r.a.createElement(Kb, {
                            images: s,
                            link: z,
                            selectedImage: null === i || void 0 === i ? void 0 : i.avatar,
                            onImageSelected: g
                        })), r.a.createElement(B.a, {
                            style: m.creditContainer
                        }, r.a.createElement(P.a, {
                            style: m.subtext
                        }, "Images created on "), r.a.createElement(P.a, {
                            style: m.link,
                            onPress: function() {
                                return yn.a.openURL("http://artbreeder.com")
                            }
                        }, "Artbreeder")))))
                    }
                }, {
                    name: "verify",
                    component: El
                }, {
                    name: "world",
                    component: Fs
                }, {
                    name: "worlds",
                    component: Ds
                }, {
                    name: "worldStart",
                    component: qs
                }],
                my = r.a.createRef(),
                fy = function(e, t) {
                    var n;
                    null === (n = my.current) || void 0 === n || n.reset({
                        index: 0,
                        routes: [{
                            name: "home"
                        }, {
                            name: e,
                            params: t
                        }]
                    })
                },
                by = function() {
                    var e = function() {
                            if ("web" === A.a.OS) {
                                var e = Object(c.f)().pathname.split("/");
                                if ((null === e || void 0 === e ? void 0 : e.length) > 1 && "" !== e[1] && "main" !== e[1]) {
                                    var t = e[1];
                                    if (t in sy) return sy[t]
                                }
                            }
                        }(),
                        t = function() {
                            if ("web" === A.a.OS) {
                                var e, t, n, a = Object(c.f)(),
                                    r = a.pathname.split("/"),
                                    o = (null === a || void 0 === a ? void 0 : a.search) ? JSON.parse('{"' + decodeURI(null === (e = a.search) || void 0 === e || null === (t = e.replace("?", "")) || void 0 === t || null === (n = t.replace(/&/g, '","')) || void 0 === n ? void 0 : n.replace(/=/g, '":"')) + '"}') : null,
                                    i = r[1];
                                return "play" !== i && "scenario" !== i && "adventure" !== i || !r[2] || (o = {
                                    playPublicId: r[2]
                                }), o
                            }
                        }(),
                        n = Ja().user,
                        o = function(e, t) {
                            return e || (t ? "home" : "landing")
                        }(e, null === n || void 0 === n ? void 0 : n.username),
                        i = se(Se()).userMode,
                        l = Object(a.useRef)(null),
                        u = Object(a.useRef)(null),
                        s = Object(at.a)(),
                        d = function(e) {
                            var t;
                            return null === e || void 0 === e || null === (t = e.replace(/([A-Z])/g, (function(e) {
                                return " ".concat(e)
                            }))) || void 0 === t ? void 0 : t.replace(/^./, (function(e) {
                                return null === e || void 0 === e ? void 0 : e.toUpperCase()
                            }))
                        };
                    return r.a.createElement(Qa, {
                        navigatorRef: u,
                        setActiveOverlayRef: l
                    }, r.a.createElement(s.Navigator, {
                        initialRouteName: "deeplink",
                        headerMode: "screen",
                        mode: "modal",
                        screenOptions: function(e) {
                            var t = e.navigation;
                            return {
                                headerTransparent: !0,
                                headerForceInset: {
                                    top: "never",
                                    bottom: "never"
                                },
                                headerTintColor: i.background,
                                headerTitleStyle: {
                                    fontWeight: "bold"
                                },
                                headerBackground: function() {
                                    return r.a.createElement(B.a, {
                                        style: {
                                            backgroundColor: i.background,
                                            flex: 1
                                        }
                                    })
                                },
                                headerLeft: function() {
                                    return r.a.createElement(B.a, {
                                        style: {
                                            flexDirection: "row"
                                        },
                                        accessible: !1
                                    }, !(null === t || void 0 === t ? void 0 : t.canGoBack()) && r.a.createElement(_r, {
                                        accessible: !0,
                                        accessibilityLabel: "Open Menu",
                                        accessibilityRole: "button",
                                        iconName: "menu",
                                        onPress: function() {
                                            t.dispatch(C.DrawerActions.toggleDrawer()), rt.a.dismiss()
                                        },
                                        style: {
                                            marginLeft: 15
                                        }
                                    }), (null === t || void 0 === t ? void 0 : t.canGoBack()) && r.a.createElement(_r, {
                                        accessible: !0,
                                        accessibilityLabel: "Go Back",
                                        accessibilityRole: "button",
                                        iconName: "arrow-left",
                                        onPress: t.goBack,
                                        style: {
                                            marginLeft: 15
                                        }
                                    }))
                                }
                            }
                        }
                    }, r.a.createElement(s.Screen, {
                        name: "deeplink",
                        component: Gd,
                        options: {
                            headerShown: !1,
                            animationEnabled: !1
                        },
                        initialParams: {
                            initialBaseRoute: o,
                            initialRouteParams: t
                        }
                    }), dy.map((function(e, t) {
                        return r.a.createElement(s.Screen, {
                            key: t,
                            name: e.name,
                            component: e.component,
                            options: function(t) {
                                var n = t.navigation;
                                return {
                                    headerLeft: function() {
                                        return r.a.createElement(B.a, {
                                            style: {
                                                flexDirection: "row"
                                            },
                                            accessible: !1
                                        }, !(null === n || void 0 === n ? void 0 : n.canGoBack()) && r.a.createElement(_r, {
                                            accessible: !0,
                                            accessibilityLabel: "Open Menu",
                                            accessibilityRole: "button",
                                            iconName: "menu",
                                            onPress: function() {
                                                n.dispatch(C.DrawerActions.toggleDrawer()), rt.a.dismiss()
                                            },
                                            style: {
                                                marginLeft: 15
                                            }
                                        }), (null === n || void 0 === n ? void 0 : n.canGoBack()) && r.a.createElement(_r, {
                                            accessible: !0,
                                            accessibilityLabel: "Go Back",
                                            accessibilityRole: "button",
                                            iconName: "arrow-left",
                                            onPress: n.goBack,
                                            style: {
                                                marginLeft: 15
                                            }
                                        }))
                                    },
                                    title: e.title || d(e.name) + " | AI Dungeon",
                                    cardStyle: {
                                        backgroundColor: de.background
                                    },
                                    headerTitle: function() {
                                        return r.a.createElement(uy, {
                                            children: e.title
                                        })
                                    }
                                }
                            }
                        })
                    })), r.a.createElement(s.Screen, {
                        name: "sidebar",
                        mode: "modal",
                        component: et,
                        options: {
                            cardStyle: {
                                backgroundColor: de.transparent
                            },
                            cardOverlayEnabled: !0,
                            animationEnabled: !1,
                            headerShown: !1
                        }
                    })))
                },
                yy = function() {
                    var e = se(Se()),
                        t = e.userMode;
                    return Object(g.a)(Object(g.a)({}, e), {}, {
                        drawerStyle: {
                            borderRightColor: t.secondaryBackground,
                            borderRightWidth: 1.5,
                            backgroundColor: de.transparent
                        }
                    })
                },
                vy = function() {
                    var e = Object(a.useState)(!0),
                        t = Object(p.a)(e, 2),
                        n = t[0],
                        o = t[1],
                        i = Object(h.a)(),
                        l = yy();
                    return Object(a.useEffect)((function() {
                        o(!1)
                    }), [n]), r.a.createElement(E.a, {
                        ref: my,
                        linking: !0
                    }, r.a.createElement(nt, {
                        style: {
                            backgroundColor: de.background
                        }
                    }), r.a.createElement(i.Navigator, {
                        initialRouteName: "main",
                        drawerType: "front",
                        drawerStyle: l.drawerStyle,
                        drawerContent: function(e) {
                            return n ? null : r.a.createElement(et, e)
                        }
                    }, r.a.createElement(i.Screen, {
                        name: "main",
                        component: by
                    })))
                };
            s.initializeApp({
                apiKey: "AIzaSyBJJSL9pvAZ4llQWavd565hXGrCpHppJj8",
                authDomain: "aidungeon-2c6cc.firebaseapp.com",
                databaseURL: "https://aidungeon-2c6cc.firebaseio.com",
                projectId: "aidungeon-2c6cc",
                storageBucket: "aidungeon-2c6cc.appspot.com",
                messagingSenderId: "292747045222",
                appId: "1:292747045222:web:4cb42e07f9d059e64f00a7",
                measurementId: "G-K1L8DR0C30"
            }), s.analytics();
            var gy = "\n@font-face {\n  font-family: 'MaterialCommunityIcons';\n  src: url(".concat(v.a, ") format('truetype');\n}\n@font-face {\n  font-family: 'FontAwesome';\n  src: url(").concat(b.a, ") format('truetype');\n}\n"),
                py = function(e) {
                    d.a.timing(e, {
                        toValue: 1,
                        duration: 1e3,
                        useNativeDriver: !0
                    }).start()
                },
                hy = function(e) {
                    var t = Object(a.useRef)(new d.a.Value(0)).current;
                    return Object(a.useEffect)((function() {
                        py(t)
                    }), []), r.a.createElement(u.ApolloProvider, {
                        client: Fe
                    }, r.a.createElement(Oe, null, r.a.createElement(tr, null, r.a.createElement(ve, null, r.a.createElement(d.a.View, {
                        style: {
                            flex: 1,
                            opacity: t
                        }
                    }, r.a.createElement("style", {
                        type: "text/css"
                    }, gy), r.a.createElement(m.a, {
                        barStyle: "light-content"
                    }), r.a.createElement(vy, e))))))
                },
                Ey = (n(760), function() {
                    var e = r.a.createElement("article", {
                        className: "article"
                    }, r.a.createElement("h1", {
                        className: "h1"
                    }, "Status: Healthy"), r.a.createElement("div", null, r.a.createElement("p", null, "AI Dungeon servers are humming away generating always unique stories for intrepid adventurers. We're not aware of any server issues but if you are experiencing issues you can contact us at ", r.a.createElement("a", {
                        className: "a",
                        href: "support@aidungeon.io"
                    }, "support@aidungeon.io"), ".")));
                    return r.a.createElement("div", {
                        className: "body"
                    }, r.a.createElement("title", {
                        className: "body"
                    }, "Site Status"), e, void 0, r.a.createElement("p", {
                        className: "article"
                    }, "\u2014 The AI Dungeon Team"))
                }),
                xy = function() {
                    return r.a.createElement(l.a, null, r.a.createElement(c.c, null, r.a.createElement(c.a, {
                        path: "/status"
                    }, r.a.createElement(Ey, null)), r.a.createElement(c.a, {
                        path: "/subscribe"
                    }, r.a.createElement(hy, {
                        routeName: "subscribe"
                    })), r.a.createElement(c.a, {
                        path: "/reset"
                    }, r.a.createElement(hy, {
                        routeName: "passwordReset"
                    })), r.a.createElement(c.a, {
                        path: "/"
                    }, r.a.createElement(hy, null))))
                };
            i.a.render(r.a.createElement(xy, null), document.getElementById("root")), "serviceWorker" in navigator && navigator.serviceWorker.ready.then((function(e) {
                e.unregister()
            }))
        },
        90: function(e, t) {
            e.exports = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABJAAAACvCAYAAACisyRCAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyVpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQ4IDc5LjE2NDAzNiwgMjAxOS8wOC8xMy0wMTowNjo1NyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIDIxLjEgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MDQ4NkMwNDc2MTg3MTFFQTkxRjJCMzg3ODYyMTQ3OTIiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MDQ4NkMwNDg2MTg3MTFFQTkxRjJCMzg3ODYyMTQ3OTIiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDowNDg2QzA0NTYxODcxMUVBOTFGMkIzODc4NjIxNDc5MiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDowNDg2QzA0NjYxODcxMUVBOTFGMkIzODc4NjIxNDc5MiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pg9gBuAAACH3SURBVHja7N0JnCVVfS/wmgsMywwwiFtEvNgajUYFAi55bvAQX5RP1OfjJe6S+BLcWEIURSUoBlwhKC5EQUATjMb1RX1GoxARNSogalSQtFzloWCEmQFmhm06/9N9W5qxp9d77zlV9f1+Pn+qYZquc0/VVJ/6VdWpFS//zD9esscj99u3ghq5/T27X7r5RzscdMJHtr9BbwAAAMDwTExMVJ3PvfyV+179b9++THdQFyk8uuOynfaduKUzoTcAAABg+DrVxET1/448du/eVy76vu6gdNPhkZ4AAACA0elM/nNiovrCK173sPEvnn+pLqFUwiMAAADIozPzX7702hP3FSJRIuERAAAA5NPZ8j8IkSiN8AgAAADy6sz2H4VIlEJ4BAAAAPl1tvYHQiRyEx4BAABAGTpz/aEQiVyERwAAAFCOznzfIERi1IRHAAAAUJbOQr5JiMSoCI8AAACgPJ2FfqMQiWETHgEAAECZOov5ZiESwyI8AgAAgHJ1Fvs/CJEYNOERAAAAlK2zlP9JiMSgCI8AAACgfJ2l/o9CJJZLeAQAAAD10FnO/yxEYqmERwAAAFAfneX+ACESiyU8AgAAgHrpDOKHCJFYKOERAAAA1E9nUD9IiMR8hEcAAABQT51B/jAhElsjPAIAAID66gz6BwqR2JLwCAAAAOqtM4wfKkRimvAIAAAA6q8zrB8sREJ4BAAAAM3QGeYPFyK1l/AIAAAAmqMz7BUIkdpHeAQAAADN0hnFSoRI7SE8AgAAgObpjGpFQqTmEx4BAABAM3VGuTIhUnMJjwAAAKC5OqNeoRCpeYRHAAAA0GydHCsVIjWH8AgAAACar5NrxUKk+hMeAQAAQDt0cq5ciFRfwiMAAABoj07uBgiR6kd4BAAAAO3SKaERQqT6EB4BAABA+3RKaYgQqXzCIwAAAGinTkmNESKVS3gEAAAA7dUprUFCpPIIjwAAAKDdOiU2SohUDuERAAAA0Cm1YUKk/IRHAAAAQNIpuXFCpHyERwAAAMC0TukNFCKNnvAIAAAAmKlTh0YKkUZHeAQAAABsqVOXhgqRhk94BAAAAMymU6fGCpGGR3gEAAAAbE2nbg0WIg2e8AgAAACYS6eOjRYiDY7wCAAAAJhPp64NFyItn/AIAAAAWIhOnRsvRFo64REAAACwUJ26fwAh0uIJjwAAAIDF2LYJHyKFSLG4dOzgA4Ui8xAesVRj3e7Osdgm0+pvHO/17rAVar8P7RCLHWrW7M2x763P3G87xmJ7e1Bj3Br71IYCj7W3R7tumqNdq2Kxnc3XGJtie2+aZTuviMWumdo0EW1a53dl1vHWutgGEzVqbx3cFH16e4v353TDyi52g8ZYu21TPokQaQEjQ+ERy/OFqMdkWvcjor5nE9TeBVGPrlmbJ2Lws08M/r6bsQ1vijrK7tMY50YdNsefXxi1d4Z2/UvUwXP8+d9HPd3ma4zXR71hlv++MuqGTG36VdTdbZrqK1H7ZFr3bukEcZH/z/lR+9lsWxfjiOkv0wWpFNBt7n99c9S6fqW/d9dGXddfXh3106hejEE21vjjp33qP+0FjbFi2yZ9GiHS1gmPGIBbMq77Rt1f+8HTH1b1C48mf1FWUwHOIRnb4O67Zplve96cqV032zStMuudPnGiesuMk91Ru8lm2fq2GYXY/mttt6GaeSfObosYQ10Tiyv69e9R34m6rCZ37BnDNGz8sm3TPpUQ6TcJjxiQWzOu+xbdX1/9RyJOrPFHeGp8hgNioHZBpvULUJtlvu15my4i80ldOinN8Rjb7TZLa8d5zO0+/Tpgi/FVCpQuivpa1JdjnDJeYNtdnGiOybC408RPZmLtGb+JhUcMzoaM696o+2vtuVW+2/EH5dT+c/zQ1JO0+YItQX6z3FjgtnYnS15LHWs5NuTzoKg/iXp/1H/EOCXVu6IOiipizrrxXs9FkYaNXxo7GBYiCY8YuJy3oG7Q/fXUnwD6TQ34KPv2B2kw7OPZpkKP8YL8ZrmtwG3tUZcp62q2XseGgoZdUS+rpua0uzbGYO+JekwB7dpk0zRn/NLoq6ltDpGERwxBtsdoxns9t1XX1zFR923IZzk5BmI53iTi6m6zbFrmn+cIFGieuR4ryfXmSY/rTpnItF6/a5olzbH0kqivx9jlu1Ev6l/Us2+xLI2/Hb+NIZLwiIYxoKypGKjcOxavbtBHumfU8RnW6+pus5R6JdY8FeQ+2dus67Na6t3efkeV7+FRZ0aNx9js6AxBkgCpQVoxn0ObQiThEUO0NtN6DSjr661Rqxv2mdLA66E2LUPkjktyyxUmrtf1WfthqRfshAP1kS7s/U3Uj2Ms8+z+S05GQcjYDJOPubZmQtA2hEjCI6AUMSh5bCye38CPlt5e+p4RDrpon1xzvpnAmNz7woSun5TrwpkgqD32iDov6ssxnrn/CNZnfrNmmDxGt+qNMk0OkYRHNJhH2GomBiPbxOJdDf6IT4x6ni1N04YSuoC+XI9ZrtP1WQmR2+eAqO/FuO0wY3kWqnWvJG5iiCQ8ouFctaifF0ft0/DP+PYYcK2xqYEGEiTo/8UQ/NXbqqizY0xzZtRK3cF8Om380E0KkYRHjJC5CZhXDD7uEYu/bsFHTRNqn2SLMwQe46GtzHnYH95nWu9SH591zGqGF0V9LsZxu+oK5tJp6wdvQogkPKIlA7sNur5WTo5qy505L46B1v42OQOW62r+bbqezFyoyssE/hwU9QUhEnPptPnD1zlEEh5hQENpYsDx6GrqClabfoemCbU7tj4NcLMugCK4cEZOj4r6TIxttrdPs7XBb6vVMUQSHgGl6YcoaeLstr2d7JFRh9sDgAYxoXpeLpyR2+OizrZPs4XJMb6rplW9QiThERnleiuLXzr1kO48yvU417VR38n42U8e63bvaRcAGiLXJM5rdT0U49kxtnm5bmCGyUcbBUh9dQiRhEdklitActtr4frhyVsyNuFVUUdkXH+a8+kd9gQAajzeWup6vaK9uU6JMd5DdQN9O6V/CJBmKDlEEh4BBTs1ardM6/5G1AfHe72vxvJjGfvgWTHIeopdAYBlqluAdIdN1lgro84awFyP3tTXDDumfwiQtlBiiCQ8AkoVg4onxeK5mVafBiRHjPd60wOTY6u8jzyeEf2xegg/d4U9rVHm254e46Gt3MkC5XnMAMZ563RjI0yOcbfVD78phUixuHTs4AOzhzbCI6BUY93uDrE4I2MTzhrv9b49/S/x9U+iTadVU0FSDveLemPUXwz453qdbrPYnpRgmzn+bHOmNrmTZYq5HynNSTG++kiMs+q4b+4d9dNl/ow1Q27jzvMck5crPXq2clA/TIC0FSWESMIjoHCviXpApnWnuzReO9sgJ+pPou6RqV1HxiDrvBhkfcvuwVa4o4wS7DzHn63XPVmZ+5HS7Bn1/Kizatj29TEmW+6dve4MnkGANIecIZLwCO7866ALyjPW7T6kmpq8OpcTYkBw3Zb/Mf7b+mjbqzMOctKj4WdGG/aLtth3mU1d70DaxaZrFNNYsKVbGjZ2vHnGv6dHqKYfd99U3Tnf00S1sMer0uOVS71DLt29srq/vFuVb87I5TqmqmeAxIAJkOaRI0QSHsFd3KQLyjLW7aY7KNKjayszNeHfo94zx5+fHfWiqP+WqX2PiHpF1JsH9PPcsdIsdd2eAodmEQhS97/jH406fOZ4sQ4XbmIMlSYiTo+87xX1u/0xw/79r0v20Gj746OPL/RXpd0ESAswyhBJeATUQHpE7AkZ13/EXIPENKl2DHJeGl9eXA33mfK5nBBt+Fi05coB/Cxz5jSL7YmwYHYbbZastqtZezcO4NGkkYs2p/388n798/R/jzFDevQ+vZjk0KinRu1QYPPTZNoCpJYTIC3QKEIk4RFQuv4A520Zm/CPMfg6fwEDtMuirafHl0dnaufkBOPRhoNnvCVuOSdVv6jufLwg3ZU3HaBN35afJr1dv8X/s+XjCOn2+4W85ShNkrnUOTj2iXp6hv5Og/BvLPH/TVeDt1/A962eZdyU7sLbaSvfMz3pZgoxd57x/XWd3yQ9DnJN1G39f1/f3+9mPgJyW3XXx0ZunvH91Va+Z2tmPmayWAdEPTFDH30k6kdL/H9XLfAEPt051JnleDPzZDOFlCv637fLjHBg1Yzvn+sO0jWZ9rEmPUIFixJjhV/G4sOpYuyQfme8qD+G6RbUzGdG214WbTXhfYsJkBZhmCGS8AioiVOqqWf4c0ihyCsW8f2vi3pGNXWbeA4HRb0g6txlDiqPi8Vxddg5YmB5WJUnQPp89NNp/noO9eTmuXVpa+yHr6/yBEj/EP30KXsLjERjJzaO40i62HNaHMvS4/pHRR1fzT3x/aiki4j7RX3T7tdenmdfpBQijX/x/EsH+TOFR0BNTspSIPL8jE14UwyqFvwq1vjedJfDizN326nRb/ey9wAAixHjmFuj0l3f6VX0lxTSrCfbMu0mQFqCQYZIwiOgDsa63fSYzvsyNuGqagmPzsXAKz3a9KGM7U53a73LHgTAAuV6echqXV+mGMv8pJp6Mcg/FdCcx9oi7SZAWqJBhEjCI2om19wE63V9EU6MGsu4/jRx9lLnQ0mvnv1VxrYfOtbt/i+7EOD8gIWcImRar6lNChZjoDQOTxNsfylzUx5ta/gFwRItJ0QSHlFDud6OslnX5zXW7abXyx6dsQmfjIHTZ5Yx6PrPanFzJw3Du6Mfd7c3ATWwiy6gBlp3gTE90haL50T9PGMzdovxzH3tfu0lQFqmpYRIwiOgLmKQkN7cc2Y19SapHNJEkkcO4OekiazPz9iVaR6kU+1RAFu1SRewCK28wDje6103oHHRcjzU7tdeblUcgMW8nU14BNTMK6upyRtzeV0Mlq4ewIBrYqzbTRNqf7da2Cvbh+EF0YaPRFs+Z7cC+A0CJFiYj0d9K+qRmdbfrVFfHR1jrxLf2Jcu0K4a8c/Z2vfuuJWxcbobdfqGo8tj/PrH6QsB0oAsJEQSHgF1Er9wHxyLv8rYhG9HvXtQPyx+8V0Rn+nk+PINGT/TGdGGh0VbzO0Fwx2YA4vj0cWa6F8USy/oODdTE+5To+46yh4zWB5hG6C5HmcTHgF1EgOTFbF4f5Xvbp10a/rhMUi6Y8A/9y1RP8zYtXtGvdUeBkO1Shcsyza6wHkhxftYlW9+0vvofgcKBmS2EEl4BMvilvY8Do96fMb1nz7e610y6B/af4vJ4bn7dqzbPdAuBhRqZ11ADdze5g8f45kNsfhaptXvafdrnV+HlQKkIZgZIgmPYNkESCM21u3uUeW9SybNeXT8EAddF8birMzdfGb08072NgC2sFYXLMhNuqC6KNN6jV/a55bpLwRIQ5JCpMuP/+q3hUdADb2nynsF+ojxXu/GIa/j2KjrMn7GsaiT7WoAwBJdkWm9a3R9ewmQhugr/3z8/ldd/9lL9QRQF2Pd7h/F4mkZm/Dp8V7vU8NeSazj+lgck7m7j4j+foy9zmAWmHSrLshqV11QO1dmWu8KXd9eAqQh+0rvqH2FSEAdjHW7u8finRmbkJ6vHuXbMs5Lh+nMv4PPiX7fwd4HFCTXW+ycl+Q9ORcK1M/NmdYrbGyfDQ7UIyREAmoihUf3yrj+E8d7vd6oVpZegxuLI6PuyPiZHxz1xgbtQ8IwqL+JTOtdqeuznpxP6PraMQ8Uo/LrO0QFSCMiRIIl26wLhm+s202PrT0nYxN+GHXKqFc63utdVk3N+ZTTMQ16lE2ABPWX6+1Wu+j6SdtkWu86XW9fWSBhY4sJkEZIiARLsl4XDNdYt5vmj3lv5ma8dLzXuy3Tuk+I+mXm38UeZQNKsSHTeu+j6yfdWxewQLleeCJsbDEB0ogJkYACnZZ54P53473eBblWHuu+IRavzrwNmvYoG1BfuSazvr+un7RnpvW6YFc/u+sCRk2AlIEQCSjFWLf75Fi8MGMT1ka9ooCuOCfqm5nbkB5le7y9Esjslkzrfaiun/TATOs1ZUD9PCjTet2B1GICpEyESEBuY91umm/izMzNeO14r3dt7r6INqSB88uqvM/1p9/JH4jtspO9E8hoY6b17u9R3km/l2m9N+v62skVum7U9e0lQMpIiARk9rYq363yycVRZ5TSGeO93rdjcVbmZqQrzyfbNYGMcr3ZKb2F7XFt7vixbjfNf5TrUb4b7fq184RM6/25rm8vAVJmQiQg0yD1wFj8ecYmpDt9Xty/86ckx0XdkLkNR3qUDcgo512hz2t53z8j47p/Zdev1TguhY2PyLT6X9gC7bWtLsgvhUixuHSvux2yr94ARjDoWB2LD2RuxgVRq6MtB2zx3zf1axTS20tmewXup6MOy9g3K6qpR9n2Hu/1NthjYdE6LVtvk4KEQ+PYd3Qc+9a2dN99VsZ1X+fQUSsvyLju/6/7W2fb3/iCvIRIwAidFLVX5jYc2C9mN/0o29G6AhZtl5atd9CuzrjuVdXUnaCvattOO9bt7h+LJ2ZswjUOHbXZV9I5fM67yK+tUXcdXt01HE3H6UGG/YP8edv1j4Fbky4w7rrM9qR5NlfO8ecr+9+zpSunvxAgFUSIBIxg0JEejTpCT9RCepTt4+O93oW6AhihnxZw7PvbOPaNt6zfX9/y7c7C/WnUAzKu/8c16qsvxLHkKrvM4JgDqTDmRAKGpf92r/To2gq9UQtpO53bf+QQYFTS4ym3Z1x/ehPbeXHsW9mi389/FItDMjYhzUvYs+vXYl+5ZyzemHlfucKWaC8BUoGESMCQpEeiHqgbaiW9jeftugEYlfFe77ZqxuMKmTw66pw4WW78uUp8xofE4n2Zm3FVbPdN9v7i95V0YemcqHtmbMYV5mdsNwFSoYRIFGgXXVDrQUeaV+FIPVFLh8f2+wPdAIzQDwtow7OjPtTkO5His6WLOl+s5p/XZNh+YJevhdOjnpK5DRfbDO0mQCqYEAnHCwY0QE2PQJ1TeXStzs6K7bhGNwAjckkh7XhO1IVx/Lt/A383HxCLr0ftUUBzLrPLF72vbBN1Wnz5sgKa83VbxAkhBRMiAQPwlir/W9dYnvtEvbsG7fRyDmiGbxXUlkdFfT9OoI+P2rEBYcCuUe+ML78UdfdCmvVvNezKVswPGPvKPWLxuaijCmnSlx0e202AVANCJGAZA48DY/FSPdEIz4nteagBPTAC34zaXFB70ksgToz6cRwHj4narYa/j9dEvbKaeoPVEYWdh9UxQGr0BYs031HUC6qpx0mfXEizrh7v9Tzu2HKuFNZECpFiceledztkX71By+zVv807t52jtpnjz7ePmu3KaBog7rLFCfb0sXdlf1A8bc0Wg+VL4hf1m5cx+EjrPdcu1Cjvje16YewX1+oKYFjiGHNDHGvSY2z7F9a09LjXKVF/He37aCw/EfXFaO/GQkOANG5IY5j0lrXnRq0qsJnf9zuluH3mmVGvidqnsOZ92hZCgFQjQiRa6oX9aqPlvuUiDbL3tAs1SnrcIb2t5+m6AhiyL1TlBUjTdpwxPtgQJ93/GsuLqqn5Wb413uvdmOnkP51bPTzqcVGPjXpS1O6Fb+d/savn1X+72t5Rz4p6fjX12HqJPmprIUCqGSESmQdr1Gcwkm53/j96opGeFtv3sDhBOkdXAEP0yWrqLojSpTt2n1LNeDtVHCOvjsXl1dTjPz+LSv/+i6hrotanimPoTYv8vbpdNXVHcap79k/yfyvqvlEPjvqdqAfV8PzqE3b1kY/R0p1oKWjcL+rRUQdH3bvwZo9HXWjrIUCqISESmWyvC0buliUOTNKjcGfqvkZ7R2znL8cJ0E91BTAk6XXd6Rhzvxq2/b79OmiO35UT1VSYdHvUTXOcK63uj4F2aOA2TqHaRTVt+6tjG6YLZTdsUWmbbuzX2v5YauYjjrNt7/R9KdTZbp51rl7A+fPMKQ/Sz0wB5+79SqHjWFV+WDSbM2LMMeGwiACppoRI0ApLndMhverVo2vNlq6Anx2D5ycZ0E3yUhAYsHRsiWNMmkfv+IZ+xPTY0K79r3dv6WY+L7bz5pq2PYV6e/SL4bo56v1t+bBx3Euh38ohrmLLOVCHeWwbtO8IkGpMiATM8kvvkKq9c0a1zX+PennU6briLhPVw0pdMDBnRb2uf0JC87xPF7AAp4/3emtr2vafxNjYFhycFa7Y1VwKka66/rOX6glopEVNAhq/INMVVI+utctbY7v/jm6Au9hJFwxGnDT2YvExPdFIn4/te7luYB4pOHqLbqDqPxkhQGoAIRI01h2L/P73VvV8rp6lS3Ny/H1/ctcSuLN5+VbbdrW1XUM/15ts2kY6SRewAMcN4O4jd4U2w+TcrAKkhhAiMQK76oJyjXW7z4nF/9YTrfR7Ua8vpC2rbY5l29a2q61VTfxQcfKYxpfuQmqWdPfRV3UD8/h6NZjHHN0V2gzr0j8ESA0iRGLIzH9QqLFuN00g+W490WrpbTSP1Q3AkBxbLfHNoBQn3d38lwP8eat0aSOlN9U9r8aTrDN4m9I/BEgNI0SCdhnrdlOw94GoNXqj1dLv8w/F/tDWu0gE3MzkaveAxUnkT6rmvo2tbd4S2/MHA/x52+nSRjos9pNx3cAMkwGS590byNvZoDE2LuB7XhL15ALamuZf+ug833Nr1IYa9f8O/ZrL/aupAK8EqS3viHpRC/+uNOkR21zhR5NCOPNtDMepUc+MeoyuqK3vRZ2oG5jHCeO93sd1A7MRIDWUEIkhcIvy6M35uMBYt/vbsXhbAe28JuqVMdi4uYXb6ILYDofG8qmFtOdPoz3/FNviU5nWv4O/tsuWK/wwzx1ziuPKHXF8+eP48uKou+uR2klvdj00tqNHEZnL6bGPDDpk3Fm3NodH2BrM42wMmFuUCxKD+G1i8cGqjEc1jm1peDTtNVETBbXn/bF/5HobnwCJNmv8hdk41v+0mnphw202d62keWyeHdvvCl3BHE6LOmoIP3cbXdscAqSGEyJBrc11Mv6qqozHCNIbOs5r80aKAfllsfhwQU1Kdwac1Z8fCxidVsxBFse8C2KR3vxpct36+LPYbp/VDWxFugh2XOwjfxE1oTuYiwCpBYRIUFuzBkhj3e4+VRmvbU+DjCMMNiadUJV1RT49Une4zVJL2+uCZfM43pDFcf9jsXhu5U6k0qWQ7/DYXsOcq8+k9fW2NuppsY+8WVewEAKklhAiMQA76oL8xrrdFCp9qCrjkcKzY8Bxsa0yeTJ1ZVXOZNrTTon95cG2jmPtAjUpdHH33WiOe/8Qi2dUU3PrUJ70Io702Nr7hrwek9bX1/lRj4h95DNDXo95lxtEgNQiQiSWyVXxMqQrRA8roB3rq6m5f7jTyVVZV+PTVeEPj3W7o/y7m2uizDV2v2UTurBoceL5uVg8KupHeqMoaa6qx8f2+aiuYBbXR/151EGxj/xsBOtbrcubQ4DUMkIkqK+xbvd/VMOZ3HAp3hiDjmttlbucSKUB+xmFNSu9ifOkEa7PRJmUINfV7lbeiRHHvhQePTLqb+16RUh3hu3tDmFmkd7A9zdRD4r94/2mIGApBEgtJESC+p0EjXW7aWLkswtpV3qLyzttnlm9KWpTYW36y3742OQT9ybdPeONl8uX62p3a+eCiRPRm6JeHF8+Oepyu2AW6SLGM2M7pMfW1o5wve4ALV96U+47qqng6JioX414/faRBhEgtZQQiSXwjHvek6Azo36rkHalN3XcavPMehL186rMq/DnjHW792jwiXuT5u9ZVcDxpu48jpfvGPjFWDwi6tioX+mRkVhXTb1Y4yHR/5/UHcyQ7g58RdT9Yt84un+nNCxV59f/oJ2ESCySt2xkEif+fxaLpxfSnItiAPIJW2VOp1blvZno3tVUiDTsE2sn7vXVpElOcwWKrrJXkyHSrVFviy/3ijou6hd6ZSjSPDbprtcHRH+/IWpDpnY47pclXchKdxv9fuwTKVQ8Jer6zG3axWZphMntKEBqOSESFG2nOOF/UDX1vHopjrVZ5j15Slf4PlBg054a9fKGnriboBPKOxbe1H81eDfqhVEX6ZWBSOP2l0TtGf37mgyPI5Vy3GfKbf2/WydE7Re1R/9uo28U1EYhYzOkN0F7pR5TIVL6ZbTX3Q7ZV29AcQfqv6vyPdKypU/HgORrNsuCvL2aesNJaYOmt411u/8a2/G7DevvJo1nXNxbvlxXu92pO4v+I88fTBXHn9+O5fOjnhn1u3pn4d0Y9fE0Jmjg8ZvF+UnUxf1KIdE3Yp/YVGpj4++8CzzNOi8RIDFFiETLTtDqYp+ohxfUnjfYJAs+YboyBk2fii//Z2FN2z7qvGjbI6ONGxt04t6kOdpy9eGODerDFfbDYo+NP47FX6WK49CDY3lI1MFRT2zYPrhcKXRLF2zSnFKfKTw08vbNwboj6rqoq/qVAqP09+YHUT+KfWG98wcy2dUG5S6ESMzjy1FX6oaRnojcP+rcQtpzRQxaPO66OCdFlTrQSydrnx/Cz00nPJdVU5O6ru8PhNf1/yy9Png5odX2M04wd+6ftKQ5Z1LgsqFB+83/jfpOhvX+qAmdN9btbt8/6b6xX2v7++GN/W/Z0D85X6od+/ti1d//tunvg2lg7c6QRYjfKeltbalO7W+39PjNY6N+P2r/qD1b1B1pnqhLqqlHkabvKqnLce38qP+wR89rY//3YDoW3d7/3biuf4xKlUKjX6aKbT/RoM+9uaCxLAOwIg7YE7qBmZ7QfUddQqTdXv+p7dbaYgAAzRLnKHeLxd7V1J246dG3h0Q9MOq+VT3veknnXNdUUxfjUnCWQtt0V8l3xnu9a21xoPiD2MSEO5D4Te5EAgAgp/6bo87v16+Ndbvp/GWPampy7rRMb5m8V3+5prrzzsRdZyy3G0ITp++wXF/deSfJ+n6loOiX/WV6K1Yv6mf9+aAAakuAxKyESAAAlGa810uP//T6tSBj3W6a/DWFSTMnOl8z4+sUMM18YcX040bTUii0uf91mrB4fY0eMQMYGAESWyVEAgCg7vpvqdqkJwCWx6timVMKka66/rMmzgUAAIAWEyAxLyESAAAAtJsAiQURIgEAAEB7CZBYMCESAAAAtJMAiUURIgEAAED7CJBYNCESAAAAtIsAiSURIgEAAEB7CJBYMiESAAAAtIMAiWURIgEAAEDzCZBYNiESAAAANJsAiYEQIgEAAEBzCZAYGCESAAAANJMAiYESIgEAAEDzCJAYOCESAAAANIsAiaEQIgEAAEBzCJAYGiESAAAANIMAiaESIgEAAED9CZAYOiESAAAA1JsAiZEQIgEAAEB9CZAYGSESAAAA1JMAiZESIgEAAED9CJAYOSESAAAA1IsAiSyESAAAAFAfAiSyESIBAABAPQiQyEqIBAAAAOUTIJGdEAkAAADKJkCiCEIkAAAAKJcAiWIIkQAAAKBMAiSKIkQCAACA8giQKI4QCQAAAMoiQKJIQiQAAAAohwCJYgmRAAAAoAwCJIomRAIAAID8BEgUT4gEAAAAeQmQqAUhEgAAAOQjQKI2hEgAAACQhwCJWhEiAQAAwOhtqwuomxQixeLSPXZ5wgq9AQAAAMP3XwIMACVQO1oQMrAkAAAAAElFTkSuQmCC"
        }
    },
    [
        [516, 1, 2]
    ]
]);